(function(){var k;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function l(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}function ca(a){if(!(a instanceof Array)){a=l(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}var ea="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},fa;if("function"==typeof Object.setPrototypeOf)fa=Object.setPrototypeOf;else{var ha;a:{var ia={sg:!0},ja={};try{ja.__proto__=ia;ha=ja.sg;break a}catch(a){}ha=!1}fa=ha?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ka=fa;function p(a,b){a.prototype=ea(b.prototype);a.prototype.constructor=a;if(ka)ka(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.Xy=b.prototype}var la="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};function ma(a){a=["object"==typeof globalThis&&globalThis,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var oa=ma(this);function pa(){pa=function(){};oa.Symbol||(oa.Symbol=qa)}function sa(a,b){this.xv=a;la(this,"description",{configurable:!0,writable:!0,value:b})}sa.prototype.toString=function(){return this.xv};var qa=function(){function a(c){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new sa("jscomp_symbol_"+(c||"")+"_"+b++,c)}var b=0;return a}();function ta(){pa();var a=oa.Symbol.iterator;a||(a=oa.Symbol.iterator=oa.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&la(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return ua(aa(this))}});ta=function(){}}
function ua(a){ta();a={next:a};a[oa.Symbol.iterator]=function(){return this};return a}function va(){this.Ok=!1;this.th=null;this.wv=void 0;this.Ug=1;this.zs=this.Uv=0;this.bk=null}function wa(a){if(a.Ok)throw new TypeError("Generator is already running");a.Ok=!0}va.prototype.Zk=function(a){this.wv=a};va.prototype.Dl=function(a){this.bk={ow:a,Uw:!0};this.Ug=this.Uv||this.zs};va.prototype.return=function(a){this.bk={return:a};this.Ug=this.zs};function xa(a){this.Ba=new va;this.tx=a}
xa.prototype.Zk=function(a){wa(this.Ba);if(this.Ba.th)return ya(this,this.Ba.th.next,a,this.Ba.Zk);this.Ba.Zk(a);return Aa(this)};function Ba(a,b){wa(a.Ba);var c=a.Ba.th;if(c)return ya(a,"return"in c?c["return"]:function(d){return{value:d,done:!0}},b,a.Ba.return);a.Ba.return(b);return Aa(a)}xa.prototype.Dl=function(a){wa(this.Ba);if(this.Ba.th)return ya(this,this.Ba.th["throw"],a,this.Ba.Zk);this.Ba.Dl(a);return Aa(this)};function ya(a,b,c,d){try{var e=b.call(a.Ba.th,c);if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object");if(!e.done)return a.Ba.Ok=!1,e;var f=e.value}catch(g){return a.Ba.th=null,a.Ba.Dl(g),Aa(a)}a.Ba.th=null;d.call(a.Ba,f);return Aa(a)}
function Aa(a){for(;a.Ba.Ug;)try{var b=a.tx(a.Ba);if(b)return a.Ba.Ok=!1,{value:b.value,done:!1}}catch(c){a.Ba.wv=void 0,a.Ba.Dl(c)}a.Ba.Ok=!1;if(a.Ba.bk){b=a.Ba.bk;a.Ba.bk=null;if(b.Uw)throw b.ow;return{value:b.return,done:!0}}return{value:void 0,done:!0}}function Ca(a){this.next=function(b){return a.Zk(b)};this.throw=function(b){return a.Dl(b)};this.return=function(b){return Ba(a,b)};ta();this[Symbol.iterator]=function(){return this}}
function Da(a,b){b=new Ca(new xa(b));ka&&ka(b,a.prototype);return b}function Ea(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var Fa="function"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)Ea(d,e)&&(a[e]=d[e])}return a};function Ga(a,b){if(b){var c=oa;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&la(c,a,{configurable:!0,writable:!0,value:b})}}Ga("Object.assign",function(a){return a||Fa});Ga("Promise",function(a){function b(g){this.zl=0;this.Nq=void 0;this.Dj=[];var h=this.$o();try{g(h.resolve,h.reject)}catch(m){h.reject(m)}}function c(){this.vg=null}function d(g){return g instanceof b?g:new b(function(h){h(g)})}if(a)return a;c.prototype.Rr=function(g){if(null==this.vg){this.vg=[];var h=this;this.Sr(function(){h.pw()})}this.vg.push(g)};var e=oa.setTimeout;c.prototype.Sr=function(g){e(g,0)};c.prototype.pw=function(){for(;this.vg&&this.vg.length;){var g=this.vg;this.vg=[];for(var h=0;h<g.length;++h){var m=g[h];g[h]=null;try{m()}catch(n){this.Jv(n)}}}this.vg=null};c.prototype.Jv=function(g){this.Sr(function(){throw g;})};b.prototype.$o=function(){function g(n){return function(r){m||(m=!0,n.call(h,r))}}var h=this,m=!1;return{resolve:g(this.Bx),reject:g(this.Jq)}};b.prototype.Bx=function(g){if(g===this)this.Jq(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof b)this.Px(g);else{a:switch(typeof g){case "object":var h=null!=g;break a;case "function":h=!0;break a;default:h=!1}h?this.Ax(g):this.Gs(g)}};b.prototype.Ax=function(g){var h=void 0;try{h=g.then}catch(m){this.Jq(m);return}"function"==typeof h?this.Qx(h,g):this.Gs(g)};b.prototype.Jq=function(g){this.Ku(2,g)};b.prototype.Gs=function(g){this.Ku(1,g)};b.prototype.Ku=function(g,h){if(0!=this.zl)throw Error("Cannot settle("+g+", "+h+"): Promise already settled in state"+this.zl);this.zl=g;this.Nq=h;this.qw()};b.prototype.qw=function(){if(null!=this.Dj){for(var g=0;g<this.Dj.length;++g)f.Rr(this.Dj[g]);this.Dj=null}};var f=new c;b.prototype.Px=function(g){var h=this.$o();g.km(h.resolve,h.reject)};b.prototype.Qx=function(g,h){var m=this.$o();try{g.call(h,m.resolve,m.reject)}catch(n){m.reject(n)}};b.prototype.then=function(g,h){function m(E,J){return"function"==typeof E?function(C){try{n(E(C))}catch(K){r(K)}}:J}var n,r,v=new b(function(E,J){n=E;r=J});this.km(m(g,n),m(h,r));return v};b.prototype.catch=function(g){return this.then(void 0,g)};b.prototype.km=function(g,h){function m(){switch(n.zl){case 1:g(n.Nq);break;case 2:h(n.Nq);break;default:throw Error("Unexpected state: "+n.zl);}}var n=this;null==this.Dj?f.Rr(m):this.Dj.push(m)};b.resolve=d;b.reject=function(g){return new b(function(h,m){m(g)})};b.race=function(g){return new b(function(h,m){for(var n=l(g),r=n.next();!r.done;r=n.next())d(r.value).km(h,m)})};b.all=function(g){var h=l(g),m=h.next();return m.done?d([]):new b(function(n,r){function v(C){return function(K){E[C]=K;J--;0==J&&n(E)}}var E=[],J=0;do E.push(void 0),J++,d(m.value).km(v(E.length-
1),r),m=h.next();while(!m.done)})};return b});Ga("Number.isNaN",function(a){return a?a:function(b){return"number"===typeof b&&isNaN(b)}});function Ha(a,b){ta();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d}Ga("Array.prototype.keys",function(a){return a?a:function(){return Ha(this,function(b){return b})}});Ga("Array.from",function(a){return a?a:function(b,c,d){c=null!=c?c:function(h){return h};var e=[],f="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];if("function"==typeof f){b=f.call(b);for(var g=0;!(f=b.next()).done;)e.push(c.call(d,f.value,g++))}else for(f=b.length,g=0;g<f;g++)e.push(c.call(d,b[g],g));return e}});Ga("WeakMap",function(a){function b(m){this.Ik=(h+=Math.random()+1).toString();if(m){m=l(m);for(var n;!(n=m.next()).done;)n=n.value,this.set(n[0],n[1])}}function c(){}function d(m){var n=typeof m;return"object"===n&&null!==m||"function"===n}function e(m){if(!Ea(m,g)){var n=new c;la(m,g,{value:n})}}function f(m){var n=Object[m];n&&(Object[m]=function(r){if(r instanceof c)return r;e(r);return n(r)})}if(function(){if(!a||!Object.seal)return!1;try{var m=Object.seal({}),n=Object.seal({}),r=new a([[m,2],[n,3]]);if(2!=r.get(m)||3!=r.get(n))return!1;r.delete(m);r.set(n,4);return!r.has(m)&&4==r.get(n)}catch(v){return!1}}())return a;var g="$jscomp_hidden_"+Math.random();f("freeze");f("preventExtensions");f("seal");var h=0;b.prototype.set=function(m,n){if(!d(m))throw Error("Invalid WeakMap key");e(m);if(!Ea(m,g))throw Error("WeakMap key fail: "+m);m[g][this.Ik]=n;return this};b.prototype.get=function(m){return d(m)&&Ea(m,g)?m[g][this.Ik]:void 0};b.prototype.has=function(m){return d(m)&&Ea(m,g)&&Ea(m[g],this.Ik)};b.prototype.delete=function(m){return d(m)&&Ea(m,g)&&Ea(m[g],this.Ik)?delete m[g][this.Ik]:!1};return b});Ga("Map",function(a){function b(){var h={};return h.Cb=h.next=h.head=h}function c(h,m){var n=h.Sf;return ua(function(){if(n){for(;n.head!=h.Sf;)n=n.Cb;for(;n.next!=n.head;)return n=n.next,{done:!1,value:m(n)};n=null}return{done:!0,value:void 0}})}function d(h,m){var n=m&&typeof m;"object"==n||"function"==n?f.has(m)?n=f.get(m):(n=""+ ++g,f.set(m,n)):n="p_"+m;var r=h.pk[n];if(r&&Ea(h.pk,n))for(h=0;h<r.length;h++){var v=r[h];if(m!==m&&v.key!==v.key||m===v.key)return{id:n,list:r,index:h,Rc:v}}return{id:n,list:r,index:-1,Rc:void 0}}function e(h){this.pk={};this.Sf=b();this.size=0;if(h){h=l(h);for(var m;!(m=h.next()).done;)m=m.value,this.set(m[0],m[1])}}if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var h=Object.seal({x:4}),m=new a(l([[h,"s"]]));if("s"!=m.get(h)||1!=m.size||m.get({x:4})||m.set({x:4},"t")!=m||2!=m.size)return!1;var n=m.entries(),r=n.next();if(r.done||r.value[0]!=h||"s"!=r.value[1])return!1;r=n.next();return r.done||4!=r.value[0].x||"t"!=r.value[1]||!n.next().done?!1:!0}catch(v){return!1}}())return a;ta();var f=new WeakMap;e.prototype.set=function(h,m){h=0===h?0:h;var n=d(this,h);n.list||(n.list=this.pk[n.id]=[]);n.Rc?n.Rc.value=m:(n.Rc={next:this.Sf,Cb:this.Sf.Cb,head:this.Sf,key:h,value:m},n.list.push(n.Rc),this.Sf.Cb.next=n.Rc,this.Sf.Cb=n.Rc,this.size++);return this};e.prototype.delete=function(h){h=d(this,h);return h.Rc&&h.list?(h.list.splice(h.index,1),h.list.length||delete this.pk[h.id],h.Rc.Cb.next=h.Rc.next,h.Rc.next.Cb=h.Rc.Cb,h.Rc.head=null,this.size--,!0):!1};e.prototype.clear=function(){this.pk={};this.Sf=this.Sf.Cb=b();this.size=0};e.prototype.has=function(h){return!!d(this,h).Rc};e.prototype.get=function(h){return(h=d(this,h).Rc)&&h.value};e.prototype.entries=function(){return c(this,function(h){return[h.key,h.value]})};e.prototype.keys=function(){return c(this,function(h){return h.key})};e.prototype.values=function(){return c(this,function(h){return h.value})};e.prototype.forEach=function(h,m){for(var n=this.entries(),r;!(r=n.next()).done;)r=r.value,h.call(m,r[1],r[0],this)};e.prototype[Symbol.iterator]=e.prototype.entries;var g=0;return e});Ga("Array.prototype.values",function(a){return a?a:function(){return Ha(this,function(b,c){return c})}});Ga("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});Ga("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=d[c];if(f===b||Object.is(f,b))return!0}return!1}});function Ia(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""}
Ga("String.prototype.includes",function(a){return a?a:function(b,c){return-1!==Ia(this,b,"includes").indexOf(b,c||0)}});Ga("Array.prototype.fill",function(a){return a?a:function(b,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=b;return this}});Ga("Set",function(a){function b(c){this.sf=new Map;if(c){c=l(c);for(var d;!(d=c.next()).done;)this.add(d.value)}this.size=this.sf.size}if(function(){if(!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var c=Object.seal({x:4}),d=new a(l([c]));if(!d.has(c)||1!=d.size||d.add(c)!=d||1!=d.size||d.add({x:4})!=d||2!=d.size)return!1;var e=d.entries(),f=e.next();if(f.done||f.value[0]!=c||f.value[1]!=c)return!1;f=e.next();return f.done||f.value[0]==c||4!=f.value[0].x||f.value[1]!=f.value[0]?!1:e.next().done}catch(g){return!1}}())return a;ta();b.prototype.add=function(c){c=0===c?0:c;this.sf.set(c,c);this.size=this.sf.size;return this};b.prototype.delete=function(c){c=this.sf.delete(c);this.size=this.sf.size;return c};b.prototype.clear=function(){this.sf.clear();this.size=0};b.prototype.has=function(c){return this.sf.has(c)};b.prototype.entries=function(){return this.sf.entries()};b.prototype.values=function(){return this.sf.values()};b.prototype.keys=b.prototype.values;b.prototype[Symbol.iterator]=b.prototype.values;b.prototype.forEach=function(c,d){var e=this;this.sf.forEach(function(f){return c.call(d,f,f,e)})};return b});Ga("String.prototype.startsWith",function(a){return a?a:function(b,c){var d=Ia(this,b,"startsWith");b+="";var e=d.length,f=b.length;c=Math.max(0,Math.min(c|0,d.length));for(var g=0;g<f&&c<e;)if(d[c++]!=b[g++])return!1;return g>=f}});function Ja(){this.wf=!0;this.Je=this.Vk=10}function Ka(a,b){this.Dx=a;this.listener=b}
Ka.prototype.removeListener=function(){this.Dx.removeListener(this.listener)};function La(a,b){b.add(a)}function q(a,b){this.ps=a;this.$h=[];this.history=[];this.options=Object.assign(new Ja,b)}function t(a,b,c){c=void 0===c?!0:c;a.$h.push(b);if(c){c=l(a.history);for(var d=c.next();!d.done;d=c.next())b(d.value)}a.$h.length>a.options.Je&&u('EventRouter "'+a.ps+'" has too many listeners',{listeners:a.$h.length,"max-listeners":a.options.Je});return new Ka(a,b)}
q.prototype.once=function(a,b){function c(e){a(e);d.removeListener(c)}var d=this;return t(this,c,void 0===b?!0:b)};function w(a,b){a.history.push(b)>a.options.Vk&&a.history.shift();for(var c=l(a.$h),d=c.next();!d.done;d=c.next()){d=d.value;try{d(b)}catch(e){x("Event listener error: "+e,{event_name:a.ps,event_listeners:a.$h.length})}}}q.prototype.removeListener=function(a){a=this.$h.indexOf(a);0<=a&&this.$h.splice(a,1)};function Ma(){this.No=[]}Ma.prototype.add=function(a){this.No.push(a)};function Oa(a){for(var b=l(a.No),c=b.next();!c.done;c=b.next())c.value.removeListener();a.No=[]};var Pa=new q("pageContextLoaded",{Vk:1});var Qa=window.Hls,Ra;function y(){if(void 0===Ra){var a=!0;try{window.localStorage.setItem("cbModernizr","cbModernizr"),window.localStorage.removeItem("cbModernizr")}catch(b){a=!1}Ra=a}return Ra}function Sa(){for(var a="",b=l(["-webkit-","-moz-","-o-","-ms-"]),c=b.next();!c.done;c=b.next())a+="background-image:"+c.value+"linear-gradient(left top, #9f9, white);\n";b=document.createElement("a").style;b.cssText=a;return-1<(""+b.backgroundImage).indexOf("gradient")}
function Ta(){return void 0!==window.history&&void 0!==window.history.pushState}function Ua(){try{return!!document.createElement("audio").canPlayType}catch(a){return!1}}var Va;function Wa(){if(void 0!==Va)return Va;Va=!1;try{if("webkitAudioContext"in window)var a=new webkitAudioContext;else if("AudioContext"in window)a=new AudioContext;else return Va;if(null===a)return Va;Va="function"===typeof a.createGain&&"function"===typeof a.decodeAudioData&&"function"===typeof a.createBufferSource&&"function"===typeof a.createBufferSource().start;"function"===typeof a.close&&a.close()}catch(b){x("Error checking for audio context: "+b)}return Va}var Xa;function Ya(){if(void 0!==Xa)return Xa;var a=document.createElement("audio");return Xa="function"===typeof a.canPlayType&&""!==a.canPlayType("audio/mpeg;codecs=mp3")}Object.prototype.hasOwnProperty.call(window,"onorientationchange");function Za(){var a=document.createElement("video").canPlayType("application/vnd.apple.mpegurl");return"probably"===a||"maybe"===a}
function $a(){return window.hasOwnProperty("requestAnimationFrame")?window.requestAnimationFrame:window.hasOwnProperty("webkitRequestAnimationFrame")?window.webkitRequestAnimationFrame:window.hasOwnProperty("mozRequestAnimationFrame")?window.mozRequestAnimationFrame:function(a){setTimeout(function(){a(0)},1E3/7);return Date.now()}}var ab;function bb(){if(void 0!==ab)return ab;try{var a=Object.defineProperty({},"passive",{get:function(){ab=!0}});window.addEventListener("testPassive",function(){},a);window.removeEventListener("testPassive",function(){},a);void 0===ab&&(ab=!1)}catch(b){ab=!1}return ab}var cb,db=!1;setTimeout(function(){db=!0},200);function eb(){if(void 0!==cb&&!db)return cb;var a=document.documentElement.scrollTop;document.documentElement.style.height=window.innerHeight+1+"px";document.documentElement.scrollTop=a+1;cb=document.documentElement.scrollTop!==a?document.documentElement:document.body;document.documentElement.style.height="";document.documentElement.scrollTop=a;db=!1;return cb}function fb(){return void 0!==window.performance&&void 0!==window.performance.now}
function gb(){return(/iPad/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints)&&void 0===window.MSStream}function hb(){return/iPod/i.test(navigator.userAgent)&&void 0===window.MSStream||/iPhone/i.test(navigator.userAgent)&&void 0===window.MSStream||gb()}function ib(){return/Android|webOS|BlackBerry|IEMobile|Opera Mini|SamsungBrowser/i.test(navigator.userAgent)||hb()}function jb(){return document.documentMode?!0:!1}
function kb(){return/Puffin/i.test(navigator.userAgent)}var lb;(new Promise(function(a){if(void 0!==lb)a(lb);else{var b=new Image;b.onerror=function(){a(!1)};b.onload=function(){lb=2!==b.width;a(lb)};b.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAASUkqAAgAAAABABIBAwABAAAABgASAAAAAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAIDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD+/iiiigD/2Q=="}})).then(function(a){lb=a});var mb={},nb={};function ob(a){return Number.isNaN(Number(a))?0:Number(a)}
function z(a,b,c,d,e){d=void 0===d?!1:d;e=void 0===e?!1:e;if(b===window)var f=mb[a]=ob(mb[a])+1;else if(b===document)f=nb[a]=ob(nb[a])+1;else if(b instanceof HTMLElement){var g="data-listener-count-"+a;f=ob(b.getAttribute(g))+1;b.setAttribute(g,""+f)}else f=1;42<f&&u('event listener "'+a+'" has too many listeners. Element: '+(b===document?"document":b===window?"window":b.outerHTML.split(">")[0]+">"),{listeners:f,"max-listeners":42});void 0!==window.addEventListener?(d=bb()?{capture:d,passive:e}:d,b.addEventListener(a,c,d)):void 0!==window.attachEvent?b.attachEvent("on"+a,c):x("Could not resolve addEventListenerPoly( "+a+" ) to "+b)}function pb(a,b){var c=void 0===c?!1:c;var d=void 0===d?!1:d;for(var e=l(["click","mousedown","touchstart"]),f=e.next();!f.done;f=e.next())z(f.value,a,b,c,d)}
function qb(a,b,c,d){d=void 0===d?!1:d;var e=void 0===e?!1:e;if(b===window)var f=mb[a]=ob(mb[a])-1;else if(b===document)f=nb[a]=ob(nb[a])-1;else if(b instanceof HTMLElement){var g="data-listener-count-"+a;f=ob(b.getAttribute(g))-1;b.setAttribute(g,""+f)}else f=1;0>f&&x('event listener "'+a+'" removed without being added',{listeners:f});void 0!==window.removeEventListener?(d=bb()?{capture:d,passive:e}:d,b.removeEventListener(a,c,d)):void 0!==window.detachEvent?b.detachEvent("on"+a,c):x("Could not resolve removeEventListenerPoly( "+
a+" ) from "+b)};function rb(){return"FRAGMENT"}
function sb(a,b,c){var d=tb(a)?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a);c=ub(c);d.appendChild(c);var e=null===b?{}:b;Object.keys(e).forEach(function(f){if("style"===f)Object.assign(d.style,e[f]);else if("ref"===f&&"function"===typeof e.ref)e.ref(d,e);else if("className"===f)d.setAttribute("class",e[f]);else if("htmlFor"===f)d.setAttribute("for",e[f]);else if("xlinkHref"===f)d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e[f]);else if("dangerouslySetInnerHTML"===f)d.innerHTML=e[f].Av;else if(0===f.indexOf("on")){var g=f.toLowerCase(),h=!1;-1<f.indexOf("Capture",f.length-7)&&(h=!0,g=g.slice(-7));null===d[g]?z(g.slice(2),d,e[f],h):u("Event declared for JSX element that does not exist on type "+a+": "+f)}else d.setAttribute(f,e[f])});return d}function tb(a){var b=new RegExp("^"+a+"$","i");return["path","svg","use","g"].some(function(c){return b.test(c)})}
function ub(a){function b(d){d instanceof HTMLElement||d instanceof SVGElement||d instanceof Comment||d instanceof DocumentFragment?c.appendChild(d):"string"===typeof d||"number"===typeof d?c.appendChild(document.createTextNode(""+d)):d instanceof Array?d.forEach(b):!1===d||null===d||u("Unexpected child in Tsx fragment: "+d)}var c=document.createDocumentFragment();a.forEach(b);return c}
function vb(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];"function"===typeof a?(e=Object.assign({},{},b,{children:d}),e=a(e),d="FRAGMENT"===e?ub(d):e):d=sb(a,b,d);return d};function wb(a){var b=a.length+1;return document.cookie.split(";").map(function(c){return c.trim()}).filter(function(c){return c.substring(0,b)===a+"="}).map(function(c){return decodeURIComponent(c.substring(b))})[0]}function xb(a){var b=a.length+1;return document.cookie.split(";").map(function(c){return c.trim()}).filter(function(c){return c.substring(0,b)===a+"="}).map(function(c){return decodeURIComponent(c.substring(b))})[0]}
function Ab(a,b,c){var d=new Date;d.setTime(d.getTime()+1E3*c);document.cookie=a+"="+b+"; expires="+d.toUTCString()+"; path=/"};if(void 0===(new FormData).has){var Bb=document.createElement("script");Bb.src="https://ssl-ccstatic.highwebmedia.com/js/formdata.min.js";document.head.appendChild(Bb)}function Cb(a){var b="";null===a.match(/^[a-zA-Z]+:\/\//)&&(b="/");return""+b+a}function Db(a){for(var b=new FormData,c=l(Object.keys(a)),d=c.next();!d.done;d=c.next())d=d.value,b.append(d,a[d]);return b}
function Eb(a){switch(a.readyState){case 0:return"request not sent";case 4:switch(a.status){case 0:return"network error";case 400:return"bad request";case 401:return"unauthorized";case 403:return"access denied";case 404:return"not found";case 429:return"request throttled";case 500:return"server error";default:return"unknown status "+a.status}default:return"unknown ready state "+a.readyState}}
function Fb(a){var b=Error.call(this,Eb(a));this.message=b.message;"stack"in b&&(this.stack=b.stack);var c=this;this.Ud=a;this.toString=function(){return"XhrError: "+c.message}}p(Fb,Error);function Gb(){new Promise(function(a){a()})}function Hb(a){return 200<=a&&299>=a||1223===a}function Ib(a){return Jb(a,6E4)[1]}
function Jb(a,b){b=void 0===b?6E4:b;var c=new XMLHttpRequest;return[c,new Promise(function(d,e){c.onload=function(){Hb(c.status)?d(c):e(new Fb(c))};c.onerror=function(){e(new Fb(c))};c.open("GET",Cb(a));c.withCredentials=!0;c.timeout=b;c.setRequestHeader("X-Requested-With","XMLHttpRequest");c.send()})]}
function A(a,b){var c=b instanceof FormData?b:Db(b);b=Kb(c);void 0===b?x("CSRF token is undefined",{cookies:document.cookie}):c.set("csrfmiddlewaretoken",b);return new Promise(function(d,e){var f=new XMLHttpRequest;f.open("POST",Cb(a),!0);f.withCredentials=!0;f.onerror=function(){e(new Fb(f))};f.onload=function(){Hb(f.status)?d(f):e(new Fb(f))};f.setRequestHeader("X-Requested-With","XMLHttpRequest");f.send(c)})}
function Kb(a){var b;a.has("csrfmiddlewaretoken")&&(b=a.get("csrfmiddlewaretoken"));return void 0!==wb("csrftoken")?wb("csrftoken"):b};function Lb(a){function b(d,e){e=String(e.getAttribute("data-callback"));"null"!==e&&(window[e]=function(){d.rt=!0;d.qm()})}var c={name:"",yd:"",ip:"",qt:!1,fn:!1,Nk:!1,lt:!1,Qm:!0,Tw:!1,Sp:!1,Iy:"",rt:!1,et:a,Vh:function(){c.ip=String(a.tagName.toLowerCase());var d=c.Gw();c.name=null!==d?d:"";c.yd=c.name;if("captcha"===a.getAttribute("data-type"))c.Sp=!0,b(c,a);else{var e=String(a.getAttribute("id")).split("_"),f=e[e.length-1];var g=["day","month","year"];d=!1;if(-1<g.indexOf(f))for(e.pop(),e=e.join("_"),d=!0,g=l(g),f=g.next();!f.done;f=g.next())null===document.querySelector("#"+(e+"_"+f.value))&&(d=!1);d&&(c.Tw=!0,d=String(a.getAttribute("id")).split("_"),d.shift(),d.pop(),c.yd=d.join("_"))}d=String(a.getAttribute("type"));"checkbox"===d?c.fn=!0:"hidden"===d?c.Nk=!0:"select"===c.ip&&"select-multiple"===a.type&&(c.qt=!0);c.lt=null!==a.getAttribute("disabled");c.Us()&&(c.Qm=!1)},Gw:function(){if("captcha"===a.getAttribute("data-type")){var d=String(a.getAttribute("id")).split("_");d.shift();d=d.join("_")}else d=a.getAttribute("name");return d},by:function(){if(!c.Nk&&!c.Sp){var d=document.querySelector("#"+c.yd+"_spinner");null!==d&&d.classList.remove("formvalidate_hidden")}},Kw:function(){var d=document.querySelector("#"+c.yd+"_spinner");null!==d&&d.classList.add("formvalidate_hidden")},Ge:function(){return String(a.getAttribute("id"))},Pm:function(){return c.fn?a.checked?"on":"":a.value},es:function(){c.Qm=!1},Us:function(){if(c.Nk)return!1;var d=document.querySelector("."+c.yd+"_error");return null!==d&&"none"!==d.style.display?!0:!1},Ou:function(d,e){c.Nk||(!0===e&&(c.Qm=!1),!1===c.Qm&&(document.querySelector("."+c.yd+"_error .error_msg").appendChild(document.createTextNode(d)),d=document.querySelector("."+c.yd+"_error"),d.style.display="tr"===String(d.tagName.toLowerCase())?"table-row":"block",d=document.querySelector("."+c.yd+"_label"),null!==d&&d.classList.add("formvalidate_error")))},qm:function(){if(!c.Nk){for(var d=document.querySelector("."+c.yd+"_error .error_msg");null!==d.firstChild;)d.removeChild(d.firstChild);document.querySelector("."+c.yd+"_error").style.display="none";d=document.querySelector("."+c.yd+"_label");null!==d&&d.classList.remove("formvalidate_error")}}};c.Vh();return c}
function Mb(a){var b=!1;b=void 0===b?!0:b;var c={Nh:[],st:!0,jn:!1,Pk:!1,Sl:"",lp:{},tt:{},ui:!1,Vh:function(){c.Sl=String(a.getAttribute("data-formvalidate"));c.Sl=c.Sl.substring(1,c.Sl.length);b&&z("submit",a,function(h){!0===c.jn?h.preventDefault():!1===c.st&&(c.jn=!0,c.validate(!0).then(function(){c.jn=!1}).catch(function(){c.jn=!1}),h.preventDefault())});var d=Number(a.getAttribute("data-formvalidate-eagerness"));0===d&&(d=2);if(b)for(var e=l(a.querySelectorAll("input[type=text], input[type=checkbox], input[type=password], input[type=email], select")),f=e.next();!f.done;f=e.next())f=f.value,z("change",f,function(h){c.Nh[c.lp[String(h.target.getAttribute("id"))]].es();1<=d&&c.validate()}),z("keyup",f,function(h){c.Nh[c.lp[String(h.target.getAttribute("id"))]].es();2<=d&&c.validate()});e=0;f=l(a.querySelectorAll("input[type=text], input[type=checkbox], input[type=hidden], input[type=password], input[type=email], select, .g-recaptcha"));for(var g=f.next();!g.done;g=f.next())g=Lb(g.value),c.Nh.push(g),c.lp[g.Ge()]=e,e+=1},Ai:function(){return c.Nh.map(function(d){if(""!==d.name&&!d.lt){if(d.qt)return Array.from(d.et.options).filter(function(f){return f.selected}).map(function(f){return encodeURIComponent(d.name)+"="+encodeURIComponent(f.value)}).join("&");if(!d.fn&&"radio"!==d.ip||d.et.checked){var e=d.Pm();return encodeURIComponent(d.name)+"="+encodeURIComponent(e)}}}).filter(function(d){return void 0!==d}).join("&").replace("%20","+")},validate:function(d){d=void 0===d?!1:d;if(!0===c.Pk&&!1===d)return c.ui=!0,new Promise(function(n){n()});c.Pk=!0;for(var e={},f={},g=!1,h=l(c.Nh),m=h.next();!m.done;m=h.next()){m=m.value;f[m.name]=m.Pm();if(!1===m.fn||""!==m.Pm())e[m.name]=m.Pm();if(f[m.name]!==c.tt[m.name]||!0===d)m.by(),g=!0}if(!1===g)return c.Pk=!1,c.ui&&(c.ui=!1,c.validate()),new Promise(function(n){n()});c.tt=Object.assign({},f);return A(c.Sl,e).then(function(n){n=JSON.parse(n.responseText);c.st=n.valid;for(var r=l(c.Nh),v=r.next();!v.done;v=r.next())v=v.value,!0===v.Sp&&!1===v.rt?(v.qm(),v.Ou("Captcha has to be completed",d)):void 0!==n.errors[v.yd]?(v.qm(),v.Ou(n.errors[v.yd],d)):v.qm(),v.Kw();c.Wv();if(void 0!==n.errors.__all__){n=l(n.errors.__all__);for(r=n.next();!r.done;r=n.next())c.Dv(r.value);c.$x()}c.Pk=!1;c.ui&&(c.ui=!1,c.validate())}).catch(function(n){Nb("error: "+n);c.Pk=!1;c.ui&&(c.ui=!1,c.validate())})},Dv:function(d){var e=document.querySelector("#error_notice > .errorlist"),f=document.createElement("li");f.appendChild(document.createTextNode(d));e.appendChild(f)},Wv:function(){var d=document.querySelector("#error_notice");if(null!==d&&(d.classList.add("formvalidate_hidden"),d=document.querySelector("#error_notice > .errorlist"),null!==d))for(;null!==d.firstChild;)d.removeChild(d.firstChild)},$x:function(){var d=document.querySelector("#error_notice");null!==d&&d.classList.remove("formvalidate_hidden")},Ny:function(){for(var d=!1,e=l(c.Nh),f=e.next();!f.done;f=e.next())f=f.value,d=d||f.Us();e=0!==Array.from(a.getElementsByClassName("errorlist")).filter(function(g){return""!==g.innerHTML.trim()}).length;return d||e}};c.Vh();return c};function Ob(a,b,c){c=void 0===c?!1:c;this.N=a;this.Uf=b;this.ss=2E3;this.Eo=!1;this.rs=0;a=navigator.userAgent.match(/Puffin\/(\d)/);this.fy=null!==a&&8>parseInt(a[1])?1500:100;c?Pb(this):Qb(this)}function Rb(a){return!a.Eo&&0<a.ss?(new Date).getTime()<=a.rs:a.Eo}function Sb(a,b){a.rs=b?0:(new Date).getTime()+a.ss;a.Eo=b}
function Qb(a){var b=Rb(a)?"https://cbjpeg.stream.highwebmedia.com/minifap/"+a.N+".jpg?f="+Math.random():"https://roomimg.stream.highwebmedia.com/ri/"+a.N+".jpg?"+Math.floor((new Date).getTime()/3E4);return new Promise(function(c,d){var e=new Image;e.onload=function(){a.Uf.src=e.src;c()};e.onerror=function(){d("Error downloading image "+b)};e.src=b})}function Pb(a){if(!Rb(a)&&!kb()){Sb(a,!0);var b=function(){Rb(a)&&Qb(a).then(function(){setTimeout(function(){b()},a.fy)}).catch(b)};b()}};function Tb(a){a=a.toLowerCase().split(" ");for(var b=0;b<a.length;b+=1)a[b]=a[b].charAt(0).toUpperCase()+a[b].slice(1);return a.join(" ")}function Ub(a){a=a.toLowerCase().split("_");for(var b=0;b<a.length;b+=1)a[b]=a[b].charAt(0).toUpperCase()+a[b].slice(1);return a.join("_")};var B=window.gettext;void 0===B&&(u("gettext is undefined."),B=function(a){return a});var Vb=window.ngettext;void 0===Vb&&(u("ngettext is undefined."),Vb=function(a,b,c){return 1<c?b:a});var D=window.interpolate;void 0===D&&(u("interpolate is undefined."),D=function(a){return a});function Wb(a){return D(B("Chat with %(username)s in a Live Adult Video Chat Room Now"),{username:Ub(a)},!0)}function Xb(a,b){return b?Vb("Token","Tokens",a):Vb("token","tokens",a)}
function Yb(a){return D(B("Confirm tip of %(tokens)s tokens"),{tokens:a},!0)}function Zb(a){return D(B('room subject changed to "%(subject)s"'),{subject:a},!0)}function $b(a){return D(B("%(username_title)s's Cam"),{username_title:Ub(a)},!0)}function ac(a){return D(B("Join %(modelname)s's Fan Club"),{modelname:Tb(a)},!0)}function bc(a){return D(B("You are a member of %(modelname)s's Fan Club"),{modelname:Tb(a)},!0)}function cc(a){return D(B("JOIN %(modelname)s's FAN CLUB"),{modelname:a},!0)}
function dc(a){return D(B('You will be taken to Join Fanclub Page for %(modelname)s.  Click "OK" to proceed.'),{modelname:Tb(a)},!0)}function ec(a){return D(B('You must be logged in to join %(modelname)s\'s fan club.  Click "OK" to login.'),{modelname:Tb(a)},!0)}function fc(a){return D(B("You are about to purchase this video for %(tokens)s %(tokenstext)s"),{tokens:a,tokenstext:Vb("token","tokens",a)},!0)}
function gc(a,b){return D(B("You are about to purchase this photo set (%(numphotos)s %(imagestext)s) for %(tokens)s %(tokenstext)s"),{numphotos:a,imagestext:Vb("image","images",a),tokens:b,tokenstext:Vb("token","tokens",b)},!0)}function hc(a){return D(B("Unlock this photo set (%(numphotos)s %(imagestext)s)"),{numphotos:a,imagestext:Vb("image","images",a)},!0)}function ic(a){return D(B("Unlock this video (%(duration)s)"),{duration:a},!0)}
function jc(a){return D(B("%(modelname)s has disabled their fan club."),{modelname:Tb(a)},!0)}function kc(a,b){return D(B("%(users_waiting)s of %(users_required)s users are ready to start a group show"),{users_waiting:a,users_required:b},!0)}function lc(a,b){return D(B("%(username)s changed Group Show price to %(price)s tokens per minute"),{username:a,price:b},!0)}function mc(a,b){return D(B("%(username)s changed Private Show price to %(price)s tokens per minute"),{username:a,price:b},!0)}
function nc(a,b){return D(B("%(username)s changed Spy on Private Show price to %(price)s tokens per minute"),{username:a,price:b},!0)}function oc(a){return D(B("%(price)s tokens per minute"),{price:a},!0)}
function pc(a,b,c,d){a=D(B("Enter private chat with %(username)s?\n%(price)s tokens per minute, minimum %(minMinutes)s minute(s)\n\n"),{username:a,price:b,minMinutes:c},!0);return a=d?a+B("This broadcaster allows private show recordings, so you will receive a recorded video of this show in your collection."):a+B("This broadcaster does not allow private show recordings, so you will not receive a recorded video of this show in your collection.")}
function qc(a,b){return D(B("Enter group show with %(room)s? (%(price)s tokens per minute)"),{room:a,price:b},!0)}function rc(a){return D(B("Broadcaster %(username)s is running these apps: "),{username:a},!0)}function sc(a){return D(B("PM conversation with %(username)s &lt;ctrl-l to close&gt;"),{username:a},!0)}
function tc(a){return D(B("After tipping %(min_tokens_to_vote)s tokens in a day, you'll be able to vote regarding your satisfaction with %(room)s."),{min_tokens_to_vote:25,room:Tb(a)},!0)}function uc(a){return D(B("Your confidential vote regarding %(room)s has been recorded. You may change your vote at any time today. Thank you for your feedback."),{room:Tb(a)},!0)}
function vc(){var a=F.ao;return D(B("Caution: %(siteName)s staff will NEVER contact you via chat or ask for your password."),{siteName:a},!0)}function wc(a){return D(B("Are you sure you want to rate %(room)s thumbs down?"),{room:Tb(a)},!0)}B("Send PM");var xc=B("You must be a supporter, fan club member, or moderator to send this private message."),yc=B("Sign up for a"),Cc=B("Supporter Membership");function Dc(a){return D(B("to send a pm to %(pmUser)s"),{pmUser:a},!0)}
function Ec(a){return D(B("%(username)s is ignored"),{username:a},!0)}function Fc(a){return D(B("Ignore %(username)s"),{username:a},!0)}var Gc=B("Chat Color"),Hc=B("Font Family"),Ic=B("Font Size"),Jc=B("Show Emoticons"),Kc=B("Emoticon Autocomplete Delay"),Lc=B("Highest Token Color"),Mc=B("Tip Volume"),Nc=B("View/Edit Ignored Users"),Oc=B("THE ACT OF MASTURBATING WHILE CHATTING ONLINE");B("CHAT ROOMS");B("BETA");B("TAGS");B("EARN FREE TOKENS");B("MY COLLECTION");var Pc=B("My Collection"),Qc=B("Login"),Rc=B("Log in"),Sc=B("log in");B("LOG IN");B("SIGN UP");var Tc=B("Sign Up"),Uc=B("Include an optional message:"),Vc=B("Send Tip"),Wc=B("SEND TIP"),Xc=B("Send a tip");B("Send tip to broadcaster");var Yc=B("Public Tipping"),Zc=B("Username is visible to all users."),$c=B("Anonymous Tipping"),ad=B("Username only visible to broadcaster."),bd=B("Send Anonymous Tip"),cd=B("Sending..."),dd=B("Click OK to continue to supporter signup.");B("Include optional message");B("Tip note...");B("Tap to chat...");var ed=B("This broadcaster doesn't accept tips."),fd=B("Purchase Tokens");B("Upgrade");B("Upgrade now");B("Supporter");B("Basic Member");B("MY PROFILE");B("LOG OUT");B("SEND FEEDBACK");var gd=B("My Profile"),hd=B("Log Out"),id=B("Send Feedback");B("Status");B("You have:");B("Get More");var jd=B("Get more tokens"),kd=B("Get More Tokens"),ld=B("connection established"),md=B("Chat disconnected. The broadcaster has set a new password on this room."),nd=B("Private & Groups"),od=B("Private"),pd=B("Start Private Show"),qd=B("Spy on Private Show"),sd=B("Private show has started."),td=B("Private show has finished."),ud=B("Private show has been declined."),vd=B("Cancel Private Request"),wd=B("Cannot cancel private show. Please try again in a few seconds."),xd=B("Leave Private Show"),yd=B("Private show request has been sent. Waiting on broadcaster to approve."),zd=B("In group show"),Ad=B("Cancel Group Request"),Bd=B("Waiting for group"),Cd=B("Join Group Show"),Dd=B("join group show"),Ed=B("Leave Group Show"),Fd=B("You are already requesting to join this group show.");B("Group Shows");var Gd=B("You left the group show."),Hd=B("Group show has started."),Id=B("Group show has finished."),Jd=B("Group show has been declined."),Kd=B("Broadcaster has returned from away mode."),Ld=B("You were disconnected because you have joined this room again."),Md=B("The broadcaster has kicked you from the room."),Nd=B("You were kicked from the room."),Od=B("signup to chat"),Pd=B("About Me"),Qd=B("Wish List"),Rd=B("PURCHASED");B("TOKENS");var Sd=B("OR"),Td=B("Photos and Videos"),Ud=B("Real Name"),Vd=B("Followers"),Wd=B("I am"),Xd=B("We are a"),Yd=B("Birthday"),Zd=B("Birth Date"),$d=B("Age"),ae=B("Body Type"),be=B("Body Decorations"),ce=B("Interested In"),de=B("Location"),ee=B("Language(s)"),fe=B("Last Broadcast"),ge=B("Languages"),he=B("Smoke Drink"),ie=B("Smoke / Drink"),je=B("User has no available BIO"),ke=B("Bio and Free Webcam");B("Unable to submit");B("Submitting...");var le=B("Loading"),me=B("loading"),ne=B("Chat settings saved"),oe=B("CHAT"),pe=B("SEND"),qe=B("TIP"),re=B("Users"),se=B("USERS"),te=B("a user"),ue=B("Report Abuse"),ve=B("REPORT ABUSE"),we=B("More Rooms"),xe=B("spy private show"),ye=B("Private Message with:");B("Unfollow");B("Follow");var ze=B("Refresh Rooms"),Ae=B("Female"),Be=B("FEMALE"),Ce=B("Male"),De=B("MALE"),Ee=B("Trans"),Fe=B("TRANS"),Ge=B("Couple"),He=B("COUPLE");B("Followed");var Ie=B("FOLLOWED"),Je=B("SPY SHOWS"),Ke=B("SAVE"),Le=B("Standard Emoticons"),Me=B("Upload Emoticons"),Ne=B("Your current balance:");B("Balance:");var Oe=B("You currently have: "),Pe=B("WARNING: This room has a low satisfaction rating."),Qe=B("TIP AT YOUR OWN RISK!"),Re=B("Enter tip amount:"),Se=B("Invalid tip amount!");B("Amount:");var Te=B("Toggle this window with CTRL-S"),Ue=B("Leave open after tipping"),Ve=B("Select One"),We=B("Please select a reason"),Xe=B("Loading user list"),Ze=B("refresh userlist");B("View Profile");var $e=B("Send private message"),af=B("HIDE ALL ADS NOW"),bf=B("Powered by ExoticAds<br>Buy/Sell Traffic"),cf=B("Show More"),df=B("Pics & Videos"),ef=B("Social Media"),ff=B("Unique Registered Viewers Watching"),gf=B("Points"),hf=B("Current Hour's Top Cams"),jf=B("Every hour, the cam with the most points wins a $10 prize. The cam in 2nd place wins a $5 prize.");B("Free Cams");B("Featured Cams");B("Female Cams");B("Male Cams");B("Couple Cams");B("Trans Cams");B("Free Cams by Age");B("Teen Cams (18+)");B("18 to 21 Cams");B("20 to 30 Cams");B("30 to 50 Cams");B("Mature Cams (50+)");B("Free Cams by Region");B("North American Cams");B("Other Region Cams");B("Euro Russian Cams");B("Asian Cams");B("South American Cams");B("Free Cams by Status");B("Exhibitionist Cams");B("HD Cams");B("Private Shows");B("New Cams");B("6 Tokens per Minute");B("12 Tokens per Minute");B("18 Tokens per Minute");B("30 Tokens per Minute");B("60 Tokens per Minute");B("90 Tokens per Minute");B("Terms & Conditions");B("Terms");B("Privacy Policy");B("Support");B("Feedback");B("Security Center");B("Law Enforcement");B("Billing");B("Disable Account");B("Apps");B("Contest");B("Affiliates");B("Affiliate Program");B("Buy Traffic");B("Jobs");B("Sitemap");var kf=B("dismiss this message");B("Only 5 #hashtags will be applied");var lf=B("dismiss"),mf=B("Register later"),nf=B("Already have an account?"),of=B("Login here"),pf=B("Please sign in using the form below"),qf=B("Username"),rf=B("Password"),sf=B("Keep me logged in"),tf=B("Forgot password?"),uf=B("Create Free Account"),vf=B("We've improved Chaturbate's mobile site by adding these feature(s):"),wf=B("Satisfaction Voting"),xf=B("Visit the "),yf=B("mobile site"),zf=B("survey"),Af=B(" again, or tell us why you're not satisfied in this ");B("Or ");var Bf=B("or");B("tell us why you left");B("the mobile site");var Cf=B("FOLLOWER BROWSER NOTIFICATIONS"),Df=B("Would you like to receive browser notifications when a broadcaster you follow comes online?"),Ef=B("Subscription failure. Please try again from the Settings & Privacy page on your profile."),Ff=B("Yes"),Gf=B("Not now"),Hf=B("This room requires a password."),If=B("Login to room"),Jf=B("Private conversation with"),Kf=B("Remove Ignored Users"),Lf=B("Unignore this user"),Mf=B("Unignored Users");B("Ignore");var Nf=B("Ignore this user"),Of=B("Report this message"),Pf=B("Ignored Users"),Qf=B("Click on a user to unignore them."),Rf=B("You must be logged in to ignore a user"),Sf=B("Room is currently offline"),Tf=B("Help us make the new Chaturbate player page better, "),Uf=B("Help us make the new player page better, "),Vf=B("share your thoughts"),Wf=B("Follow broadcasters to receive instant notification of when they come online.<br><br>Note: Your email address must be verified in order to receive notifications."),Xf=B("- UNFOLLOW"),Yf=B("+ FOLLOW"),Zf=B("Share"),$f=B("Bio"),ag=B("Contest Stats"),bg=B("Submit feedback to broadcaster"),cg=B("Optional comment for broadcaster:"),dg=B("Submitted"),eg=B("SATISFIED?");B("Satisfied?");var fg=B("SCAN CAMS"),gg=B("NEXT CAM"),hg=B("SKIP CAM"),ig=B("EXIT SCANNING"),jg=B("Token Linkcodes"),kg=B("Earn up to 10 tokens for every registered user and 500 tokens for users who broadcast (broadcasters must earn $20.00 before they qualify)."),lg=B("Please send to chaturbate using one of the link codes below."),mg=B("Embed Chaturbate's Top Cam on Your Webpage"),ng=B("the affiliate program stats"),og=B("See details about tokens earned in "),pg=B('Add an extra layer of protection to your account by setting up 2-Step Verification at the <a href="/security/">Security Center</a>'),qg=B("Silence for 6 hours"),rg=B("Theater Mode"),sg=B("Full Screen"),tg=B("Exit Full Screen"),ug=B("Split Mode"),vg=B("unknown"),wg=B("Show All"),xg=B(" to follow your favorite broadcasters and see when they are live."),yg=B("Follow your favorite broadcasters to see when they are live.");B("Announce you're online");B("Announce again in ");B("You have 1 follower");B("You have");B("followers");B("Send email and browser notifications to your followers.");B("Add a photo");B("Update photo");B("Must be non-nude");B("Recommended size: 1280 x 720 px");B("Shown in notification and featured emails");B("Send notifications");B("In Progress");B("New photos must be approved. If not approved in 15 minutes, email notifications will be sent without a photo.");B("You have no followers to notify.");B("Are you sure you want to notify your followers without an image?");B("Please use a jpeg, gif, or png image.");B("Image must not be larger than 10 megabytes.");B("A notification has already been sent.");B("Something went wrong after submit. Please try again.");B("Something went wrong during submit. Please try again.");B("Image must be at least 200px wide and 200px tall.");B("Image is too wide.");B("Image is too tall.");B("Please wait until all pending notifications have been sent.");B("Remove approved photo?");B("Sorry, this feature is not supported in your browser. Please upgrade to a modern browser like Chrome or Firefox.");var zg=B("Close"),Ag=B("Cancel"),Bg=B("CANCEL");B("SUBMIT");B("You have unsaved changes, are you sure you want to leave this page?");var Cg=B("Choose a category"),Dg=B("Abuse Report"),Eg=B("Broadcaster is underage"),Fg=B("Broadcaster is advertising"),Gg=B("Broadcaster is abusive"),Hg=B("Broadcaster is intoxicated"),Ig=B("Using a toy that is too large"),Jg=B("Asking for offline payments"),Kg=B("Broadcasting in public"),Lg=B("Broadcasting in service uniform"),Mg=B("Broadcaster is sleeping"),Ng=B("Broadcaster is wrong gender"),Og=B("Other");B("Please choose a category");var Pg=B("Additional comments:"),Qg=B("Please add a description"),Rg=B("Message is inappropriate"),Sg=B("Message is rude towards the broadcaster"),Tg=B("Message is spam"),Ug=B("Other (please describe):"),Vg=B("Report"),Wg=B("REPORT"),Xg=B("Unable to send report."),Yg=B("Too many reports sent. Try slowing down.");B("Your abuse report has been submitted.");B("h");B("h");B("m");B("m");B("and");B("<1m");var Zg=B("There was an error requesting your private show. Please try again."),$g=B("There was an error requesting your spy show. Please try again."),ah=B("There was an error requesting your group show. Please try again."),bh=B("Private & Group Shows"),ch=B("Private Shows"),dh=B("Are you sure?"),eh=B("This broadcaster allows private show recordings, so you will receive a recorded video of this show in your collection.");B("This broadcaster does not allow private or group shows");B("You may continue chatting while you wait for the broadcaster to return.");B("Performer Is Away");var fh=B("Group Show"),gh=B("LEAVE GROUP SHOW"),hh=B("JOIN GROUP SHOW"),ih=B("CANCEL GROUP REQUEST"),jh=B("LEAVE PRIVATE SHOW"),kh=B("CANCEL PRIVATE REQUEST"),lh=B("START PRIVATE SHOW");B("SPY PRIVATE SHOW");var mh=B("LEAVE SPY SHOW"),nh=B("Private Show");B("Private Show in Progress");var oh=B("This feature is not currently enabled on your device."),ph=B('You must be logged in to enter a private show. Click "OK" to login.'),qh=B('You must be logged in to spy on a private show. Click "OK" to login.'),rh=B('You must be logged in to enter a group show. Click "OK" to login.'),sh=B("Spy has been disabled by the broadcaster"),th=B("More Rooms Like This"),uh=B("Here are some trending rooms instead:"),vh=B("RECOMMENDED"),wh=B("OFFLINE"),xh=B("EXHIBITIONIST"),yh=B("NEW"),zh=B("HD"),Ah=B("HD+"),Bh=B("IN PRIVATE"),Ch=B("GROUP SHOW"),Dh=B("CHATURBATING"),Eh=B("HIDDEN - STAFF ONLY");B("I AGREE");B("Exit this site");B("Exit");B("I have attained the Age of Majority in my jurisdiction;");B("The sexually explicit material I am viewing is for my own personal use and I will not expose any minors to the material;");B("I desire to receive/view sexually explicit material;");B("I believe that as an adult it is my inalienable constitutional right to receive/view sexually explicit material;");B("I believe that sexual acts between consenting adults are neither offensive nor obscene;");B("The viewing, reading and downloading of sexually explicit materials does not violate the standards of any community, town, city, state or country where I will be viewing, reading and/or downloading the Sexually Explicit Materials;");B("I am solely responsible for any false disclosures or legal ramifications of viewing, reading or downloading any material appearing on this site. I further agree that neither this website nor its affiliates will be held responsible for any legal ramifications arising from any fraudulent entry into or use of this website;");B('I understand that my use of this website is governed by the website\u2019s <a href="/terms/">Terms</a> which I have reviewed and accepted, and I agree to be bound by such Terms.');B("I agree that by entering this website, I am subjecting myself, and any business entity in which I have any legal or equitable interest, to the personal jurisdiction of the State of Florida, Miami-Dade County, should any dispute arise at any time between this website, myself and/or such business entity;");B("This warning page constitutes a legally binding agreement between me, this website and/or any business in which I have any legal or equitable interest. If any provision of this Agreement is found to be unenforceable, the remainder shall be enforced as fully as possible and the unenforceable provision shall be deemed modified to the limited extent required to permit its enforcement in a manner most closely representing the intentions as expressed herein;");B("All performers on this site are over the age of 18, have consented being photographed and/or filmed, believe it is their right to engage in consensual sexual acts for the entertainment and education of other adults and I believe it is my right as an adult to watch them doing what adults do;");B("The videos and images in this site are intended to be used by responsible adults as sexual aids, to provide sexual education and to provide sexual entertainment;");B("I understand that providing a false declaration under the penalties of perjury is a criminal offense; and");B("I agree that this agreement is governed by the Electronic Signatures in Global and National Commerce Act (commonly known as the \u201cE-Sign Act\u201d), 15 U.S.C. \u00a7 7000, et seq., and by choosing to click on \u201cI Agree. Enter Here\u201d and indicating my agreement to be bound by the terms of this agreement, I affirmatively adopt the signature line below as my signature and the manifestation of my consent to be bound by the terms of this agreement.");B("YOU MUST BE OVER 18 AND AGREE TO THE TERMS BELOW BEFORE CONTINUING:");B("This website contains information, links, images and videos of sexually explicit material (collectively, the \u201cSexually Explicit Material\u201d). Do NOT continue if: (i) you are not at least 18 years of age or the age of majority in each and every jurisdiction in which you will or may view the Sexually Explicit Material, whichever is higher (the \u201cAge of Majority\u201d), (ii) such material offends you, or (iii) viewing the Sexually Explicit Material is not legal in each and every community where you choose to view it.");B("By choosing to enter this website you are affirming under oath and penalties of perjury pursuant to Title 28 U.S.C. \u00a7 1746 and other applicable statutes and laws that all of the following statements are true and correct:");B("THIS SITE ACTIVELY COOPERATES WITH LAW ENFORCEMENT IN ALL INSTANCES OF SUSPECTED ILLEGAL USE OF THE SERVICE, ESPECIALLY IN THE CASE OF UNDERAGE USAGE OF THE SERVICE.");var Fh=B("View on Twitter"),Gh=B("How Can We Improve?"),Hh=B("Updates"),Ih=B("This user has not added any photos or videos yet."),Jh=B("More Pics & Videos"),Kh=B("FAN"),Lh=B("CLUB");B("Tokens");B("Token");var Mh=B("Uploaded"),Nh=B("If you already purchased this photo set, try reloading the page to view it."),Oh=B("If you already purchased this video, try reloading the page to view it."),Ph=B("minutes"),Qh=B("seconds"),Rh=B("or"),Sh=B("View Hi-Res Image"),Th=B('You must be logged in to purchase this photo set.  Click "OK" to login.'),Uh=B('You must be logged in to view hi-res images.  Click "OK" to login.'),Vh=B('You must be logged in to purchase this video.  Click "OK" to login.'),Wh=B('Click "OK" to get more tokens.');B("Upload more Photos");B("Re-Order Items");B("Change video thumbnail image");B("Edit Details");B("Compliance");B("Deactivate");B("STAFF");B("Audio is disabled.");B("Enable Audio");B("(Check compliance for eligibility before enabling)");B("(Removes this item from being seen on the bio but does not remove from anyone's MyCollection.  To remove from MyCollections, reject in Compliance instead of deactivating.)");var Xh=B("FAILED"),Yh=B("PENDING"),Zh=B("APPROVAL"),$h=B("VIDEO"),ai=B("PROCESSING"),bi=B("ERROR"),ci=B("Failed Approval"),di=B("Please delete or edit offending items."),ei=B("Open in new window");B("iPad has failed to setup the broadcast. Please try again.");B("Please check your internet connection or close other applications");B("We need permission to use your camera and microphone in order to proceed. Visit our ");B("for help enabling your devices.");B("support page");B("Make sure there are no other broadcast tabs open.");B("Low FPS");B("Are you sure you want to leave?");B('This private or group show has ended. To give you\ntime to prepare, you are now shown as "Away" to\nthose in your room. To return and be visible on\ncam, click "Exit Away Mode" below.');B("Exit Away Mode");B("Could not get devices");B("Turn your device 180 degrees.");B("Turn your device into landscape mode.");B("Camera");B("Resolution");B("Microphone");B("Input Level");B("Mute");B("None (Silent)");B("Start Broadcasting");B("Stop Broadcasting");B("You Are Away");B("For high quality streams we strongly recommend");B("Use external software (OBS)");B("Please wait. Connecting in");B("Could not start broadcast");B("Welcome back");B("Could not setup preview. Please make any possible adjustments and reload the page");B("Could not setup broadcast");var fi=B("has left the room."),gi=B("Follow to be notified when online."),hi=B("Describe your issue or share your ideas:"),ii=B("Some account and system information may be sent to %SITE_NAME%. We will use the information you give us to help address technical issues to improve our services, subject to our Privacy Policy and Terms of Service."),ji=B("Submit Feedback"),ki=B("Add Screenshot"),li=B("Scroll down to capture lower on the page"),mi=B("Remove Screenshot"),ni=B("Click to highlight or hide info"),oi=B("Highlight issues with orange or hide sensitive info with black. Hit the ESC key to finish."),pi=B("Highlight issue"),qi=B("Hide sensitive info"),ri=B("Permission to capture screen not granted"),si=B("Could not capture screen"),ti=B("Please take screenshot again after resizing"),ui=B("Your feedback has been sent! Thank you for your feedback."),vi=B("Something went wrong. Please try again later."),wi=B("Please wait before submitting more feedback."),xi=B("Unable to submit feedback. Please contact support."),yi=B("Done"),zi=B("Watching");B("Deny Group");B("Accept Group");B("Deny Private");B("Accept Private");B("Return to Public Chat");B("You're about to stop the group show. Do you want to continue?");B("You're about to stop the private show. Do you want to continue?");B("Error broadcasting");var Ai=B("Font Settings"),Bi=B("Emoticons Settings"),Ci=B("Users Settings"),Di=B("Notifications Settings"),Ei=B("Other Settings");B("You have no users ignored.");B("Back to Settings");var Fi=B("Notify on Entry For"),Gi=B("Notify on Leave For"),Hi=B("No new updates"),Ii=B("The video is currently being processed.  It may take several minutes depending on the size of the video."),Ji=B("The video is damaged or its format is not supported."),Ki=B("Please delete this video and reupload again."),Li=B("You must be a supporter to use this feature."),Mi=B("To disable, go to "),Ni=B(' on the homepage and uncheck "Enable floating player".'),Oi=B("Advanced Options"),Pi=B('You must be logged in to Follow. Click "OK" to login.'),Qi=B("Log in or sign up to use this feature"),Ri=B("Log in to continue"),Si=B("Don't have an account yet?"),Ti=B("Tipped Tons"),Ui=B("1000+ tokens in the past 2 weeks"),Vi=B("Tipped Lots"),Wi=B("250+ tokens in the past 2 weeks"),Xi=B("Tipped Recently"),Yi=B("50+ tokens in the past 2 weeks"),Zi=B("Purchased Tokens"),$i=B("Has bought tokens"),aj=B("Fan Club Member"),bj=B("Moderator"),cj=B("Broadcaster"),dj=B("Join Fan Club"),ej=B("Member");B("Fan Club Member");function G(a){a=void 0===a?"div":a;this.Si=[];this.Vs=!1;this.Am=new q("didReposition",{wf:!1});"string"===typeof a?(this.element=document.createElement(a),this.element.style.height="100%",this.element.style.width="100%",this.element.style.position="absolute",this.element.style.overflow="hidden",this.element.style.webkitTapHighlightColor="transparent"):this.element=a;this.element.setAttribute("ts",""+this.constructor.name);this.initData();this.Ya()}k=G.prototype;k.initData=function(){};k.Ya=function(){};k.Sk=function(){this.Vs=!0};k.u=function(){};k.W=function(){this.u();for(var a=l(this.children()),b=a.next();!b.done;b=a.next())b.value.W();w(this.Am,void 0)};k.Pr=function(){};k.Gf=function(){this.Pr();for(var a=l(this.children()),b=a.next();!b.done;b=a.next())b.value.Gf()};k.D=function(a,b){void 0===b&&(b=this.element);a.Vs||a.Sk();b.appendChild(a.element);this.Si.push(a);a.parent=this;return a};function fj(a,b){if(void 0===c)var c=a.element;c.insertBefore(b.element,a.element.firstChild);a.Si.unshift(b);b.parent=a;return b}k.removeChild=function(a){var b=this.Si.indexOf(a);if(isNaN(b))x("tried removing component that doesn't exist");else{this.Si.splice(b,1);a.parent===this&&(a.parent=void 0);gj(a);b=l(a.children());for(var c=b.next();!c.done;c=b.next())c.value.ue();a.ue()}};function gj(a){var b=a.element.parentNode;null!==b?b.removeChild(a.element):x("couldn't find parent element to use for node removal")}function hj(a){for(var b=l(a.children()),c=b.next();!c.done;c=b.next())c=c.value,c.parent===a&&(c.parent=void 0),gj(c),c.ue();a.Si=[]}k.children=function(){return this.Si};k.ue=function(){};k.previousSibling=function(){if(void 0!==this.parent)return ij(this,this.parent.children())};k.nextSibling=function(){if(void 0!==this.parent)return ij(this,this.parent.children().slice().reverse())};k.lastChild=function(){return 0<this.children().length?this.children()[this.children().length-1]:void 0};function ij(a,b){b=l(b);for(var c=b.next();!c.done;c=b.next()){c=c.value;if(c===a)break;var d=c}return d};function jj(){G.call(this);var a=this;this.Xb=new q("overlayClick");this.R=document.createElement("div");this.R.style.position="fixed";this.R.style.display="none";this.R.style.left="0";this.R.style.top="0";this.R.style.right="0";this.R.style.bottom="0";this.R.style.zIndex="1000";this.R.onclick=function(b){b.stopPropagation();a.Ua();w(a.Xb,void 0)};this.element.style.zIndex="1001";this.element.onclick=function(b){b.stopPropagation()}}p(jj,G);k=jj.prototype;k.Sk=function(){var a=this;G.prototype.Sk.call(this);setTimeout(function(){a.Gf()},0)};k.Gf=function(){G.prototype.Gf.call(this);null!==this.element.parentElement&&this.element.parentElement.insertBefore(this.R,this.element)};k.hb=function(){this.R.style.display="block"};k.Ua=function(){this.R.style.display="none"};k.ue=function(){G.prototype.ue.call(this);null!==this.R.parentElement&&this.R.parentElement.removeChild(this.R)};function kj(){this.Ts=[]}function lj(a,b){a.Ts.push(b)}function mj(a,b){a=l(a.Ts);for(var c=a.next();!c.done;c=a.next())if(c=c.value,b.which===c.keyCode&&(!c.xi||b.ctrlKey||b.metaKey))return c.ra(b),!0;return!1};var nj={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5},oj="webkitFullscreenEnabled webkitFullscreenElement webkitRequestFullscreen webkitExitFullscreen webkitfullscreenchange webkitfullscreenerror".split(" "),pj="mozFullScreenEnabled mozFullScreenElement mozRequestFullScreen mozCancelFullScreen mozfullscreenchange mozfullscreenerror".split(" "),qj="msFullscreenEnabled msFullscreenElement msRequestFullscreen msExitFullscreen MSFullscreenChange MSFullscreenError".split(" "),rj;"fullscreenEnabled"in document?rj=Object.keys(nj):oj[0]in document?rj=oj:pj[0]in document?rj=pj:qj[0]in document&&(rj=qj);function sj(a){if(void 0!==rj)a[rj[nj.requestFullscreen]]()}function tj(){void 0!==rj&&document[rj[nj.exitFullscreen]].bind(document)()}function uj(){return void 0===rj?!1:!!document[rj[nj.fullscreenEnabled]]}function vj(){if(void 0!==rj)return document[rj[nj.fullscreenElement]]}function wj(){return void 0===rj?"":rj[nj.fullscreenchange]}
function xj(){return void 0===rj?"":("on"+rj[nj.fullscreenerror]).toLowerCase()};function yj(){var a=this;this.message=document.createElement("div");this.Aa=document.createElement("div");this.jc=document.createElement("div");this.Qc=document.createElement("div");this.accept=document.createElement("div");this.Cl=function(){};this.ju=[];this.Aa.style.display="none";this.Aa.style.position="fixed";this.Aa.style.overflow="auto";this.Aa.style.top="0";this.Aa.style.left="0";this.Aa.style.width="100%";this.Aa.style.height="100%";this.Aa.style.zIndex="2000";this.Aa.style.color="#000000";this.Aa.style.backgroundColor="rgba(0, 0, 0, 0.4)";this.jc.style.width="440px";this.jc.style.position="relative";this.jc.style.backgroundColor="white";this.jc.style.display="inline-block";this.jc.style.borderRadius="10px";this.jc.style.textAlign="left";this.jc.style.overflow="hidden";this.jc.style.zIndex="2001";this.jc.style.fontFamily="Helvetica, Arial, sans-serif";this.message.style.display="inline-block";this.message.style.wordWrap="break-word";this.message.style.padding="20px";this.message.style.textAlign="left";this.jc.appendChild(this.message);var b=document.createElement("div");b.style.borderTop="1px solid rgb(204, 204, 204)";b.style.textAlign="center";b.style.height="40px";b.style.color="#0268ff";b.style.background="#f9f9f9";this.accept.style.width="70px";this.accept.style.padding="3px";this.accept.style.display="inline-block";this.accept.style.cssFloat="right";this.accept.style.position="relative";this.accept.style.top="7px";this.accept.style.right="10px";this.accept.style.boxSizing="border-box";this.accept.innerText="OK";this.accept.style.cursor="pointer";this.accept.style.color="#fff";this.accept.style.background="#006ffc";this.accept.style.border="1px solid #006ffc";this.accept.onclick=function(c){c.stopPropagation();void 0!==a.Qi&&a.Qi();zj.Cl()};b.appendChild(this.accept);this.Qc.style.width="70px";this.Qc.style.padding="3px";this.Qc.style.display="inline-block";this.Qc.style.cssFloat="right";this.Qc.style.position="relative";this.Qc.style.top="7px";this.Qc.style.right="25px";this.Qc.innerText="Cancel";this.Qc.style.cursor="pointer";this.Qc.style.background="#fff";this.Qc.style.border="1px solid rgb(204, 204, 204)";this.Qc.onclick=function(c){c.stopPropagation();void 0!==a.$k?a.$k():void 0!==a.Qi&&a.Qi();zj.Cl()};b.appendChild(this.Qc);this.jc.appendChild(b);this.Aa.appendChild(this.jc)}
yj.prototype.resize=function(){this.jc.style.width=Math.min(440,document.documentElement.clientWidth-40)+"px";this.jc.style.left=Math.max(0,(this.Aa.offsetWidth-this.jc.offsetWidth)/2)+"px";this.jc.style.top=Math.max(0,(this.Aa.offsetHeight-80-this.jc.offsetHeight)/2)+"px"};yj.prototype.display=function(a,b,c,d){var e=this;d=void 0===d?!1:d;if(this.active)this.ju.push({ci:a,Qi:b,$k:c,innerHTML:d});else{d?this.message.innerHTML=a:this.message.innerText=a;this.Aa.style.display="block";this.Qi=b;void 0===c?zj.Qc.style.display="none":(this.$k=c,zj.Qc.style.display="");var f=new kj,g=function(m){m.stopPropagation();m.preventDefault();mj(f,m)};lj(f,{keyCode:13,xi:!1,ra:function(){b();e.Cl()}});lj(f,{keyCode:27,xi:!1,ra:function(){void 0!==c?c():b();e.Cl()}});this.active=!0;var h=function(){e.resize()};z("keydown",document,g,!0);z("resize",window,h);z("orientationchange",window,h);this.Cl=function(){try{qb("keydown",document,g,!0)}catch(n){}try{qb("resize",window,h)}catch(n){}e.Aa.style.display="none";e.active=!1;e.Aa.parentElement===document.body&&document.body.removeChild(e.Aa);e.Qi=void 0;e.$k=void 0;var m=e.ju.shift();void 0!==m&&e.display(m.ci,m.Qi,m.$k,m.innerHTML)};a=vj();void 0!==a&&a?a.appendChild(this.Aa):document.body.appendChild(this.Aa);this.resize()}};var zj=new yj;function H(a,b){void 0===b&&(b=function(){});zj.display(a,b,void 0,!1)}function Aj(a,b,c){void 0===b&&(b=function(){});void 0===c&&(c=function(){});zj.display(a,b,c)};var Bj={yv:"chaturbate.com",zv:"",iy:Oc,$u:"#0b5d81",ao:"Chaturbate",bgColor:"#ffffff",ex:"#0c6a93",fx:"#ffffff",dx:"#f47321",Ht:"#ffffff",It:"url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/gender_tab_bg.gif) repeat-x",Iw:"#004B5E",Xe:"#494949",Ja:"#494949",xc:"#222222",py:"#222222",Bd:"#0A5B83",me:"#8bb3da",We:"#ffffff",Hi:"#dde9f5",Pd:"#dc5500",Af:"#5e81a4",Yu:"#6D85B5",Zu:"#FFF",lo:"#2472B4",av:"#4F4F4F",kr:"#B60A42",vm:"#FFFFFF",Xr:"#F0F1F1",Yr:"#ACACAC",Zr:"#000",$r:"#0A5A83",Qo:"#575757",Ro:"#0A5A83",my:"#e45900",yw:"#676767",Cw:"#494949",$v:"#494949",ax:"https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/logo.svg",ey:"#f47321",bx:void 0,zw:"",Jw:"#ffffff url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/header_bg.gif) repeat-x",xw:"#ffffff url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/footer_bg.gif) repeat-x",qy:"#e9e9e9",sy:"#ffffff",Jt:"#FCEADB",ww:"#494949",Aw:"#0A5A83",Bw:"#dc5500",Vo:"#4C4C4C",iw:"",Up:!1,Lu:!1,Sx:!1,Tx:!1,Rx:!1,Wx:!0,Yx:!0,Zx:!0,Ux:!0,Vx:!0,br:!0,zu:"#494949",$w:"#000000",gp:"#494949",pv:"#3C87BA",qv:"#F47321",rv:"#ffffff",zr:"https://www.surveymonkey.com/r/DXYF5T8",Ac:!0===window.group_shows_enabled,Xs:!0===window.hide_entrance_terms},F=Bj;if(void 0!==window.siteSettings){var I=window.siteSettings,Cj=I.navigation_font_color,Dj=I.text_color,Ej=I.tab_inactive_color,Fj=I.tab_inactive_font_color,Gj=I.content_bgcolor,Hj=I.footer_href_color,Ij=I.footer_text_color,Jj=I.cam_href_color;F={yv:I.chaturbate_alias,zv:I.dbwl_domain,iy:I.tagline,$u:I.tagline_color,ao:I.site_name,bgColor:I.bgcolor,ex:I.navigation_bgcolor,fx:Cj,dx:I.navigation_alt_bgcolor,Ht:I.navigation_alt_2_bgcolor,It:"",Iw:I.h1_color,Xe:Dj,Ja:Bj.Ja,xc:Bj.xc,py:Dj,Bd:I.href_color,me:I.tab_border_color,We:I.tab_active_color,Hi:Ej,Pd:I.tab_active_font_color,Af:Fj,Yu:I.tag_exhibitionist_color,Zu:I.tag_font_color,lo:I.tag_hd_color,av:I.tag_offline_color,kr:I.tag_private_group_color,vm:Gj,Xr:I.cam_background_color,Yr:I.cam_border_color,Zr:I.cam_text_color,$r:"#0C6A93",Qo:I.cam_text_alt_color,Ro:Jj,my:Jj,yw:Hj,Cw:Ij,$v:Ij,ax:I.logo_image_name,ey:I.signup_bg_color,bx:I._logo_width,zw:I.footer_html,Jw:"",xw:"",qy:Gj,sy:Cj,Jt:Ej,ww:Fj,Aw:Hj,Bw:Hj,Vo:"#0C6A93",iw:I.default_campaign_slug,Up:!0,Lu:!0,Sx:!0,Tx:!0,Rx:!0,Wx:!1,Yx:!1,Zx:!1,Ux:!1,Vx:!1,br:!1,zu:"#222222",$w:Dj,gp:Dj,mu:I.whitelabel_hit_count_referring_url,pv:I.tab_inactive_color,qv:I.tab_active_color,rv:I.tab_active_font_color,zr:Bj.zr,Ac:Bj.Ac,Xs:Bj.Xs}}void 0!==F.mu&&A("whitelabels/record_hit/",{referer:F.mu}).catch(function(a){x("Error recording whitelabel hit: "+a)});function Kj(a,b,c){var d=document.createElement("div");d.style.position="absolute";d.style.height="0";d.style.width="0";d.style.top="-8px";d.style.left=c;c=document.createElement("div");c.style.borderLeft="8px solid transparent";c.style.borderRight="8px solid transparent";c.style.borderBottom="8px solid "+a;d.appendChild(c);a=document.createElement("div");a.style.position="absolute";a.style.top="3px";a.style.left="3px";a.style.borderLeft="5px solid transparent";a.style.borderRight="5px solid transparent";a.style.borderBottom="5px solid "+b;c.appendChild(a);return d}
function Lj(a){var b=document.createElement("div");b.style.position="absolute";b.style.height="0";b.style.width="0";b.style.bottom="0";b.style.left=a;a=document.createElement("div");a.style.borderLeft="8px solid transparent";a.style.borderRight="8px solid transparent";a.style.borderTop="8px solid #0b5d81";b.appendChild(a);var c=document.createElement("div");c.style.position="absolute";c.style.top="0";c.style.left="3px";c.style.borderLeft="5px solid transparent";c.style.borderRight="5px solid transparent";c.style.borderTop="5px solid #ffffff";a.appendChild(c);return b}
function Mj(){var a=document.createElement("div");a.style.position="absolute";a.style.height="0";a.style.width="0";a.style.left="-8px";a.style.top="30px";var b=document.createElement("div");b.style.borderTop="8px solid transparent";b.style.borderBottom="8px solid transparent";b.style.borderRight="8px solid #0b5d81";a.appendChild(b);var c=document.createElement("div");c.style.position="absolute";c.style.top="3px";c.style.left="3px";c.style.borderTop="5px solid transparent";c.style.borderBottom="5px solid transparent";c.style.borderRight="5px solid #ffffff";b.appendChild(c);return a};function Nj(a,b){a=void 0===a?Li:a;var c=document.createElement("div");(void 0===b?0:b)?c.innerHTML=a:c.textContent=a;c.style.position="absolute";c.style.backgroundColor="#fdf294";c.style.color=F.xc;c.style.width="240px";c.style.border="2px solid #ff9130";c.style.borderRadius="6px";c.style.fontSize="12px";c.style.padding="3px";c.style.display="none";c.style.zIndex="5";c.style.top="57px";c.appendChild(Kj("#ff9130","#fdf294","40px"));return c}
function Oj(){var a=document.createElement("div");a.innerText=Cf;a.style.color="#0c6a93";return a}function Pj(){var a=document.createElement("div");a.innerText=Df;a.style.margin="5px 0 10px";a.style.fontSize="11px";return a}
function Qj(a){var b=document.createElement("div");b.innerText=Ff;b.style.display="inline-block";b.style.backgroundColor="#0c6a93";b.style.padding="5px 30px";b.style.borderRadius="3px";b.style.color="#eeeeee";b.style.cursor="pointer";z("mouseenter",b,function(){b.style.backgroundColor="#0c6a93cc"});z("mouseleave",b,function(){b.style.backgroundColor="#0c6a93"});z("click",b,a);return b}
function Rj(a){var b=document.createElement("div");b.innerText=Gf;b.style.display="inline-block";b.style.marginLeft="10px";b.style.cursor="pointer";z("mouseenter",b,function(){b.style.textDecoration="underline"});z("mouseleave",b,function(){b.style.textDecoration=""});z("click",b,a);return b}function Sj(){jj.call(this);var a=this;this.closed=new q("closed");t(this.Xb,function(){a.close()})}p(Sj,jj);Sj.prototype.initData=function(){jj.prototype.initData.call(this);var a=window.localStorage.getItem("numPushNotificationTimeouts"),b=window.localStorage.getItem("pushNotificationTimeout");null!==a&&null!==b?(this.no=new Date(b),this.qq=parseInt(a)+1):(this.no=new Date,this.qq=1)};Sj.prototype.Gf=function(){jj.prototype.Gf.call(this);this.hb()};Sj.prototype.close=function(){this.element.style.display="none";this.Ua();w(this.closed,void 0)};function Tj(){var a=window.subscribeUserToPush;Pa.once(function(b){void 0!==b.md&&a(b.md.dy).catch(function(c){void 0===c||400===c.status?H(Ef):(window.localStorage.removeItem("numPushNotificationTimeouts"),window.localStorage.removeItem("pushNotificationTimeout"))})})};function Uj(a){switch(a){case "Default":return"df";case "Recommended":return"rc";case "FollowedTab":return"ft";case "FollowedPageOnline":return"fo";case "FollowedPageOffline":return"ff";case "MoreLikeThis":return"ml";case "MoreRooms":return"mr";case "TagPage":return"tp";default:return"un"}}function Vj(a,b,c,d,e){void 0===e&&(e="");Ab("tbu_"+a,[b,""+c,""+("number"===typeof d&&0<d?d:-1),e].join(),30)}function Wj(){this.Nt=[];this.Bl=new Map}var Xj,Yj;function Zj(){for(var a=[],b=l(document.querySelectorAll(".endless_page_template")),c=b.next();!c.done;c=b.next())a.push(c.value);return a}Wj.prototype.onSuccess=function(){for(var a=l(this.Nt),b=a.next();!b.done;b=a.next())b=b.value,b()};function ak(){void 0===Xj&&(Xj=new Wj);return Xj}
function bk(a){a=a.getAttribute("data-href");a="string"!==typeof a||0===a.length?window.location.href:"/"===a[0]?a.substr(1):a;var b="?";-1!==a.indexOf("?")&&(b="&");var c=document.getElementById("filter_search_form");c=null!==c?Mb(c).Ai():"";return a+b+c}function ck(a){if(0<a){var b=ak();Yj=window.setTimeout(function(){dk(b);ck(a)},a)}}
function dk(a,b){for(var c=l(a.Bl.values()),d=c.next();!d.done;d=c.next())Sb(d.value,!1);a.Bl.clear();c={};d=l(Zj());for(var e=d.next();!e.done;c={Vl:c.Vl},e=d.next())c.Vl=e.value,e=bk(c.Vl),Ib(e).then(function(f){return function(g){f.Vl.innerHTML=g.responseText;a.onSuccess();void 0!==b&&b()}}(c))}function ek(a){ak().Nt.push(a)}function fk(a){dk(ak(),a)}function gk(a){ck(a)}function hk(){clearTimeout(Yj)}function ik(a,b,c,d,e){Vj(b,Uj(a),c,d,e)}var jk=!1;function kk(a){jk=a}
function lk(a,b){if(jk&&null!==b){var c=Pb,d=ak(),e=d.Bl.get(a);void 0===e&&(e=new Ob(a,b,!0),d.Bl.set(a,e));c(e)}}function mk(a){jk&&(a=ak().Bl.get(a),void 0!==a&&Sb(a,!1))}var nk={buildTooltip:Nj};function L(a){this.Ve=a;this.nv={};try{this.parsed=JSON.parse(a)}catch(b){x("Cannot JSON parse",{message:a}),this.parsed={}}}L.prototype.Cd=function(a){this.nv[a]=!0};function pk(a,b){a.Cd(b);if(null!==a.parsed[b])return a.parsed[b]}function qk(a){a.Cd("items");if(null!==a.parsed.items)return a.parsed.items.map(function(b){var c=new L("{}");c.parsed=b;return c})}L.prototype.getAsString=function(a){return""+pk(this,a)};function M(a,b,c){c=void 0===c?!0:c;var d=pk(a,b);if("string"!==typeof d)c&&void 0!==d&&u("getStringOrUndefined("+b+"): "+d+" is wrong type",{message:a.Ve});else return d}function N(a,b,c){c=void 0===c?!0:c;var d=pk(a,b);return"string"!==typeof d?(c&&u("getString("+b+"): "+d+" is wrong type",{message:a.Ve}),""):d}function O(a,b,c){c=void 0===c?!0:c;var d=pk(a,b);return"string"!==typeof d&&"number"!==typeof d?(c&&u("getStringWithNumbers("+b+"): "+d+" is wrong type",{message:a.Ve}),""):""+d}
function rk(a){for(var b=new Map,c=l(["from_username","user","username"]),d=c.next();!d.done;d=c.next())d=d.value,void 0!==M(a,d,!1)&&b.set(d,M(a,d,!1));return b}function P(a,b,c,d){c=void 0===c?!1:c;d=void 0===d?!0:d;var e=pk(a,b);return"boolean"!==typeof e?(d&&u("getBoolean("+b+"): "+e+" is wrong type",{message:a.Ve}),c):e}function S(a,b,c){c=void 0===c?!0:c;var d=pk(a,b);return"number"!==typeof d?(c&&u("getNumber("+b+"): "+d+" is wrong type",{message:a.Ve}),NaN):d}
function sk(a,b,c){c=void 0===c?!0:c;var d=pk(a,b);if("number"!==typeof d)c&&void 0!==d&&u("getNumberOrUndefined("+b+"): "+d+" is wrong type",{message:a.Ve});else return d}function tk(a,b){a=uk(a,b);return""===a?new L("{}"):new L(a)}function uk(a,b,c){c=void 0===c?!0:c;var d=pk(a,b);return"object"!==typeof d?(c&&u("getObjectString("+b+"): "+d+" is wrong type",{message:a.Ve}),""):JSON.stringify(d)}
function vk(a,b){var c=void 0===c?!0:c;var d=pk(a,b);return"object"!==typeof d?(c&&u("getObject("+b+"): "+d+" is wrong type",{message:a.Ve}),{}):d}function T(a){var b=[],c;for(c in a.parsed)!0!==a.nv[c]&&b.push(c);b=l(b);for(c=b.next();!c.done;c=b.next())c=c.value,"object"===typeof a.parsed[c]&&JSON.stringify(a.parsed[c])};var wk=new q("newFollowedOnline"),xk=new q("onlineFollowedStorage"),yk=new q("onlineFollowedStorage");function zk(){if(y()){var a=window.localStorage.getItem("onlineFollowedTab");null!==a&&(a=JSON.parse(a),a.timestamp=Date.now(),window.localStorage.setItem("onlineFollowedTab",JSON.stringify(a)))}}
function Ak(){if(y()){var a=window.localStorage.getItem("onlineFollowedTab");if(null!==a){a=JSON.parse(a);var b=a.username,c=a.onlineFollowedList,d={nd:{ii:c.onlineFollowed.online,total:c.onlineFollowed.total},dh:[]};c=l(c.roomList);for(var e=c.next();!e.done;e=c.next())e=e.value,d.dh.push({a:e.room,image:e.image});c=a.seenRooms;e=[];for(var f=l(a.unseenRooms),g=f.next();!g.done;g=f.next())g=g.value,e.push({a:g.room,image:g.image});return{username:b,In:d,he:c,sr:e,Oh:a.flash,timestamp:a.timestamp}}}}
function Bk(){y()&&z("storage",window,function(a){if("onlineFollowedTab"===a.key){var b=Ak();void 0!==b&&w(xk,b)}"followedDropdownClicked"===a.key&&null!==a.newValue&&(b=Ak(),void 0!==b&&(b.timestamp=JSON.parse(a.newValue).timestamp,b.Oh=!1,b.sr=[],w(yk,b)))})}function Ck(a){a=a.split(/[()/]+/);return 4!==a.length?{ii:0,total:0}:{ii:parseInt(a[1]),total:parseInt(a[2])}}
function Dk(){function a(b){return b.map(function(c){return{a:c.room,image:c.image}})}return Ib("follow/api/online_followed_rooms/").then(function(b){b=new L(b.responseText);return{nd:{ii:S(b,"online"),total:S(b,"total")},dh:a(pk(b,"online_rooms"))}})};function Ek(a){for(var b="",c=l(Object.keys(a)),d=c.next();!d.done;d=c.next()){d=d.value;""!==b&&(b+="&");var e=a[d];void 0===e&&(e="");b+=encodeURIComponent(d)+"="+encodeURIComponent(e)}return b}function Fk(){var a=window.location.search;0<a.length&&"?"===a[0]&&(a=a.slice(1));var b={};a=l(a.split("&"));for(var c=a.next();!c.done;c=a.next())c=c.value,c.includes("=")&&(c=c.split("="),0<c[0].length&&(b[decodeURIComponent(c[0])]=0<c[1].length?decodeURIComponent(c[1]):void 0));return b};var Gk=window.newrelic,Hk;function U(a,b,c){b=void 0===b?{}:b;try{var d={};d["attributes.room_user"]=Hk;for(var e in b)d["attributes."+e]=b[e];if(void 0!==c&&c&&fb()){var f=window.performance.now();d["attributes.timeSinceLoad"]=f/1E3;d["attributes.timeSinceLoadMS"]=f}Fk();void 0!==Gk&&(d==={}?Gk.addPageAction(a):Gk.addPageAction(a,d))}catch(g){x("New Relic Error in addPageAction: "+g)}}
function Ik(){qb("load",window,Ik);for(var a=l(document.getElementsByTagName("script")),b=a.next();!b.done;b=a.next())b=b.value,null!==b.src.match(/https:\/\/js-agent\.newrelic\.com\/.*/)&&z("error",b,function(){x("Ad blocker stopped analytics collection");A("api/adblocker/",{}).then(function(){})})}z("load",window,Ik);var Jk=new q("bioClicked"),Kk=new q("userListRequest"),Lk=new q("openTipCalloutRequest"),Mk=new q("loadRoomRequest"),Nk=new q("reportAbuseRequest"),Ok=new q("privateGroupWindowRequest"),Pk=new q("chatWindowRequest");var Qk=new q("switchedToHLS"),Rk=new q("openDefaultTipCalloutRequest"),Sk=new q("loginOverlayRequest"),Tk=new q("userChatSettingsUpdate",{Je:50}),Uk=new q("windowReSized"),Vk=new q("openPhotoVideoTabRequest");var X=new q("roomLoaded",{Je:100,Vk:1}),Wk=new q("roomCleanup",{Je:20}),Xk=new q("userViewedPm");new q("tipSent");function Yk(a,b,c){jj.call(this);var d=this;this.pa=a;this.yb=b;this.ed=c;this.Qj=!1;this.first=!0;this.Ag=[];this.Rg=[];this.he={};this.Ds={};a=getComputedStyle(this.pa);b={color:"#0a5a83",width:"314px",maxHeight:"450px",overflowY:"auto",overflowX:"hidden",position:"relative",boxSizing:"border-box",padding:"8px",border:"1px solid "+F.me,borderRadius:"0px 4px 4px 4px",WebkitBorderRadius:"0px 4px 4px 4px",backgroundColor:F.We,marginTop:"-1px",zIndex:1};this.element=vb("div",{className:"followedDropdown",onClick:function(e){e.stopPropagation();d.j()},onMouseDown:function(e){e.preventDefault()},style:{fontSize:a.fontSize,fontFamily:a.fontFamily,width:"auto",height:"auto",position:"absolute",display:"none",overflow:"",cursor:"default",color:F.Pd,top:"0px",left:"0px",zIndex:1001}},vb("div",{className:"tabOverlay",style:{position:"relative",height:"31px",borderRadius:"4px 4px 0px 0px",WebkitBorderRadius:"4px 4px 0px 0px",borderTop:"1px solid "+F.me,borderLeft:"1px solid "+F.me,borderRight:"1px solid "+
F.me,backgroundColor:F.We,zIndex:2,padding:"5px 11px 4px",display:"inline-block",boxSizing:"border-box",cursor:"pointer"},dangerouslySetInnerHTML:{Av:this.pa.innerHTML},ref:function(e){d.ed&&(e.firstChild.textContent=Ie+" ");d.ku=e.querySelector(".followed_counts")}}),vb("div",{className:"followedContainer",style:b,ref:function(e){d.Mf=e}}));this.R.style.cursor="default";this.pa.onclick=function(e){e.preventDefault();e.stopPropagation();d.j()};t(this.Xb,function(){d.j()});t(Mk,function(){d.j()});t(X,function(){Zk(d)});Zk(this)}p(Yk,jj);function $k(a,b){b=l(b);for(var c=b.next();!c.done;c=b.next())c=c.value,a.he[c]=!0,a.Ds[c]=!0}
Yk.prototype.update=function(a,b){var c=this;b=void 0===b?!1:b;this.nd=a.nd;al(this);var d={},e=[],f=[];a=l(a.dh);for(var g=a.next();!g.done;g=a.next())g=g.value,void 0!==this.he[g.a]||this.first?f.push(g):e.push(g),this.he[g.a]=!0,d[g.a]=g;a=0<e.length;this.Rg=this.Rg.reduce(function(m,n){void 0===d[n.a]||c.Ds[n.a]||m.push(d[n.a]);return m},[]);e=l(e);for(g=e.next();!g.done;g=e.next())this.Rg.push(g.value);e={};this.Ag=[];var h=l(this.Rg);for(g=h.next();!g.done;g=h.next())g=g.value,e[g.a]=!0,this.Ag.push(new bl(g,!0,this.ed,this.Ag.length+1));f=l(f);for(g=f.next();!g.done;g=f.next())g=g.value,void 0===e[g.a]&&this.Ag.push(new bl(g,!1,this.ed,this.Ag.length+1));Zk(this);(f=!this.first&&a)&&!b&&w(wk,void 0);this.first=!1;return{Oh:f,Bu:this.Rg}};function Zk(a){if(!a.Qj){for(;null!==a.Mf.firstChild;)a.Mf.removeChild(a.Mf.firstChild);if(!a.yb){var b;a.Mf.appendChild(vb("div",{style:{margin:"5px 3px"}},vb("a",{href:a.pa.href,style:{height:"auto",width:"auto",border:"none",borderRadius:"0px",backgroundColor:F.We,textDecoration:"none",cursor:"pointer",cssFloat:"none",padding:"0px",color:F.Bd},"data-floatingnav":"",ref:function(m){b=m},onMouseEnter:function(){b.style.textDecoration="underline";b.style.color=F.Pd},onMouseLeave:function(){b.style.textDecoration="none";b.style.color=F.Bd},onClick:function(){U("FollowedDropdownSeeAll")}},wg)))}a.Mf.style.width="auto";for(var c=vb("div",{style:{display:"table"}}),d=vb("div",null),e=0,f=l(a.Ag),g=f.next();!g.done;g=f.next()){g=g.value;0===e%2&&(d=vb("div",{style:{display:"table-row"}}),c.appendChild(d));var h=vb("div",{style:{display:"table-cell"}});h.appendChild(g.Tv);d.appendChild(h);e+=1}a.Mf.appendChild(c);0===a.Ag.length&&(c=vb("div",{style:{margin:"5px 3px 5px 3px",fontSize:"12px",fontFamily:"UbuntuRegular",color:F.Xe}}),a.yb&&(d=function(m){var n=vb("a",{href:m.href,style:{height:"auto",width:"auto",border:"none",borderRadius:"0px",backgroundColor:F.We,color:F.Bd,textDecoration:"none",cursor:"pointer",cssFloat:"none",padding:"0px"},onMouseEnter:function(){n.style.textDecoration="underline"},onMouseLeave:function(){n.style.textDecoration="none"},onClick:void 0!==m.onClick?m.onClick:void 0},m.children);return n},c.appendChild(vb(rb,null,vb(d,{href:"/accounts/register/?src=followed_tab&next="+window.location.pathname},Tc),vb("span",null," "+Bf+" "),vb(d,{href:"/auth/login/?next="+window.location.pathname,onClick:function(m){!a.ed||m.metaKey||m.ctrlKey||(m.preventDefault(),a.j(),w(Sk,!1))}},Rc)))),d=vb("span",null,a.yb?xg:yg),c.appendChild(d),a.Mf.appendChild(c),a.Mf.style.width="331px")}}function al(a){a.ku.textContent="("+a.nd.ii+"/"+a.nd.total+")"}Yk.prototype.show=function(){this.Qj||(this.element.style.display="block",this.Mf.scrollTop=0,this.Qj=!0,this.Rg=[],this.hb())};Yk.prototype.j=function(){if(this.Qj){this.element.style.display="none";this.Qj=!1;for(var a=l(this.Ag),b=a.next();!b.done;b=a.next())b.value.Vj();Zk(this);this.Ua()}};function bl(a,b,c,d){var e=this;this.a=a;this.at=b;this.ed=c;this.username="";this.username=a.a;this.sg=vb("a",{className:"roomElementAnchor",style:{width:"140px",height:"130px",borderRadius:"4px",border:"none",padding:"0px",margin:"0px",display:"block",cursor:"pointer",overflow:"hidden",textOverflow:"ellipsis",color:F.Af,backgroundColor:this.at?"#f9eed0":"#f0f1f1"},"data-room":this.a.a,href:"/"+this.a.a+"/",onMouseEnter:function(){e.sg.style.color=F.Pd},onMouseLeave:function(){e.sg.style.color=F.Af},onClick:function(f){U("FollowedDropdownVisit");!e.ed||f.metaKey||f.ctrlKey||(f.preventDefault(),w(Mk,e.a.a))}},vb("img",{src:this.a.image,width:140,height:105,style:{borderRadius:"3px 3px 0px 0px"}}),vb("span",{style:{padding:"5px"}},this.a.a));this.Tv=vb("div",{className:"roomElement",style:{display:"inline-block",width:"140px",height:"130px",borderRadius:"4px",border:"1px solid rgba(100, 100, 100, 0.5)",margin:"3px",cursor:"pointer"}},this.sg);pb(this.sg,function(){Vj(e.username,"ft",d)})}
bl.prototype.Vj=function(){this.at=!1;this.sg.style.backgroundColor="#f0f1f1";this.sg.style.color=F.Af};function cl(a,b,c,d,e){function f(n,r){r=void 0===r?!1:r;n.timestamp<=h.Rk||n.username!==h.username||(h.nd=n.In.nd,al(h),h.jd.he=n.he,h.jd.Rg=n.sr,h.jd.update(n.In,!0),0<n.sr.length?(h.li=!0,h.pa.style.backgroundColor="#FAE6C4",h.pa.style.color=F.Pd):(h.li=!1,h.Vj()),n.Oh&&!r&&h.Oh(),h.Rk=n.timestamp)}function g(){clearInterval(h.Ph);h.Ph=void 0;h.li=!1;h.Vj();U("FollowedDropdownOpened");h.jd.show();if(y()){var n=window.localStorage.getItem("onlineFollowedTab");if(null!==n){n=JSON.parse(n);for(var r=l(n.unseenRooms),v=r.next();!v.done;v=r.next())n.seenRooms[v.value.room]=!0;n.timestamp=Date.now();n.flash=!1;n.unseenRooms=[];window.localStorage.setItem("onlineFollowedTab",JSON.stringify(n))}}y()&&window.localStorage.setItem("followedDropdownClicked",JSON.stringify({timestamp:Date.now()}))}var h=this;this.pa=a;this.jd=b;this.yb=c;this.username=d;this.ed=e;this.li=!1;this.ku=this.pa.querySelector(".followed_counts");this.pa.onmouseenter=function(){h.ed?(h.pa.style.borderBottom="1px solid "+F.vm,h.pa.style.color=F.Pd,h.pa.style.backgroundColor=F.We):(h.pa.style.color="",h.pa.style.backgroundColor="")};this.pa.onmouseleave=function(){h.li?(h.pa.style.backgroundColor="#FAE6C4",h.pa.style.color=F.Pd,h.pa.style.borderBottom="1px solid "+F.me):h.ed&&(h.pa.style.borderBottom="1px solid "+F.me,h.pa.style.color=F.Af,h.pa.style.backgroundColor=F.Hi)};this.nd=Ck(this.pa.innerText);al(this);this.pa.onclick=function(n){n.metaKey||n.ctrlKey||(n.preventDefault(),n.stopPropagation(),g())};z("keydown",this.pa,function(n){if(32===n.keyCode||"Space"===n.code)n.preventDefault(),g()});!0===window.showcam&&"string"===typeof window.broadcaster&&$k(this.jd,[window.broadcaster]);t(X,function(n){$k(h.jd,[n.h.a])});if(!this.yb){Bk();t(xk,function(n){f(n)});t(yk,function(n){n.timestamp<=h.Rk||(h.nd=n.In.nd,al(h),h.jd.he=n.he,h.jd.Rg=[],h.jd.update(n.In,!0),h.Rk=n.timestamp,clearInterval(h.Ph),h.Ph=void 0,h.li=!1,h.Vj())});window._followedTabUpdate=function(n){$k(h.jd,[n]);dl(h,!0)};a=0===window.location.pathname.lastIndexOf("/followed-cams/",0)?void 0:Ak();void 0!==a&&a.username===this.username&&3E4>Date.now()-a.timestamp?(this.jd.first=!1,f(a,!0),zk(),dl(this,!0)):dl(this);var m=function(n){clearInterval(h.lv);h.lv=setInterval(function(){h.jd.Qj||dl(h)},n)};m(1E4);setTimeout(function(){m(3E4)},6E5);setTimeout(function(){m(6E5)},18E5);setTimeout(function(){clearInterval(h.lv)},216E5);t(wk,function(){h.Oh()})}}
cl.prototype.Oh=function(){var a=this;if(void 0===this.Ph){this.li=!0;var b=3,c=!0;this.Ph=setInterval(function(){if(c){if(a.pa.style.backgroundColor="#FAE6C4",a.pa.style.color=F.Pd,--b,0===b){clearInterval(a.Ph);a.Ph=void 0;return}}else a.ed?(a.pa.style.color=F.Af,a.pa.style.backgroundColor=F.Hi):(a.pa.style.backgroundColor="",a.pa.style.color="");c=!c},500)}};function dl(a,b){(void 0===b||!b)&&1E4>Date.now()-a.Rk||Dk().then(function(c){a.Rk=Date.now();a.nd=c.nd;al(a);var d=a.jd.update(c);0===d.Bu.length&&(a.li=!1,a.Vj());var e=a.username,f=a.jd.he,g=d.Oh,h=d.Bu;if(y()){d={onlineFollowed:{online:c.nd.ii,total:c.nd.total},roomList:[]};c=l(c.dh);for(var m=c.next();!m.done;m=c.next())m=m.value,d.roomList.push({room:m.a,image:m.image});c=[];h=l(h);for(m=h.next();!m.done;m=h.next())m=m.value,c.push({room:m.a,image:m.image});e={username:e,onlineFollowedList:d,seenRooms:f,unseenRooms:c,flash:g,timestamp:Date.now()};window.localStorage.setItem("onlineFollowedTab",JSON.stringify(e))}})}cl.prototype.Vj=function(){this.ed?(this.pa.style.color=F.Af,this.pa.style.backgroundColor=F.Hi):(this.pa.style.color="",this.pa.style.backgroundColor="")};function el(){G.apply(this,arguments)}p(el,G);function fl(a,b,c,d,e){a.style.position="relative";a.style.overflow="visible";a.style.cursor="pointer";b.style.cursor="pointer";a=new el(a);var f=new Yk(b,d,e);a.D(f);new cl(b,f,d,c,e)};function gl(a){return{left:a.offsetLeft,top:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}}function hl(a,b,c){var d=Object.assign({},a);d.top=a.top+b;d.height=a.height-b;0>d.top?(d.height+=d.top,d.top=0):d.height<c&&(d.top-=c-d.height,d.height=c);return d}function il(a,b,c,d){var e=Object.assign({},a);e.height=a.height+b;e.top+e.height>d?e.height=d-e.top:e.height<c&&(e.height=c);return e}
function jl(a,b,c){var d=Object.assign({},a);d.left=a.left+b;d.width=a.width-b;0>d.left?(d.width+=d.left,d.left=0):d.width<c&&(d.left-=c-d.width,d.width=c);return d}function kl(a,b,c,d){var e=Object.assign({},a);e.width=a.width+b;e.left+e.width>d?e.width=d-e.left:e.width<c&&(e.width=c);return e};function ll(a,b,c){vj()?(tj(),setTimeout(function(){var d=window.open(a,b,c,void 0);null!==d&&setTimeout(function(){d.focus()},200)},500)):window.open(a,b,c,void 0)};function ml(a){G.call(this);var b=this;this.data=a;this.disabled=!1;this.lx=function(d){b.disabled&&(d.preventDefault(),void 0!==b.data.ks?Aj(b.data.ks,function(){void 0!==b.Lf&&b.Lf(d)}):void 0!==b.Lf&&b.Lf(d))};this.cy=function(){void 0!==b.kf&&(b.kf.style.display="block")};this.Lw=function(){void 0!==b.kf&&(b.kf.style.display="none")};this.element.removeAttribute("id");this.element.style.padding="9px 0";this.element.style.cursor="pointer";this.element.style.boxSizing="border-box";this.element.style.position="relative";this.element.style.overflow="visible";this.element.style.border="1px solid #c9cbcc";this.element.style.borderTop="0 none";void 0!==a.kf&&(this.kf=a.kf,this.element.appendChild(a.kf));this.Wd=document.createElement("dt");this.Wd.style.color="#000";this.Wd.style.margin="0";this.Wd.style.padding="0 8px 5px 28px";this.Wd.style.backgroundSize="14px 14px";this.Wd.innerText=a.label;this.element.appendChild(this.Wd);var c=a.description;void 0!==c&&0<c.length&&(this.Ce=document.createElement("dd"),this.Ce.style.color="#596068",this.Ce.style.margin="0",this.Ce.style.padding="0 8px 0 28px",this.Ce.innerText=c,this.element.appendChild(this.Ce));nl+=1;c="ButtonMenuItem"+nl.toString();this.input=document.createElement("input");this.input.id=c;this.input.setAttribute("name",c);this.input.setAttribute("type","radio");this.input.style.cursor="pointer";this.input.style.position="absolute";this.input.style.opacity="0";this.input.style.width="0";this.input.style.height="0";this.element.appendChild(this.input);void 0!==a.Lf&&(this.Lf=a.Lf);z("mouseenter",this.element,function(){b.element.style.borderColor="#767b7d";b.element.style.textShadow="#aaa 0 0 0";b.disabled&&void 0!==b.kf&&b.cy()});z("mouseleave",this.element,function(){b.element.style.textShadow="transparent";b.element.style.borderColor="#c9cbcc";b.disabled&&void 0!==b.kf&&b.Lw()});this.uk=a.uk;z("click",this.element,function(d){b.disabled?void 0!==b.Lf&&b.Lf(d):b.uk(d)});z("touchstart",this.element,this.lx);z("focus",this.input,function(){b.element.style.outline="2px solid Highlight"});z("blur",this.input,function(){b.element.style.removeProperty("outline")})}p(ml,G);k=ml.prototype;k.select=function(){this.Wd.style.background="transparent url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/checkmark.svg) no-repeat 8px 45%"};k.mf=function(){return this.data.value};k.Om=function(){var a=this.data.Vr;return void 0===a?this.data.label:a};k.disable=function(){this.disabled||(this.disabled=!0,this.Wd.style.color="#AAA",void 0!==this.Ce&&(this.Ce.style.color="#CCC"))};k.enable=function(){this.disabled&&(this.disabled=!1,this.Wd.style.color="#000",void 0!==this.Ce&&(this.Ce.style.color="#596068"))};var nl=0;function ol(a,b){jj.call(this);var c=this;this.width=280;this.visible=!1;this.Hr=new q("visibilityChange");this.Uq=new q("selectionChange");var d=[],e=a.length;0===e&&x("ButtonMenu requires at least one option!");this.element.style.padding="0";this.element.style.display="none";this.element.style.width=this.width+"px";this.element.style.textAlign="left";this.element.style.fontSize="14px";this.element.style.lineHeight="14px";this.element.style.borderRadius="2px";this.element.style.backgroundColor="#fff";this.element.style.boxShadow="0 1px 5px #333";this.R.style.zIndex="1002";this.element.style.zIndex="1003";this.element.style.overflow="visible";this.element.style.removeProperty("height");for(var f=-1,g=e-1,h={},m=0;m<e;h={wd:h.wd,Wl:h.Wl},m+=1){var n=a[m];n.value===b&&(f=m);n.uk=function(r){return function(v){v.stopPropagation();pl(c,r.wd)}}(h);h.wd=new ml(n);h.Wl=function(r){return function(v){v.preventDefault();v.stopPropagation();pl(c,r.wd);return!1}}(h);z("keyup",h.wd.input,function(r){return function(v){return 32===v.keyCode?r.Wl(v):!0}}(h));z("keydown",h.wd.input,function(r){return function(v){return 13===v.keyCode?r.Wl(v):!0}}(h));0===m&&(h.wd.element.style.borderTopWidth="1px",h.wd.element.style.borderTopLeftRadius="2px",h.wd.element.style.borderTopRightRadius="2px");m===g&&(h.wd.element.style.borderBottomLeftRadius="2px",h.wd.element.style.borderBottomRightRadius="2px");this.D(h.wd);d.push(h.wd.input)}this.ql=this.children()[-1===f?0:f];this.ij=d;t(this.Uq,function(r){r.current.select();void 0!==r.Cb&&r.Cb.Wd.style.removeProperty("background")});t(this.Xb,function(){c.j()})}p(ol,jj);k=ol.prototype;k.mf=function(){return this.ql.mf()};k.Om=function(){return this.ql.Om()};k.isVisible=function(){return this.visible};k.show=function(a){this.isVisible()||(w(this.Hr,!0),this.element.style.display="inline-block",this.element.style.top=a.top+"px",this.element.style.left=a.left+"px",this.hb(),this.visible=!0,this.W())};k.j=function(a){a=void 0===a?!1:a;this.isVisible()&&(a||w(this.Hr,!1),this.visible=!1,this.element.style.display="none",this.Ua())};k.toggle=function(a){this.isVisible()?this.j():this.show(a)};k.Gf=function(){jj.prototype.Gf.call(this);var a={current:this.ql};a.current.select();void 0!==a.Cb&&a.Cb.Wd.style.removeProperty("background")};k.mp=function(){for(var a,b=this.parent;void 0!==b;b=b.parent)if("hidden"===window.getComputedStyle(b.element).overflowY){a=b.element;break}return a};k.u=function(){if(this.isVisible()){var a=this.mp();a=(void 0!==a?a.getBoundingClientRect().bottom:document.documentElement.clientHeight)-this.element.getBoundingClientRect().bottom;32>a&&(this.element.style.top=this.element.offsetTop-(32-a)+"px")}};function pl(a,b){var c=a.ql;a.j();b!==c&&(a.ql=b,w(a.Uq,{Cb:c,current:b}))}
function ql(a){G.call(this);var b=this;this.enabled=this.Vi=this.Wk=!0;this.ly=new q("tipTypeChange");this.element.style.margin="6px";this.element.style.display="inline-block";this.element.style.verticalAlign="top";this.element.style.overflow="visible";this.element.style.position="static";this.element.style.removeProperty("width");this.element.style.removeProperty("height");this.Oa=rl(this);this.hd=sl(this);this.hd.innerHTML="&#9660;";this.hd.id="id_tip_type_select_tm";this.Tb=new ol(tl,a);this.Oa.innerText=this.Tb.Om();a=l(this.Tb.children());for(var c=a.next();!c.done;c=a.next())ul(c.value);this.element.appendChild(this.Oa);this.element.appendChild(this.hd);this.Ji=this.Tb.mf();this.D(this.Tb);t(this.Tb.Uq,function(d){b.Vi&&(vl(b,d.current.mf()),b.Oa.focus())});z("mouseenter",this.Oa,function(){b.Oa.style.backgroundColor="#ff6300";b.Oa.style.textDecoration="underline"});z("mouseleave",this.Oa,function(){b.Oa.style.backgroundColor="#f47321";b.Oa.style.textDecoration="none"});z("click",this.hd,function(d){d.preventDefault();d.stopPropagation();d=b.element;var e=gl(b.Oa);b.Tb.toggle({top:e.height+2*e.top,left:d.offsetLeft+d.offsetWidth+1-b.Tb.width});return!1});t(this.Tb.Hr,function(d){d||b.Oa.focus()});this.ij=[this.Oa,this.hd];t(X,function(d){if(!0!==d.h.Fv)b.Vi=!1,d=b.Tb.children(),1<d.length&&d[1].disable(),vl(b,"public");else{d=b.Tb.mf();b.Vi=!0;var e=b.Tb.children();1<e.length&&e[1].enable();vl(b,d)}})}p(ql,G);function wl(a,b){a.Oa.innerHTML=b+" &#9656;";a.Wk&&(a.hasFocus()&&a.Oa.focus(),a.Wk=!1,a.Tb.j(),a.Oa.style.borderRadius="4px",a.hd.style.display="none",a.ij=[a.Oa])}function xl(a){a.Vi?a.Oa.innerText=a.Tb.Om():a.Oa.innerHTML=""+Vc}k=ql.prototype;k.isEnabled=function(){return this.enabled};k.disable=function(){this.isEnabled()&&(this.enabled=!1,this.Tb.j(),this.Oa.disabled=!0,this.Oa.style.color="#ccc",this.Oa.style.backgroundColor="#888",this.hd.disabled=!0,this.hd.style.color="#ccc",this.hd.style.backgroundColor="#888")};k.enable=function(){this.isEnabled()||(this.enabled=!0,this.Oa.disabled=!1,this.Oa.style.color="#fff",this.Oa.style.backgroundColor="#f47321",this.hd.disabled=!1,this.hd.style.color="#fff",this.hd.style.backgroundColor="#f47321")};k.hasFocus=function(){return-1<yl(this).index};function zl(a){a=yl(a);var b=a.elements.length;--a.index;if(-2===a.index)a.index=b-1;else if(-1===a.index)return!1;a.elements[a.index].focus();return!0}function Al(a){a=yl(a);var b=a.elements.length;a.index+=1;if(a.index>=b)return!1;a.elements[a.index].focus();return!0}function yl(a){var b=a.ij;a.Wk&&a.Tb.isVisible()&&(b=a.ij.concat(a.Tb.ij));return{elements:b,index:b.indexOf(document.activeElement)}}function vl(a,b){a.Ji=b;w(a.ly,b);xl(a)}
function ul(a){a.Wd.style.fontFamily="'UbuntuMedium', Helvetica, Arial, sans-serif";void 0!==a.Ce&&(a.Ce.style.fontFamily="'UbuntuRegular', Helvetica, Arial, sans-serif")}
k.wm=function(){var a=document.createElement("button");a.style.position="relative";a.style.display="inline-block";a.style.color="#fff";a.style.cursor="pointer";a.style.fontSize="14px";a.style.backgroundColor="#f47321";a.style.border="1px solid #b1b1b1";a.style.height="32px";a.style.verticalAlign="top";a.style.margin="0";z("focus",a,function(){a.style.zIndex="100"});z("blur",a,function(){a.style.zIndex="auto"});return a};function rl(a){a=a.wm();a.setAttribute("type","submit");a.style.padding="6px 18px";a.style.borderRadius="4px 0 0 4px";a.style.borderRight="0 none transparent";return a}function sl(a){a=a.wm();a.style.padding="6px 0";a.style.borderRadius="0 4px 4px 0";a.style.width="24px";return a}
var tl=[{label:Yc,value:"public",description:Zc,Vr:Vc,uk:function(){}},{label:$c,value:"anonymous",description:ad,Vr:bd,uk:function(){},Lf:function(){U("SupporterPageOpened",{source:"anon_tip"});window.top.location.href="/supporter/upgrade/"},kf:Nj(),ks:Li+" "+dd}];function Bl(a,b){setTimeout(function(){b.Vi&&U("SendTipViewed",{source:a,tipType:b.Ji,localStorage:y()})},0)}
function Cl(){var a=document.createElement("input");z("keypress",a,function(b){b.metaKey||8===b.charCode||0===b.charCode||13===b.charCode||48<=b.charCode&&57>=b.charCode||b.preventDefault()});return a}function Dl(a){for(var b=l(document.querySelectorAll(".tokencount[updatable-count]")),c=b.next();!c.done;c=b.next())c.value.textContent=""+a}function El(a){a.onclick=function(b){b.preventDefault();ll("/tipping/purchase_tokens/","_blank","height=615, width=850")}};function Fl(a){G.call(this);var b=this;this.iv=[];this.Ki=a;void 0!==a&&z("click",a,function(){b.$d()?b.j():b.show()},!1);this.Lo()}p(Fl,G);k=Fl.prototype;k.Ya=function(){this.element.style.position="relative";this.element.style.overflow="visible";this.element.style.position="absolute";this.element.style.top="0";this.element.style.left="0";this.element.style.right="auto";this.element.style.bottom="auto";this.element.style.width="100%";this.element.style.display="none"};k.show=function(){this.element.style.display="block";Gl(this,!0)};k.j=function(){this.element.style.display="none";Gl(this,!1)};k.Lo=function(){var a=this;z("click",document,function(b){b=b.target;!(b instanceof Element)||a.element.contains(b)||void 0!==a.Ki&&a.Ki.contains(b)||a.j()},!1)};k.$d=function(){return"block"===this.element.style.display};k.onToggle=function(a){this.iv.push(a)};function Gl(a,b){a.iv.forEach(function(c){return c(b)})}k.appendChild=function(a){this.element.appendChild(a)};function Hl(){Fl.apply(this,arguments)}p(Hl,Fl);k=Hl.prototype;k.Ya=function(){Fl.prototype.Ya.call(this);this.element.style.display="block"};k.Lo=function(){var a=this;Fl.prototype.Lo.call(this);void 0!==this.Ki&&null!==this.Ki.parentElement&&z("click",this.Ki.parentElement,function(b){b=b.target;!(b instanceof Element)||a.element.contains(b)||void 0!==a.Ki&&a.Ki.contains(b)||a.j()},!1)};k.show=function(){var a=this.element.parentElement;null!==a&&(a.classList.toggle("pushmenu-animate",!0),Gl(this,!0))};k.j=function(){var a=this.element.parentElement;null!==a&&(a.classList.toggle("pushmenu-animate",!1),Gl(this,!1))};k.$d=function(){var a=this.element.parentElement;return null===a?!1:a.classList.contains("pushmenu-animate")};function Il(){G.call(this);this.jr=[];this.Rj={position:"relative",padding:"5px",margin:"2px 0 0 2px",borderRadius:"4px 4px 0 0",backgroundRepeat:"no-repeat",backgroundPosition:"center",minWidth:"16px",fontSize:"10px",backgroundColor:"rgb(201, 201, 201)",color:F.Vo,cursor:"pointer"};this.Wu={backgroundColor:"#FFFFFF",color:F.Vo};this.ko={backgroundColor:"#FFFFFF",color:"#0d5d81",cursor:"default"};this.Rb=document.createElement("div");this.Rb.id="tab-row";this.Rb.style.width="100%";this.Rb.style.background="#7f7f7f";this.element.appendChild(this.Rb);this.Rb.style.borderBottom="2px solid #7f7f7f";this.window=document.createElement("div");this.window.style.width="100%";this.window.style.position="absolute";this.element.appendChild(this.window)}p(Il,G);k=Il.prototype;k.u=function(){this.window.style.height=this.element.clientHeight-this.Rb.offsetHeight+"px"};k.D=function(){throw Error("addChild not implemented");};function Jl(a,b){b.element.style.width="100%";b.element.style.height="100%";b.element.style.display="none";a.jr.push(Kl(a,b));G.prototype.D.call(a,b,a.window);return b}function Kl(a,b){for(var c=document.createElement("div"),d=l(Object.keys(a.Rj)),e=d.next();!e.done;e=d.next())e=e.value,c.style[e]=a.Rj[e];Ll(b,c);z("click",c,function(f){b.rd(c,f)});z("touchstart",c,function(f){b.rd(c,f)});a.Rb.appendChild(c);return c}
function Ml(a,b,c){var d=a.jr[b];if(c){b=l(Object.keys(a.ko));for(c=b.next();!c.done;c=b.next())c=c.value,d.style[c]=a.ko[c];d.onmouseenter=function(){};d.onmouseleave=function(){}}else{var e=function(){for(var f=l(Object.keys(a.Rj)),g=f.next();!g.done;g=f.next())g=g.value,d.style[g]=a.Rj[g]};e();d.onmouseenter=function(){for(var f=l(Object.keys(a.Wu)),g=f.next();!g.done;g=f.next())g=g.value,d.style[g]=a.Wu[g]};d.onmouseleave=function(){e()}}}k.children=function(){return G.prototype.children.call(this)};k.hk=function(a){a>=this.children().length?x("invalid tab index"):(this.Bg=this.children()[a],Nl(this))};function Ol(a,b){b=a.children().indexOf(b);isNaN(b)?x("tab not found"):a.hk(b)}k.wb=function(){return this.Bg};function Nl(a){for(var b=0;b<a.children().length;b+=1){var c=a.children()[b];c!==a.Bg?(c.j(),Ml(a,b,!1)):a.fw!==a.Bg&&(Ml(a,b,!0),c.show(),a.fw=c)}a.W()}k.Db=function(){for(var a=0;a<this.children().length;a+=1){var b=this.children()[a];Ll(b,this.jr[a])}};function Ll(a,b){b.innerHTML=a.Jg();b.id=a.Of();b.style.backgroundImage=a.rp();b.style.display=a.rj()?"none":"inline-block"}function Pl(a,b){a.Rj=Object.assign(Object.assign({},a.Rj),b)}function Ql(a,b){a.ko=Object.assign(Object.assign({},a.ko),b)}function Rl(){G.call(this);this.element.style.position="relative"}p(Rl,G);k=Rl.prototype;k.rd=function(){Sl(this)};k.rj=function(){return!1};k.rp=function(){return""};k.Of=function(){return""};function Sl(a){void 0===a.parent?x("no parent"):Ol(a.parent,a)}k.show=function(){this.element.style.display="block";this.W()};k.j=function(){this.element.style.display="none"};function Tl(a){return void 0===a.parent?(x("no parent"),!1):a.parent.wb()===a}k.Db=function(){void 0===this.parent?x("no parent"):this.parent.Db()};function Ul(a){G.call(this);this.element.style.fontFamily="Ubuntu, Helvetica, Arial, sans-serif";this.element.style.fontStyle="normal";this.element.style.fontWeight="normal";this.element.style.position="relative";this.element.style.height="";this.element.style.width="";this.element.style.margin="7px";this.element.style.padding="6px";Vl(this,a.ge);this.element.style.borderRadius="4px";this.element.appendChild(Wl(a.text));""!==a.Gl&&this.element.appendChild(Xl(a.Gl));""!==a.url&&this.element.appendChild(Yl(a.url))}
p(Ul,G);function Vl(a,b){a.element.style.backgroundColor=b?"#EFEFEF":"#FFE5BE";a.element.style.border="1px solid "+(b?"#C1C1C1":"#DABB95")}function Wl(a){var b=document.createElement("div");b.innerHTML=a;Zl(b);b.style.fontSize="12px";b.style.lineHeight="14px";b.style.whiteSpace="pre-wrap";b.style.color="#494949";b.style.marginBottom="6px";b.style["word-wrap"]=b.style["word-break"]="break-word";b.style.overflow="hidden";return b}
function Zl(a){Array.from(a.querySelectorAll("a")).forEach(function(b){b.target="_blank";b.style.outline="none";b.style.color="#e45900";b.style.fontSize="12px";b.style.lineHeight="14px";null!==b.firstChild&&b.firstChild instanceof Text&&null!==b.firstChild.textContent&&(b.firstChild.textContent=b.firstChild.textContent.replace(/^http(s)?:\/\//,"").replace(/^www\./,""));b.onclick=function(){U("NewsfeedItemLinkClick")}})}
function Xl(a){var b=document.createElement("div");b.appendChild(document.createTextNode(a));b.style.fontSize="9px";b.style.lineHeight="13px";b.style.color="#7F7F7F";b.style.cssFloat="left";return b}
function Yl(a){var b=document.createElement("a");b.href=a;b.target="_blank";b.appendChild(document.createTextNode(Fh));b.style.fontSize="9px";b.style.lineHeight="13px";b.style.textAlign="right";b.style.color="#0A5A83";b.style.cssFloat="right";b.onclick=function(){U("NewsfeedItemViewOnTwitter")};return b};function $l(){G.call(this);this.element.style.overflow="";this.element.style.position="static";this.element.style.overflowX="hidden";this.element.style.overflowY="auto";am(this)}p($l,G);function am(a){if(/iPad|iPhone|iPod/.test(navigator.platform)){a.element.style["-webkit-overflow-scrolling"]="touch";var b=function(){a.element.style.overflowY="scroll";qb("scroll",a.element,b)};z("scroll",a.element,b)}};function bm(){$l.call(this);this.D(new Ul({text:me+"...",ge:!0,timestamp:0,Gl:"",url:""}))}p(bm,$l);function cm(a,b){hj(a);0===b.length&&a.D(new Ul({text:""+Hi,ge:!0,timestamp:0,Gl:"",url:""}));b.forEach(function(c){a.D(new Ul(c))})}function dm(a){a.children().forEach(function(b){b instanceof Ul&&Vl(b,!0)})}bm.prototype.Ya=function(){this.element.style.maxHeight="307px";this.element.style.backgroundColor="#FFFFFF";this.element.style["-webkit-transform"]="translateZ(0)"};function em(){bm.apply(this,arguments)}p(em,bm);em.prototype.Ya=function(){bm.prototype.Ya.call(this);this.element.style.maxHeight=""};var fm=new q("dropDownToggle"),gm=new q("updatesAreRead");var hm=new q("newsUpdate"),im=new q("newsSeenUpdate");function jm(a){Ib("notifications/updates/").then(function(b){b=qk(new L(b.responseText));void 0!==b&&(b=b.map(function(c){return{text:N(c,"text"),url:N(c,"url"),timestamp:S(c,"timestamp"),Gl:N(c,"time_since"),ge:P(c,"seen")}}),a(b))}).catch()}function km(a,b){Ib("notifications/record_last_seen/?timestamp="+a).then(function(){b()})};function lm(){Rl.call(this);var a=this;this.M=0;this.pt=!1;this.items=[];this.fq=void 0;this.wo=0;this.D(this.Gh);t(fm,function(b){b?(mm(a),a.wo=(new Date).getTime(),U("NewsfeedOpened")):(w(gm,void 0),dm(a.Gh),a.M=0,a.Db(),nm(a,a.items[0].timestamp),a.Yq())});Pa.once(function(b){a.yb=void 0===b.md});z("beforeunload",window,this.Yq.bind(this));z("unload",window,this.Yq.bind(this))}p(lm,Rl);function nm(a,b,c){!1===a.yb&&km(b,function(){void 0!==c&&c()})}k=lm.prototype;k.initData=function(){this.Gh=new bm};k.Yq=function(){if(0!==this.wo){var a={duration_seconds:((new Date).getTime()-this.wo)/1E3};this.wo=0;U("NewsfeedClosed",a)}};k.Jg=function(){return 99<this.M?Hh+" (99+)":0<this.M?Hh+" ("+this.M+")":Hh};k.Of=function(){return"updates-tab"};k.show=function(){Rl.prototype.show.call(this);this.Db();this.u()};function mm(a){a.pt?om(a):jm(function(b){a.items=b;cm(a.Gh,b);a.M=b.filter(function(c){return!c.ge}).length;a.Db();a.pt=!0;om(a);t(im,function(c){a.items.forEach(function(d){d.timestamp<=c.timestamp&&(d.ge=!0)});a.M=a.items.filter(function(d){return!d.ge}).length;cm(a.Gh,a.items);a.Db()});t(hm,function(c){var d=0;0<a.items.length&&(d=Math.max.apply(Math,ca(a.items.map(function(e){return e.timestamp}))));d<c.timestamp&&(a.items.splice(0,0,c),a.M=a.items.filter(function(e){return!e.ge}).length,cm(a.Gh,a.items),a.Db(),om(a))})})}function om(a){0<a.M?(void 0!==a.fq&&clearTimeout(a.fq),a.fq=setTimeout(function(){a.Mk&&nm(a,a.items[0].timestamp,function(){w(gm,void 0);dm(a.Gh);a.M=0;a.Db()})},3E3)):w(gm,void 0)}function pm(){lm.apply(this,arguments)}p(pm,lm);pm.prototype.initData=function(){this.Gh=new em};function qm(){Il.call(this);this.Mk=!1;this.Yp=0;this.Rb.style.borderBottom="none";this.Rb.style.backgroundColor="#747474";this.Rb.style.padding="4px 0 0 6px";this.Rb.style.marginBottom="4px";this.Rb.style.boxSizing="border-box";this.window.style.position="static";Pl(this,{fontSize:"12px",padding:"5px 10px"});Ql(this,{color:"#DC5500"});Jl(this,this.xr);Ol(this,this.xr);var a=document.createElement("A");a.href=Bj.zr;a.target="_blank";a.innerText=Gh;a.style.fontSize="11px";a.style.color="12px";a.style.color="#0A5A83";a.style.textAlign="center";a.style.width="100%";a.style.display="block";a.style.padding="5px 0";a.style.marginBottom="7px";this.element.appendChild(a)}p(qm,Il);qm.prototype.u=function(){};qm.prototype.Ls=function(a){return new rm(this,a)};qm.prototype.Ya=function(){this.element.style.overflow="";this.element.style.position="static";this.element.style.backgroundColor="#FFFFFF";this.element.style.border="1px solid #2C6990";this.element.style.borderTop="none";this.element.style.borderRadius="0 0 4px 4px"};qm.prototype.initData=function(){this.xr=new lm};function sm(){qm.call(this);for(var a=1;a<this.element.children.length-1;a+=1)this.element.children[a].style.height="calc(100% - 60px)"}p(sm,qm);sm.prototype.Ls=function(a){return new tm(this,a)};sm.prototype.Ya=function(){qm.prototype.Ya.call(this);this.element.style.borderRight="0"};sm.prototype.initData=function(){this.xr=new pm};function um(a,b){t(hm,function(c){a.Yp<c.timestamp&&0>b.className.indexOf("has_unseen")&&(b.className=[b.className,"has_unseen"].join(" "))});t(im,function(c){a.Yp<c.timestamp&&(a.Yp=c.timestamp,w(gm,void 0))})}
function rm(a,b){Fl.call(this,b);var c=this;this.ni=a;this.element.appendChild(this.ni.element);this.onToggle(function(d){c.ni.Mk!==d&&(c.ni.Mk=d,w(fm,d),b.classList.toggle("active",d))});t(gm,function(){b.className=b.className.replace("has_unseen","")});um(a,b)}p(rm,Fl);rm.prototype.Ya=function(){Fl.prototype.Ya.call(this);this.element.style.maxHeight="368px";this.element.style.height="";this.element.style.width="100%";this.element.style.zIndex="1001";this.element.style.backgroundColor="transparent";this.element.style.fontFamily="UbuntuBold, Helvetica, Arial, sans-serif";this.element.style.left="-1px";this.element.style.top="24px"};function tm(a,b){Hl.call(this,b);var c=this;this.ni=a;this.element.appendChild(this.ni.element);this.onToggle(function(d){c.ni.Mk!==d&&(c.ni.Mk=d,w(fm,d),b.classList.toggle("active",d))});t(gm,function(){b.className=b.className.replace("has_unseen","")});um(a,b)}p(tm,Hl);tm.prototype.Ya=function(){Hl.prototype.Ya.call(this);this.element.style.maxHeight="";this.element.style.width="100%";this.element.style.zIndex="1001";this.element.style.backgroundColor="#FFFFFF";this.element.style.fontFamily="UbuntuBold, Helvetica, Arial, sans-serif";this.element.style.left="-1px";this.element.style.top="0";this.element.style.height="calc(100% - 39px)";this.element.style.top="39px"};var vm=new q("modalReposition");z("resize",window,function(){w(vm,void 0)});var wm=new q("modalFullscreenChange");z(wj(),document,function(){w(wm,void 0)});var xm=new q("modalEscape");z("keydown",document,function(a){27===a.keyCode&&w(xm,a)});var ym=new q("modalOpened");function zm(a){a=void 0===a?!0:a;G.call(this);var b=this;this.Xb=new q("overlayClick");this.Ha=new Ma;this.Bq=this.Yt=this.Yf=!1;this.R=document.createElement("div");this.R.style.position="fixed";this.R.style.display="none";this.R.style.left="0";this.R.style.top="0";this.R.style.right="0";this.R.style.bottom="0";this.R.style.zIndex="1100";this.R.onclick=function(c){c.stopPropagation();w(b.Xb,void 0);b.Yt||b.Ua()};this.element.style.zIndex="1101";this.element.onclick=function(c){c.stopPropagation()};this.yx=function(){b.Yf&&b.W()};this.Dw=function(){b.Yf&&b.hb()};a&&t(xm,function(c){b.Yf&&(c.preventDefault(),b.Ua())})}p(zm,G);zm.prototype.hb=function(){var a=vj();vj()&&void 0!==a?(a.appendChild(this.R),a.appendChild(this.element)):(document.body.appendChild(this.R),document.body.appendChild(this.element));this.Yf||(a=t(vm,this.yx),this.Ha.add(a),a=t(wm,this.Dw),this.Ha.add(a),this.Bq&&w(ym,!0),this.Yf=!0);this.R.style.display="block"};zm.prototype.Ua=function(){this.R.style.display="none";null!==this.element.parentElement&&this.element.parentElement.removeChild(this.element);null!==this.R.parentElement&&this.R.parentElement.removeChild(this.R);this.Yf&&(Oa(this.Ha),this.Bq&&w(ym,!1),this.Yf=!1)};var Am={enabled:!1,move:function(){},end:function(){}};function Bm(a,b){Cm(a,b,function(c){return{valid:!0,x:c.clientX,y:c.clientY}},"mousedown","mousemove","mouseup");Cm(a,b,function(c){return 1===c.touches.length&&(c=c.touches.item(0),null!==c)?{valid:!0,x:c.clientX,y:c.clientY}:{valid:!1,x:0,y:0}},"touchstart","touchmove","touchend")}
function Cm(a,b,c,d,e,f){z(d,a,function(g){var h=c(g);if(h.valid){var m=b(g,h.x,h.y);if(m.enabled){m.move(h.x,h.y);g.preventDefault();var n=function(E){E=c(E);E.valid&&m.move(E.x,E.y)},r=function(E){E.preventDefault();void 0!==E.buttons&&(jb()&&void 0===window.atob?0===E.buttons:1===E.buttons)||void 0!==E.touches&&1===E.touches.length?n(E):v(E,!1)};z(e,document,r,!0);var v=function(E,J){(void 0===J||J)&&n(E);qb(e,document,r,!0);qb(f,document,v,!0);m.end()};z(f,document,v,!0)}}})};function Dm(){var a=document.createElement("div");a.style.visibility="hidden";a.style.width="100px";a.style.msOverflowStyle="scrollbar";document.body.appendChild(a);var b=a.offsetWidth;a.style.overflow="scroll";var c=document.createElement("div");c.style.width="100%";a.appendChild(c);c=c.offsetWidth;document.body.removeChild(a);return b-c};function Em(a,b,c){this.sb=a;this.config=c;this.G={be:NaN,ne:NaN,Vd:NaN,fe:NaN,width:NaN,height:NaN};this.Ct="window__"+b;a={be:NaN,ne:NaN,Vd:NaN,fe:NaN,width:NaN,height:NaN};if(y()&&(b=window.localStorage.getItem(this.Ct),null!==b)){a=JSON.parse(b);for(var d in a)null===a[d]&&(a[d]=NaN);isNaN(a.width)&&(a.width=this.config.jf);isNaN(a.height)&&(a.height=this.config.hf)}this.G=a;isNaN(this.G.width)&&(this.G.width=this.config.jf);isNaN(this.G.height)&&(this.G.height=this.config.hf);isNaN(this.G.be)&&isNaN(this.G.fe)&&(0<=this.config.gf.indexOf(1)?this.G.fe=Dm():this.G.be=0<=this.config.gf.indexOf(4)?window.innerWidth/2-this.config.jf/2:0);isNaN(this.G.ne)&&isNaN(this.G.Vd)&&(0<=this.config.gf.indexOf(3)?this.G.Vd=Dm():this.G.ne=0<=this.config.gf.indexOf(4)?window.innerHeight/2-this.config.hf/2:0)}
Em.prototype.save=function(){var a=this.sb.element.parentElement;if(null===a)x("no parent element");else{var b=this.sb.element.offsetLeft,c=this.sb.element.offsetTop,d=a.clientHeight-(this.sb.element.offsetHeight+c);a=a.clientWidth-(this.sb.element.offsetWidth+b);this.G.height=this.sb.element.offsetHeight;this.G.width=this.sb.element.offsetWidth;b<=a?(this.G.be=b,this.G.fe=NaN):(this.G.be=NaN,this.G.fe=a);c<=d?(this.G.ne=c,this.G.Vd=NaN):(this.G.ne=NaN,this.G.Vd=d)}y()&&window.localStorage.setItem(this.Ct,JSON.stringify(this.G))};Em.prototype.apply=function(){var a=this.sb.element.parentElement;if(null===a)x("no parent element");else{void 0!==this.config.gm&&this.config.gm?(this.sb.va.style.position="relative",this.sb.element.style.width="auto",this.sb.element.style.height="auto",this.G.height=this.sb.element.offsetHeight,this.G.width=this.sb.element.offsetWidth):(this.config.$g?(this.G.width=Math.min(this.G.width,a.clientWidth),this.G.height=Math.min(this.G.height,a.clientHeight),this.G.width=Math.max(this.G.width,this.config.minWidth),this.G.height=Math.max(this.G.height,this.config.minHeight)):(this.G.width=this.config.jf,this.G.height=this.config.hf+Fm(this.sb)),this.sb.element.style.width=this.G.width+"px",this.sb.element.style.height=this.G.height+"px");var b=!isNaN(this.G.be)&&!isNaN(this.G.fe)||isNaN(this.G.be)&&isNaN(this.G.fe);!isNaN(this.G.ne)&&!isNaN(this.G.Vd)||isNaN(this.G.ne)&&isNaN(this.G.Vd)||b?Nb("unexpected bounds: top:"+this.G.ne+" bottom:"+this.G.Vd+" left:"+this.G.be+" right: "+this.G.fe):(b=a.clientHeight,isNaN(this.G.ne)?isNaN(this.G.Vd)||(this.G.Vd+this.G.height>b&&(Nb("set bottomBound to container height - bounds height to make fit"),this.G.Vd=b-this.G.height),this.sb.element.style.top=b-this.G.height-this.G.Vd+"px"):(this.G.ne+this.G.height>b&&(Nb("set topBound to container height - bounds height to make fit"),this.G.ne=b-this.G.height),this.sb.element.style.top=this.G.ne+"px"),a=a.clientWidth,isNaN(this.G.be)?isNaN(this.G.fe)||(this.G.fe+this.G.width>a&&(Nb("set rightBound to 0 to make fit"),this.G.fe=0),this.sb.element.style.left=a-this.G.width-this.G.fe+"px"):(this.G.be+this.G.width>a&&(Nb("set leftBound to 0 to make fit"),this.G.be=0),this.sb.element.style.left=this.G.be+"px"))}};function Gm(a,b){this.pp=a;this.config=b;this.Oo=this.Fq=!1}function Hm(a){if(1===a.config.zm)clearTimeout(a.gw),a.gw=setTimeout(a.pp,a.config.$i);else{var b=function(){a.Oo&&2===a.config.zm?(a.Oo=!1,a.pp(),setTimeout(b,a.config.$i)):a.Fq=!1};a.Fq?a.Oo=!0:(a.Fq=!0,a.pp(),setTimeout(b,a.config.$i))}};function Im(a){G.call(this);var b=this;this.element.style.height="0";this.element.style.width="0";this.element.style.overflow="visible";this.element.style.position="fixed";this.element.style.top="0";this.element.style.left="0";this.Pc=a.Pc;this.listener=function(){b.W()};t(this.Pc.Am,this.listener);this.D(new Jm(this,a));this.D(new Km(this,a));this.D(new Lm(this,a));this.D(new Mm(this,a));this.D(new Nm(this,a));this.D(new Om(this,a));this.D(new Pm(this,a));this.D(new Qm(this,a))}p(Im,G);Im.prototype.u=function(){};function Rm(a,b,c){G.call(this);var d=this;this.options=b;this.cursor=c;this.ec=8;this.element.style.height=this.ec+"px";this.element.style.width=this.ec+"px";this.element.style.cursor=this.cursor;Bm(this.element,function(e,f,g){e.stopPropagation();void 0!==b.Tt&&b.Tt();var h=Object.freeze(gl(b.Pc.element)),m=new Gm(function(){b.Pc.W()},{$i:10});return{enabled:!0,move:function(n,r){n=d.Tg(h,{x:n-f,y:r-g});r=b.Pc.element;r.style.left=n.left+"px";r.style.top=n.top+"px";r.style.width=n.width+"px";r.style.height=n.height+"px";Hm(m)},end:function(){void 0!==b.Ut&&b.Ut()}}})}p(Rm,G);function Jm(a,b){Rm.call(this,a,b,"ns-resize")}p(Jm,Rm);Jm.prototype.u=function(){var a=this.options.Pc.element.getBoundingClientRect();this.element.style.top=a.top-this.ec/2+"px";this.element.style.left=a.left+"px";this.element.style.width=a.right-a.left+"px"};Jm.prototype.Tg=function(a,b){return hl(a,b.y,this.options.minHeight)};function Km(a,b){Rm.call(this,a,b,"ns-resize")}p(Km,Rm);Km.prototype.u=function(){var a=this.options.Pc.element.getBoundingClientRect();this.element.style.top=a.top+a.height-this.ec/2+"px";this.element.style.left=a.left+"px";this.element.style.width=a.width+"px"};Km.prototype.Tg=function(a,b){return il(a,b.y,this.options.minHeight,this.options.maxHeight())};function Lm(a,b){Rm.call(this,a,b,"ew-resize")}p(Lm,Rm);Lm.prototype.u=function(){var a=this.options.Pc.element.getBoundingClientRect();this.element.style.top=a.top+"px";this.element.style.left=a.left-this.ec/2+"px";this.element.style.height=a.bottom-a.top+"px"};Lm.prototype.Tg=function(a,b){return jl(a,b.x,this.options.minWidth)};function Mm(a,b){Rm.call(this,a,b,"ew-resize")}p(Mm,Rm);Mm.prototype.u=function(){var a=this.options.Pc.element.getBoundingClientRect();this.element.style.top=a.top+"px";this.element.style.left=a.right-this.ec/2+"px";this.element.style.height=a.bottom-a.top+"px"};Mm.prototype.Tg=function(a,b){return kl(a,b.x,this.options.minWidth,this.options.maxWidth())};function Nm(a,b){Rm.call(this,a,b,"nwse-resize")}p(Nm,Rm);Nm.prototype.u=function(){var a=this.options.Pc.element.getBoundingClientRect();this.element.style.top=a.top-this.ec+this.ec/2+"px";this.element.style.left=a.left-this.ec+this.ec/2+"px"};Nm.prototype.Tg=function(a,b){var c=hl(a,b.y,this.options.minHeight);a=jl(a,b.x,this.options.minWidth);return{top:c.top,height:c.height,left:a.left,width:a.width}};function Om(a,b){Rm.call(this,a,b,"nesw-resize")}p(Om,Rm);Om.prototype.u=function(){var a=this.options.Pc.element.getBoundingClientRect();this.element.style.top=a.top-this.ec+this.ec/2+"px";this.element.style.left=a.right-this.ec/2+"px"};Om.prototype.Tg=function(a,b){var c=hl(a,b.y,this.options.minHeight);a=kl(a,b.x,this.options.minWidth,this.options.maxWidth());return{top:c.top,height:c.height,left:a.left,width:a.width}};function Pm(a,b){Rm.call(this,a,b,"nesw-resize")}p(Pm,Rm);Pm.prototype.u=function(){var a=this.options.Pc.element.getBoundingClientRect();this.element.style.top=a.bottom-this.ec/2+"px";this.element.style.left=a.left-this.ec+this.ec/2+"px"};Pm.prototype.Tg=function(a,b){var c=il(a,b.y,this.options.minHeight,this.options.maxHeight());a=jl(a,b.x,this.options.minWidth);return{top:c.top,height:c.height,left:a.left,width:a.width}};function Qm(a,b){Rm.call(this,a,b,"nwse-resize")}p(Qm,Rm);Qm.prototype.u=function(){var a=this.options.Pc.element.getBoundingClientRect();this.element.style.top=a.bottom-this.ec/2+"px";this.element.style.left=a.right-this.ec/2+"px"};Qm.prototype.Tg=function(a,b){var c=il(a,b.y,this.options.minHeight,this.options.maxHeight());a=kl(a,b.x,this.options.minWidth,this.options.maxWidth());return{top:c.top,height:c.height,left:a.left,width:a.width}};function Tm(a,b,c){G.call(this);var d=this;this.H=a;this.content=b;this.config=c;this.mt=!1;this.ns=new q("draggingOrResizingChanged");this.Wb=!1;this.element.style.overflow="visible";this.va=document.createElement("div");this.va.style.height="100%";this.va.style.width="100%";this.va.style.position="absolute";this.va.style.overflow="visible";this.va.style.boxSizing="border-box";this.va.style.backgroundColor="rgb(255, 255, 255)";this.va.style.border="2px solid";this.va.style.borderColor="#0d5d81";this.Xv=void 0!==c.title;var e=this.kb=document.createElement("div");this.kb.id=(this.config.pe+"-close-btn").toLowerCase();this.kb.style.position="absolute";this.kb.style.right="3px";this.kb.style.height="10px";this.kb.style.width="10px";this.kb.style.cursor="pointer";this.kb.style.border="1px solid";this.kb.style.borderColor="#eee";this.kb.style.borderRadius="2px";z("mouseenter",this.kb,function(){e.style.backgroundImage="url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/close.svg)";e.style.backgroundSize="10px";e.style.backgroundColor="#c9c9c9"});z("mouseleave",this.kb,function(){e.style.backgroundImage="";e.style.backgroundColor=""});void 0!==c.title?(this.ad=document.createElement("div"),this.ad.style.position="relative",this.ad.style.backgroundColor="#cccccc",this.ad.style.color="#0b5d81",this.ad.style.fontSize="13px",this.ad.style.fontWeight="bold",this.ad.style.padding="3px 3px 3px 5px",this.ad.style.minHeight="10px",this.Cf=document.createElement("div"),this.Cf.style.height="100%",this.Cf.style.whiteSpace="nowrap",this.Cf.style.overflow="hidden",this.Cf.style.textOverflow="ellipsis",this.ad.appendChild(this.Cf),this.vo=document.createElement("span"),this.vo.innerText=c.title,this.Cf.appendChild(this.vo),this.Vg=c.Vg,this.ad.appendChild(this.kb),this.va.appendChild(this.ad),z("click",this.kb,function(f){f.stopPropagation();d.H.removeChild(d)})):(this.kb.style.top="5px",this.kb.style.zIndex="1",this.element.appendChild(this.kb),z("click",this.kb,function(f){f.stopPropagation();d.element.style.display="none";d.Wb=!1}));this.D(this.content,this.va);this.zq=new Em(this,this.config.pe,this.config);this.Su=function(){d.zq.save();d.W()};void 0===c.Ap&&(c.Ap=void 0!==this.Cf?[this.Cf]:[this.element]);Um(this.element,{ls:function(){Vm(d.H,d);Wm(d,!0)},ms:function(){Wm(d,!1);d.Su();U("MoveDraggableWindow",{window:d.config.pe,left:d.element.offsetLeft,top:d.element.offsetTop,windowWidth:window.innerWidth,windowHeight:window.innerHeight})},bs:function(){return!d.mt}},c.Ap);!0===c.$g&&Xm(this);this.element.appendChild(this.va)}
p(Tm,G);function Ym(a,b){void 0!==a.vo&&(a.vo.innerText=b)}
function Xm(a){void 0===a.Ij&&(a.Ij=a.D(new Im({minWidth:a.config.minWidth,minHeight:a.config.minHeight,maxWidth:function(){return a.H.element.clientWidth},maxHeight:function(){return a.H.element.clientHeight},Pc:a,Tt:function(){Vm(a.H,a);Wm(a,!0)},Ut:function(){Wm(a,!1);a.Su();U("ResizeDraggableWindow",{window:a.config.pe,width:a.element.clientWidth,height:a.element.clientHeight,windowWidth:window.innerWidth,windowHeight:window.innerHeight})}})),a.Ij.W())}function Wm(a,b){a.mt=b;w(a.ns,b)}
function Zm(a){if(void 0!==a.Ij){var b=a.Ij;b.Pc.Am.removeListener(b.listener);a.removeChild(a.Ij);a.Ij=void 0}}
Tm.prototype.u=function(){this.content.element.style.height=void 0!==this.config.gm&&this.config.gm?"auto":this.element.clientHeight-Fm(this)-4+"px";void 0!==this.ad&&(void 0===this.kb?x("expected close button to be defined"):void 0===this.Cf?x("expected title bar div inner to be defined"):(this.Cf.style.maxWidth=this.ad.clientWidth-this.kb.offsetWidth-5-6+"px",this.kb.style.top=(this.ad.offsetHeight-this.kb.offsetHeight)/2+"px"))};Tm.prototype.show=function(){this.element.style.opacity="1"};Tm.prototype.j=function(){this.element.style.opacity="0"};function Fm(a){return void 0===a.ad?0:a.ad.offsetHeight}Tm.prototype.blur=function(){this.H.yc===this&&Vm(this.H,void 0)};function $m(a,b){return void 0!==a.config.sq?a.config.sq(b):!1}
function Um(a,b,c){c=l(c);for(var d=c.next();!d.done;d=c.next())d=d.value,d.style.cursor="move",Bm(d,function(e,f,g){if(void 0!==b.bs&&!1===b.bs())return Am;var h=a.offsetLeft,m=a.offsetTop,n=a.offsetHeight,r=a.offsetWidth;if(null===a.parentElement)return x("draggable without parent element"),Am;var v=a.parentElement.clientHeight,E=a.parentElement.clientWidth,J=f,C=g;void 0!==b.ls&&b.ls();return{enabled:!0,move:function(K,R){J=K;C=R;K=m+(C-g);R=h+(J-f);0>K?K=0:K+n>v&&(K=v-n);0>R?R=0:R+r>E&&(R=E-r);a.style.top=K+"px";a.style.left=R+"px"},end:function(){void 0!==b.ms&&b.ms()}}})};function an(a){var b=void 0===b?!0:b;this.label=document.createElement("label");this.label.htmlFor="comments";this.label.innerText=hi;this.input=document.createElement("textarea");this.input.name="comments";b&&(this.input.required=b);this.error=document.createElement("p");a.appendChild(this.label);a.appendChild(this.input);a.appendChild(this.error)};function bn(a){switch(a){case "orga":return 0;case "orgb":return 1;case "org":return 2;case "none":return 3;default:return 1}}
function cn(a){switch(a){case "away":return"away";case "group":return"groupnotwatching";case "group_watching":return"groupwatching";case "group_requesting":return"grouprequesting";case "private":return"privatenotwatching";case "private_watching":return"privatewatching";case "private_spying":return"privatespying";case "private_requesting":return"privaterequesting";case "public":return"public";case "hidden":return"hidden";case "offline":return"offline";case "password protected":return"passwordprotected";default:return x("unknown room status -- "+a),"unknown"}}var dn;function en(a){var b=[];if(""!==a)try{JSON.parse(a).forEach(function(c){b.push({Jo:c[0],Qr:c[1]})})}catch(c){x("Error parsing apps "+c.toString())}return b}function fn(a){var b=[];if(""!==a)try{b=JSON.parse(a).map(function(c){return{text:c.text,href:c.href}})}catch(c){x("Error parsing anchors "+c.toString())}return b}
function gn(a){return new Promise(function(b,c){var d=new L(a);if(400<=S(d,"status",!1))c("Bad response from server: "+a);else{c=tk(d,"chat_settings");var e=tk(d,"ads_zone_ids"),f=tk(d,"satisfaction_score"),g=N(d,"flash_host"),h=Fk();void 0!==h.edge&&(g="edge"+h.edge+".stream.highwebmedia.com");h=N(d,"wschat_host");var m=N(d,"broadcaster_username"),n=N(d,"room_pass"),r=N(d,"room_title"),v=cn(N(d,"room_status")),E=P(d,"is_supporter"),J=P(d,"needs_supporter_to_pm"),C=N(d,"broadcaster_gender"),K=N(d,"viewer_username"),R=N(d,"chat_username"),ba=encodeURI(N(d,"edge_auth")),Q=N(d,"chat_password"),W=N(d,"viewer_gender"),V=N(d,"exploring_hashtag"),da=N(d,"hls_source"),ra=P(d,"is_widescreen"),za=en(N(d,"apps_running")),zc=P(d,"allow_private_shows"),Ac=P(d,"allow_group_shows"),rd=S(d,"private_show_price"),yb=S(d,"private_min_minutes"),na=P(d,"allow_show_recordings"),Na=P(d,"allow_anonymous_tipping"),zb=S(d,"group_show_price"),sx=S(d,"spy_private_show_price"),tx=P(d,"low_satisfaction_score"),ux=P(d,"is_age_verified"),vx=N(d,"hidden_message"),wx=P(d,"following"),xx=P(d,"is_moderator"),yx=N(d,"recommender_hmac"),zx=P(d,"broadcaster_on_new_chat"),Ax=S(d,"token_balance"),Bx=N(d,"server_name"),Cx=S(d,"num_followed"),Dx=S(d,"num_followed_online"),Ex=P(d,"has_studio"),Fx=P(d,"is_mobile"),Gx=vk(d,"ignored_emoticons"),Hx=P(d,"hide_satisfaction_score"),Ix=S(d,"tips_in_past_24_hours"),Jx=sk(d,"last_vote_in_past_24_hours"),Kx=P(d,"last_vote_in_past_90_days_down"),Ye=vk(d,"dismissible_messages"),Sm=[];Ye=l(Ye);for(var Bc=Ye.next();!Bc.done;Bc=Ye.next())Bc=Bc.value,Sm.push({id:Bc.id,cx:Bc.message_html});c={host:h,a:m,Rq:n,Ea:r,fb:v,Pg:E,yn:J,ml:C,userName:K,ik:R,kw:ba,Gr:Q,xy:W,lf:V,lw:g,Hk:da,bb:ra,Xi:za,we:zc,ve:Ac,qb:rd,Yg:yb,xh:na,Fv:Na,mb:zb,$b:sx,Um:tx,Mb:ux,nj:vx,Nf:wx,Tc:xx,lu:yx,Rv:zx,Ia:Ax,Ty:Bx,hx:Cx,ix:Dx,My:Ex,hn:Fx,bn:Gx,Zs:Hx,Sd:Ix,wt:Jx,Yw:Kx,rk:Sm,ay:P(d,"show_mobile_site_banner_link"),Lt:S(d,"num_users_required_for_group"),Mt:S(d,"num_users_waiting_for_group"),Cn:S(d,"num_viewers"),Yh:P(d,"fan_club_is_member"),Ie:P(d,"performer_has_fanclub"),Zt:P(d,"fan_club_paid_with_tokens"),eh:{oh:S(f,"up_votes",!1),Eg:S(f,"down_votes",!1),Ne:S(f,"percent",!1)},ky:P(d,"tfa_enabled"),cm:{header:N(e,"468x60"),rightTop:N(e,"160x600,top"),rightMiddle:N(e,"160x600,middle"),rightBottom:N(e,"160x600,bottom"),footerLeft:N(e,"300x250,left"),footerMiddle:N(e,"300x250,centre"),footerRight:N(e,"300x250,right")},la:{op:N(c,"font_color"),fontFamily:N(c,"font_family"),fontSize:N(c,"font_size"),Pj:P(c,"show_emoticons"),Em:N(c,"emoticon_autocomplete_delay"),$s:N(c,"highest_token_color"),Wy:N(c,"sort_users_key"),Re:bn(N(c,"room_entry_for")),Se:bn(N(c,"room_leave_for")),Uy:N(c,"silence_broadcasters"),Oy:N(c,"ignored_users"),Dy:N(c,"allowed_chat"),$e:parseInt(N(c,"v_tip_vol")),Ey:parseInt(N(c,"b_tip_vol"))}};e=M(d,"staff_links");void 0!==e&&(c.fo={fr:fn(e),Kv:P(d,"auto_load_admin_info"),eu:M(d,"previous_usernames"),js:M(d,"deletion_admin_notice")});T(d);b(c)}})}
function hn(a){void 0!==dn&&(dn.abort(),dn=void 0);return new Promise(function(b,c){var d=Jb("api/chatvideocontext/"+a+"/");dn=d[0];d[1].then(function(e){b(gn(e.responseText))}).catch(function(e){404===e.Ud.status?(H("HTTP 404 - Page Not Found\n\nIt's probably just a broken link, or perhaps a cancelled broadcaster."),e.Ud.abort()):c(e)})})}
function jn(a,b){var c=!0;"public"!==b.Jd&&("privaterequesting"===a.i.status&&"privaterequesting"===b.ua||"grouprequesting"===a.i.status&&"grouprequesting"===b.ua)&&(c=!1);return c}function kn(a,b){return hn(a.i.a()).then(function(c){a.h=c;a.i.status=c.fb;b.ua=c.fb})};function ln(a){jj.call(this);var b=this;this.b=a;this.ti=new Map;this.rl=void 0;this.element.style.visibility="hidden";this.element.style.width="auto";this.element.style.minWidth="100px";this.element.style.height="auto";this.element.style.position="absolute";this.element.style.borderRadius="2px";this.element.style.fontSize="14px";this.element.style.textAlign="center";this.element.style.backgroundColor="rgba(0, 0, 0, 0.3)";this.element.onclick=function(){b.j()};t(this.b.ce,function(d){b.ti.clear();b.clear();for(var e=!1,f=l(d),g=f.next();!g.done;g=f.next())g=g.value,g.label===b.rl&&(e=!0),b.ti.set(g.label,g.value),b.element.appendChild(b.Yo(g));0===d.length?b.b.ub.Ys():(b.b.ub.Pu(),c&&e&&void 0!==b.rl&&(c=!1,b.le(b.rl)))});var c=!1;t(this.b.Wr,function(){c=void 0!==b.rl});t(this.Xb,function(){b.j()});this.j()}p(ln,jj);k=ln.prototype;k.u=function(){this.element.style.right="0px";this.element.style.bottom=this.b.ub.Ub()+"px"};k.Yo=function(a){var b=this,c=document.createElement("div");c.innerText=a.label;c.style.color="#ffffff";c.style.padding="1px";c.style.width="100%";c.style.border="1px solid rgba(255, 255, 255, 0.5)";c.onmouseenter=function(){c.style.color="#fc760c";c.style.borderColor="#fc760c"};c.onmouseleave=function(){c.style.color="#FFFFFF";c.style.borderColor="rgba(255, 255, 255, 0.5)"};a.Tj?c.style.backgroundColor="rgba(204, 204, 204, 0.6)":c.onclick=function(){U("clickMenuLink:QualitySelect-"+a.label);b.le(a.label)};return c};k.le=function(a){this.rl=a;a=this.ti.get(a);void 0===a?x("Undefined quality level key",{},"VIDEO_"):this.b.le(a)};k.clear=function(){for(;null!==this.element.firstChild;)this.element.removeChild(this.element.firstChild)};k.show=function(){this.hb();this.element.style.visibility="visible";this.u()};k.j=function(){this.Ua();this.element.style.visibility="hidden"};var mn=new q("roomListRequest"),nn=new q("playerForceMuted"),on=new q("standardEmoticonRequest"),pn=new q("userMenuPmClicked"),qn=new q("closePmSession"),rn=new q("appDebuggingToggled");function sn(a,b){try{return new MouseEvent(a,b)}catch(d){var c=document.createEvent("MouseEvent");c.initMouseEvent(a,void 0!==b.bubbles?b.bubbles:!1,void 0!==b.cancelable?b.cancelable:!1,window,0,void 0!==b.screenX?b.screenX:0,void 0!==b.screenY?b.screenY:0,void 0!==b.clientX?b.clientX:0,void 0!==b.clientY?b.clientY:0,void 0!==b.ctrlKey?b.ctrlKey:!1,void 0!==b.altKey?b.altKey:!1,void 0!==b.shiftKey?b.shiftKey:!1,void 0!==b.metaKey?b.metaKey:!1,void 0!==b.button?b.button:0,void 0!==b.relatedTarget?b.relatedTarget:null);return c}};function tn(a){G.call(this);var b=this;this.config=a;this.value=0;this.Ao=new q("valueChanged");this.zo=new q("valueChangeStart");this.yo=new q("valueChangeEnd");this.element.style.position="relative";this.element.style.overflow="visible";this.element.style.cursor="pointer";this.element.style.width=void 0!==a.cf?a.cf+a.xb+"px":"90%";this.element.style.height=a.xb+"px";this.zh=void 0!==a.zh?a.zh:2*Math.round(.25*a.xb/2);void 0!==a.Mo?(this.xd=document.createElement("img"),this.xd.src=a.Mo,this.xd.style.width="100%",this.xd.style.height="100%"):(this.xd=document.createElement("div"),this.xd.style.position="absolute",this.xd.style.boxSizing="border-box",void 0!==a.os?this.xd.style.backgroundColor=a.os:(this.xd.style.backgroundColor="#333333",this.xd.style.backgroundColor="rgba(255, 255, 255, 0.2)"),this.xd.style.top=.5*(a.xb-this.zh)+"px",this.xd.style.height=this.zh+"px",this.xd.style.width="100%");this.element.appendChild(this.xd);void 0!==a.Mo?(this.Ee=document.createElement("div"),this.Ee.style.visibility="none"):(this.Ee=document.createElement("div"),this.Ee.style.position="absolute",this.Ee.style.boxSizing="border-box",this.Ee.style.backgroundColor=void 0!==a.ys?a.ys:"#ffffff",this.Ee.style.top=.5*(a.xb-this.zh)+"px",this.Ee.style.height=this.zh+"px",this.element.appendChild(this.Ee));void 0!==a.Rs?(this.ra=document.createElement("img"),this.ra.style.position="absolute",this.ra.style.top="0",this.ra.src=a.Rs,this.ra.style.height=a.xb+"px",this.ra.style.width=a.xb+"px",this.ra.style.cursor="grab",this.ra.style.left="0px"):(this.ra=document.createElement("div"),this.ra.style.position="absolute",this.ra.style.top="0",this.ra.style.backgroundColor=void 0!==a.Qs?a.Qs:"#ffffff",this.ra.style.borderRadius="50%",this.ra.style.height=a.xb+"px",this.ra.style.height=a.xb+"px",this.ra.style.width=a.xb+"px",this.ra.style.cursor="grab");this.element.appendChild(this.ra);this.ty=new Gm(function(){w(b.Ao,b.value)},{$i:100,zm:2});un(this,function(c){vn(b,c,c.clientX)},"mousedown","mousemove","mouseup");un(this,function(c){if(1===c.touches.length){var d=c.touches.item(0);null!==d&&vn(b,c,d.clientX)}},"touchstart","touchmove","touchend");z("mousedown",this.element,function(c){vn(b,c,c.clientX);b.ra.dispatchEvent(sn(c.type,c))})}p(tn,G);function un(a,b,c,d,e){z(c,a.ra,function(f){function g(h){w(a.yo,a.value);a.ra.style.cursor="grab";document.body.style.cursor="";h.preventDefault();qb(d,document,b,!0);qb(e,document,g,!0)}w(a.zo,a.value);a.ra.style.cursor="";document.body.style.cursor="grabbing";f.preventDefault();f.stopPropagation();z(d,document,b,!0);z(e,document,g,!0)})}
function vn(a,b,c){var d=a.element.getBoundingClientRect().left;void 0!==a.config.cf?wn(a,100/a.config.cf*(Math.max(.5*a.config.xb,Math.min(a.config.cf+.5*a.config.xb,c-d))-.5*a.config.xb)):wn(a,100/a.element.offsetWidth*(Math.max(.5*a.config.xb,Math.min(a.element.offsetWidth+.5*a.config.xb,c-d))-.5*a.config.xb));Hm(a.ty);b.preventDefault()}tn.prototype.mf=function(){return this.value};function wn(a,b){void 0!==a.config.cf?(a.ra.style.left=b*a.config.cf/100+"px",a.Ee.style.width=b*a.config.cf/100+"px"):(a.ra.style.left=b*(a.element.offsetWidth-a.config.xb)/100+"px",a.Ee.style.width=b*a.element.offsetWidth/100+"px");a.value=b}tn.prototype.Ad=function(){void 0===this.config.cf&&(this.ra.style.left=this.value*(this.element.offsetWidth-this.config.xb)/100+"px",this.Ee.style.width=this.value*this.element.offsetWidth/100+"px")};function xn(a,b){function c(f){f!==d.state.volume&&d.Li(f)}G.call(this);var d=this;this.b=a;this.state={volume:60,oa:!0};this.vx=b;this.state.oa=yn();this.state.volume=zn();this.element.style.bottom="0px";this.element.style.left="0px";this.element.style.height="32px";this.element.style.background="url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ConfigBarNoEdge.png) repeat-x";this.ib=this.D(new tn({xb:11,cf:66,zh:4,Rs:"https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/SliderKnob.png",Mo:"https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/SliderBar.png"}));this.ib.element.style.position="absolute";this.ib.element.style.left="30px";this.ib.element.style.bottom="10px";wn(this.ib,this.state.volume);t(this.ib.zo,function(f){d.b.ke(!1);d.Nl();c(f)});t(this.ib.Ao,c);t(this.ib.yo,function(f){c(f);0===d.state.volume&&d.b.ke(!0);U("ChangeVolume",{volume:f})});b=document.createElement("div");b.style.width="115px";b.style.height="100%";b.style.cssFloat="left";this.element.appendChild(b);this.bo=document.createElement("img");this.bo.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ConfigBar.png";this.bo.style.width="100%";this.bo.style.height="100%";b.appendChild(this.bo);this.Sa=document.createElement("img");this.Sa.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonVolume0.png";this.Sa.style.position="absolute";this.Sa.style.bottom="6px";this.Sa.style.left="5px";this.Sa.onclick=function(){U("ToggleMute",{newState:!d.state.oa});U("ChangeVolume",{volume:d.state.volume});d.state.oa?d.Nl():d.Yk()};b.appendChild(this.Sa);var e=uj();document[xj()]=function(){vj()||(e=!1,d.$a.style.display="none",H("Full screen is unavailable."))};this.$a=document.createElement("img");this.$a.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonFullscreen.png";this.$a.style.position="relative";this.$a.style.top="1px";this.$a.style.cssFloat="right";uj()||(this.$a.style.display="none");this.$a.onclick=function(){e&&d.b.Lh()};this.element.appendChild(this.$a);this.Hb=document.createElement("img");this.Hb.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonQuality.png";this.Hb.style.position="relative";this.Hb.style.top="1px";this.Hb.style.display="none";this.Hb.style.cssFloat="right";this.Hb.onclick=function(){d.vx.show()};this.element.appendChild(this.Hb);this.fh=document.createElement("img");this.fh.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonScale.png";this.fh.style.position="relative";this.fh.style.top="1px";this.fh.style.cssFloat="right";this.fh.style.display=vj()?"":"none";this.fh.onclick=function(){var f=d.b;f.Op=!f.Op;An(f)};this.element.appendChild(this.fh);t(X,function(f){void 0===f.h.Mb?x("Dossier is missing context."):(d.qh(),Bn(d))});t(nn,function(){d.Yk()});t(a.ce,function(f){if(0===f.length)d.Hb.style.display="none";else{d.Hb.style.display="";var g="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonQuality.png";f=l(f);for(var h=f.next();!h.done;h=f.next())if(h=h.value,h.label.includes("4K")||h.label.includes("HD")){if(g="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonQualityHDAvil.png",!0===h.Tj){g="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonQualityHDSel.png";break}}else h.label.includes("Auto")&&720<=parseInt(h.label.slice(6,-2))&&(g="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonQualityHDSel.png");d.Hb.src=g}});Bn(this);this.j()}p(xn,G);k=xn.prototype;k.Hc=function(){y()&&!this.b.Xf&&window.localStorage.setItem("videoControls",JSON.stringify({volume:this.state.volume,isMuted:this.state.oa}))};function zn(){if(y()){var a=window.localStorage.getItem("videoControls");if(null!==a)return JSON.parse(a).volume}return 60}function yn(){if(y()){var a=window.localStorage.getItem("videoControls");if(null!==a)return JSON.parse(a).isMuted}return!1}k.show=function(){this.element.style.visibility="visible"};k.j=function(){this.element.style.visibility="hidden"};k.Yk=function(){!0!==this.state.oa&&(this.state.oa=!0,Bn(this))};k.Nl=function(){!1!==this.state.oa&&(this.state.oa=!1,0===this.state.volume&&(this.state.volume=60),Bn(this))};k.u=function(){this.fh.style.display=vj()?"":"none"};function Bn(a){a.qh();a.b.Ei(a.state.volume,a.state.oa);wn(a.ib,a.state.volume);a.Hc()}
k.qh=function(){this.Sa.src=!0===this.state.oa?"https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonVolume0.png":0===this.state.volume?"https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonVolume1.png":40>this.state.volume?"https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonVolume2.png":70>this.state.volume?"https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonVolume3.png":"https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ButtonVolume4.png"};k.Li=function(a){this.state.volume!==a&&(this.state.volume=a,0!==a&&(this.state.oa=!1),Bn(this))};k.ph=function(a){this.state.oa=a;Bn(this)};k.ur=function(a){this.Li(a);this.Hc()};k.Ol=function(a){this.ph(a);this.Hc()};k.Fk=function(){this.j()};k.Ub=function(){return"hidden"===this.element.style.visibility?0:32};k.Ys=function(){this.Hb.style.display="none"};k.Pu=function(){this.Hb.style.display=""};var Cn=window.Hls;function Dn(a){a=void 0===a?{}:a;a.tabHidden=document.hidden;U("VideoMetric",a,!0)}function En(){return fb()?window.performance.now():(new Date).getTime()}function Fn(){fb()&&(this.start=En())}
Fn.prototype.send=function(a,b,c){if(fb()&&void 0!==this.start){var d=En()-this.start-b,e=this.start=En();a={eventName:"autoPlayDuration",autoPlayDuration:e/1E3,autoPlayDurationMS:e,autoPlayDurationNoDelay:d/1E3,autoPlayDurationNoDelayMS:d,autoPlayable:a};0!==b&&(a.autoPlayHiddenDelay=b/1E3,a.autoPlayHiddenDelayMS=b);void 0!==c&&null!==c&&(a.autoPlayError=c);Dn(a)}};function Gn(a){var b=this;this.Qq=this.Jr=!1;this.fg=function(c){c=void 0===c?{}:c;var d={playerType:b.rx},e;for(e in c)d[e]=c[e];Dn(d)};this.Lx=function(){var c={eventName:"playerCreated"},d=Fk().player;void 0!==d&&(c.playerOverride=d);b.fg(c);b.cw=En()};this.Rt=function(){b.Vn=En()};this.St=function(){b.Jr||b.Wn()};this.Hn=function(){b.Jr||(b.Wn(),b.Jr=!0,b.Tn())};this.rx=a;this.Lx()}function Hn(a){a.Tn();t(X,a.Rt);t(Wk,a.St);z("beforeunload",window,a.Hn);z("unload",window,a.Hn);a.Qq=!0}
Gn.prototype.Wn=function(){if(void 0!==this.Vn&&fb()){this.Sq=En();var a=this.Sq-this.Vn;this.fg({eventName:"viewerDuration",viewerDuration:a/1E3,viewerDurationMS:a});return a}};Gn.prototype.Tn=function(){this.Qq&&(qb("beforeunload",window,this.Hn),qb("unload",window,this.Hn),X.removeListener(this.Rt),Wk.removeListener(this.St),this.Qq=!1)};function In(a){Gn.call(this,a);var b=this;this.Ym=this.ft=this.Hp=this.an=!1;this.Kx=function(){if(!b.Hp){var c={eventName:"videoPlaying",isAjax:!1},d=b.ew();void 0!==d&&b.fg({eventName:"broadcastDelay",broadcastDelayMS:d,broadcastDelay:d/1E3});d=En();if(void 0===b.Gp)u("Playing metric has triggered but htmlMediaLoadStartTime is undefined...skipping");else{var e=d-b.Gp;c.timeSinceMediaLoadStart=e/1E3;c.timeSinceMediaLoadStartMS=e}void 0!==b.Ep&&(e=d-b.Ep,c.timeSinceMediaAttaching=e/1E3,c.timeSinceMediaAttachingMS=e);if(b.ft){if(void 0===b.Vn){u("Playing metric is for AJAX reload but roomLoadedTime is undefined...skipping");return}e=d-b.Vn;c.timeSinceLoadAjax=e/1E3;c.timeSinceLoadAjaxMS=e;c.isAjax=!0;void 0===b.Sq?u("Playing metric is for AJAX reload but roomUnloadedTime is undefined"):(e=d-b.Sq,c.timeSinceUnloadAjax=e/1E3,c.timeSinceUnloadAjaxMS=e)}else d-=b.cw,c.timeSincePlayerCreated=d/1E3,c.timeSincePlayerCreatedMS=d;b.fg(c);b.Hp=!0;b.ft=!0}};this.Jx=function(){var c=b.Ra instanceof HTMLMediaElement?b.Ra.error:b.Ra.error_;void 0!==c&&null!==c&&b.fg({eventName:"playerError",errorCode:c.code,errorMessage:c.message,errorSource:"HTMLMediaElement",errorReadyState:b.Ra.readyState,errorNetworkState:b.Ra.networkState})};this.Gc=function(c){b.an&&("playing"===c.type?b.Kx():"loadstart"===c.type?b.Gp=En():"error"===c.type?b.Jx():"stalled"===c.type?(c=c.target,void 0!==c&&null!==c&&b.fg({eventName:"playerStalled",stalledReadyState:c.readyState,stalledNetworkState:c.networkState})):u("Received unknown HTMLMediaElement event: ",c))};this.Mv=function(c){b.pu();b.Tf=c;b.Tf.on(Cn.Events.ERROR,b.eg);b.Tf.on(Cn.Events.FRAG_CHANGED,b.eg);fb()&&(b.Tf.on(Cn.Events.LEVEL_SWITCHING,b.eg),b.Tf.on(Cn.Events.LEVEL_SWITCHED,b.eg),b.Tf.on(Cn.Events.MEDIA_ATTACHING,b.eg));b.Ym=!0};this.Ev=function(c){var d=c.level;if(void 0===d)u("Received Hls.Events.LEVEL_SWITCHING without a level: ",c);else{for(var e=l(["bitrate","height","width"]),f=e.next();!f.done;f=e.next())if(f=f.value,isNaN(c[f])){u("Level "+f+" is not a number: "+c[f]+"...skipping");return}b.bt[d]=c;b.ct.unshift({level:d,ts:En()})}};this.Mx=function(c){var d=c.level;if(void 0===d)u("Received Hls.Events.LEVEL_SWITCHED without a level: ",c);else{var e=b.bt[d];if(void 0===e)u("Received unknown Hls.Events.LEVEL_SWITCHED level: ",c);else{c=l(b.ct);for(var f=c.next();!f.done;f=c.next())if(f=f.value,f.level===d){d=f.ts;d=En()-d;b.Dp.push(d);break}if(void 0===b.pf||e.bitrate>b.pf.bitrate)b.pf=e}}};this.ew=function(){if(void 0!==b.Zm){var c=b.Ra.currentTime()-b.Zm.start;if(!(0>c||(c=(new Date).getTime()-b.Zm.programDateTime+1E3*c,0>c||3E5<c)))return c}};this.eg=function(c,d){b.Ym&&(c===Cn.Events.LEVEL_SWITCHING?b.Ev(d):c===Cn.Events.LEVEL_SWITCHED?b.Mx(d):c===Cn.Events.FRAG_CHANGED?b.Zm=d.frag:c===Cn.Events.MEDIA_ATTACHING?b.Ep=En():c===Cn.Events.ERROR?(c=b.Ra.tech().el(),b.fg({eventName:"playerError",errorCode:d.type,errorMessage:d.details,errorSource:"hls.js",errorReadyState:c.readyState,errorNetworkState:c.networkState})):u("Received unknown Hls.Event: ",c))};this.pu=function(){b.Ym&&(b.Tf.off(Cn.Events.ERROR,b.eg),b.Tf.off(Cn.Events.FRAG_CHANGED,b.eg),fb()&&(b.Tf.off(Cn.Events.LEVEL_SWITCHING,b.eg),b.Tf.off(Cn.Events.LEVEL_SWITCHED,b.eg)),b.Ym=!1)};this.qu=function(){b.an&&(b.Ra instanceof HTMLMediaElement?(fb()&&(qb("playing",b.Ra,b.Gc),qb("loadstart",b.Ra,b.Gc)),qb("error",b.Ra,b.Gc),qb("stalled",b.Ra,b.Gc)):(fb()&&(b.Ra.off("playing",b.Gc),b.Ra.off("loadstart",b.Gc)),b.Ra.off("error",b.Gc),b.Ra.off("stalled",b.Gc)),b.an=!1)};this.reset=function(){b.Hp=!1;b.bt=new Map;b.ct=[];b.Dp=[];b.pf=void 0;b.Zm=void 0;b.Gp=void 0;b.Ep=void 0};this.reset()}p(In,Gn);function Jn(a,b){a.qu();a.Ra=b;a.Ra instanceof HTMLMediaElement?(fb()&&(z("playing",a.Ra,a.Gc),z("loadstart",a.Ra,a.Gc)),z("error",a.Ra,a.Gc),z("stalled",a.Ra,a.Gc)):(fb()&&(a.Ra.on("playing",a.Gc),a.Ra.on("loadstart",a.Gc)),a.Ra.on("error",a.Gc),a.Ra.on("stalled",a.Gc));a.an=!0}
In.prototype.Wn=function(){var a=Gn.prototype.Wn.call(this);if(void 0!==a&&5E3<a){void 0!==this.pf&&this.fg({eventName:"levelMax",levelMaxName:this.pf.name,levelMaxBitrate:this.pf.bitrate,levelMaxAudioCodec:this.pf.audioCodec,levelMaxVideoCodec:this.pf.videoCodec,levelMaxHeight:this.pf.height,levelMaxWidth:this.pf.width});var b=this.Dp.reduce(function(c,d){return c+d},0)/this.Dp.length;isNaN(b)||this.fg({eventName:"levelSwitchAvg",levelSwitchAvg:b/1E3,levelSwitchAvgMS:b})}this.reset();return a};In.prototype.Tn=function(){Gn.prototype.Tn.call(this);this.pu();this.qu()};function Kn(){G.call(this);var a=this;this.jo=this.Gi=!0;this.Vu="10.2.0";this.uf="xmovie";this.Ft="xmovieContainer";this.Po=!1;this.Wr=new q("callbacksRegistered");this.ce=new q("possibleQualityLevelsChanged");this.oe=new q("videoOfflineChange");this.volume=0;this.muted=!0;this.Op=this.Xf=!1;this.Vv="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/CBV_TS_v1.0.swf";this.Me={allowScriptAccess:"always",allowFullScreen:"true",quality:"high",wmode:"opaque",id:this.uf,scale:"noborder"};this.attributes={id:"xmovie",name:this.uf,align:"middle"};Hn(new Gn("FlashPlayer"));this.kn=!1;if(y()){var b=window.localStorage.getItem("isTheaterMode");null!==b&&JSON.parse(b).kn&&(this.kn=!0)}this.Vp=!0;this.tw=this.D(new ln(this));this.ub=this.D(new xn(this,this.tw));this.kn?this.ub.j():this.ub.show();this.element.style.backgroundColor="#000";Ln(this);this.element.className="videoPlayerDiv";window.updateQualityLevels=function(c){w(a.ce,c)};window.showQualitySelect=function(){w(a.ce,Mn(a))};window.hideQualitySelect=function(){w(a.ce,[])};window.statusUpdate=function(c){"offline"===cn(c)?w(a.oe,!0):w(a.oe,!1)};window.callbacksRegistered=function(){a.Po=!0;w(a.Wr,void 0)};window.setFVMFlashMaxQ=function(c){Ab("cbv_maxq",c,31536E3)};window.getFVMFlashMaxQ=function(){return xb("cbv_maxq")}}p(Kn,G);function Ln(a){null===document.getElementById(a.Ft)&&(a.ea=document.createElement("div"),a.ea.id=a.Ft,a.ea.style.height="calc(100% - "+a.ub.Ub()+"px)",a.ea.style.width="100%",a.ea.style.position="relative",a.ea.style.top="0px",a.ea.style.left="0px",a.element.appendChild(a.ea));a.bi=document.createElement("div");a.bi.id=a.uf;a.bi.style.margin="0";a.bi.style.padding="0";a.bi.style.width="100%";a.bi.style.height="100%";a.bi.style["object-fit"]="cover";a.ea.appendChild(a.bi);a.element.style.position="static"}k=Kn.prototype;k.Rf=function(a){this.context=a;var b="anonymous";this.context.i.Sb||(b=a.h.Gr);this.Me.FlashVars="pid="+a.h.a+"&address="+a.h.lw+"&uid="+a.h.userName+"&pw="+encodeURIComponent(b)+"&rpw="+encodeURIComponent(a.h.Rq)+"&auth="+a.h.kw+"&flash_debug="+("1"===Fk().flash_debug?"1":"0");Nn(this)};function On(a){var b=document.createElement("div");b.id="messageDiv";b.style.textAlign="center";b.style.marginTop="50px";b.style.zIndex="999";b.style.position="relative";var c=document.createElement("a");c.href="https://www.adobe.com/go/getflashplayer";c.target="_blank";c.style.border="0";b.appendChild(c);var d=document.createElement("img");d.alt="Get Adobe Flash player";d.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/160x41_Get_Flash_Player.jpg";c.appendChild(d);c=document.createElement("p");c.appendChild(document.createTextNode("We've detected that you are missing the latest version of Flash Player."));c.style.margin="0";b.appendChild(c);c=document.createElement("p");c.appendChild(document.createTextNode("This version of the Chaturbate Viewer requires Flash Player "+a.Vu+" or later."));c.style.margin="0";b.appendChild(c);a=document.createElement("a");a.href="https://www.adobe.com/go/getflashplayer";a.innerText="Click here to update your Flash Player for free";b.appendChild(a);return b}
function Nn(a){var b=document.getElementById(a.uf);null===b?x("id "+a.uf+" for div not found for flash player in "+a.constructor.name,{},"VIDEO_"):(b.appendChild(On(a)),swfobject.embedSWF(a.Vv.toString(),a.uf,"100%","100%",a.Vu,void 0,void 0,a.Me,a.attributes),w(a.ce,Mn(a)),Pn(a))}
function Pn(a){var b=a.muted?0:a.volume,c=window[a.uf];void 0!==c&&(void 0===c.SetCamVol?(setTimeout(function(){Pn(a)},100),null===document.getElementById("messageDiv")&&"1"!==a.ea.style.zIndex&&(a.ea.style.zIndex="1")):(a.ub.Li(a.volume),a.ub.ph(a.muted),void 0!==a.S&&(a.S.Li(a.volume),a.S.ph(a.muted)),c.SetCamVol(b),vj()||0!==a.ub.Ub()||"1"!==a.ea.style.zIndex||(a.ea.style.height="100%"),a.ea.style.zIndex="0"))}k.Di=function(a){this.volume!==a&&(this.volume=a,this.muted||Pn(this))};k.Pf=function(){return this.muted?0:this.volume};k.ke=function(a){this.muted!==a&&(this.muted=a,Pn(this))};k.Ei=function(a,b){if(this.volume!==a||this.muted!==b)this.volume=a,this.muted=b,Pn(this)};k.le=function(a){var b=window[this.uf];void 0===b?x("Cannot find movie to set quality level.",{},"VIDEO_"):void 0===b.SetQualityLevel?x("SetQualityLevel is not available on this player.",{},"VIDEO_"):(b.SetQualityLevel(a),w(this.ce,Mn(this)))};function Mn(a){var b=window[a.uf];if(!a.Po)return[];if(void 0===b)return x("Cannot find movie to get quality level.",{},"VIDEO_"),[];if(void 0===b.GetQualityLevels)return x("GetQualityLevel is not available on this player.",{},"VIDEO_"),[];var c=[];b.GetQualityLevels().forEach(function(d){c.push({label:d.label,Tj:d.toggled,value:d.value})});return c}k.stop=function(){swfobject.removeSWF(this.uf);this.Po=!1;Ln(this)};k.paused=function(){return!1};k.Md=function(){void 0!==this.S&&this.S.j();this.ub.show();An(this)};k.Ld=function(){void 0!==this.S&&this.S.show();this.ub.j();An(this)};function An(a){if(vj()&&vj()===a.element)if(a.Op)a.ea.style.height="calc(100% - "+a.ub.Ub()+"px)",a.ea.style.width="100%",a.ea.style.left="0px",a.ea.style.top="0px";else{var b=window.innerWidth;var c=window.innerHeight-a.Ub(),d=c/(a.Vp?.5625:.75);b<d&&(d=b,c=d*(a.Vp?.5625:.75));b=[d,c];a.ea.style.width=b[0]+"px";a.ea.style.left=(window.innerWidth-b[0])/2+"px";a.ea.style.height=b[1]+"px";a.ea.style.top=(window.innerHeight-(b[1]+a.ub.Ub()))/2+"px"}else a.ea.style.height="calc(100% - "+a.ub.Ub()+"px)",a.ea.style.width="100%",a.ea.style.left="0px",a.ea.style.top="0px",0===a.ub.Ub()&&"1"===a.ea.style.zIndex&&(a.ea.style.height="calc(100% - 32px)")}k.u=function(){An(this)};k.Lh=function(){var a=this;this.hv();setTimeout(function(){An(a);a.W()},500)};k.Ub=function(){return this.ub.Ub()};k.Yn=function(a){this.S=a};k.vl=function(){return this.kn||!!vj()};k.hv=function(){!0!==!!vj()?(sj(this.element),this.Md(),null===this.ea.style.width&&(this.ea.style.left="0px")):(tj(),this.ea.style.height="calc(100% - "+this.ub.Ub()+"px)",this.ea.style.width="100%",this.W())};k.zk=function(){};var Qn=new q("pictureInPictureChange");function Rn(a,b){G.call(this);this.gb=a;this.jo=this.Gi=!0;this.I=document.createElement("video");this.Zf=!1;this.zg=document.createElement("div");this.lk=[];this.ce=new q("possibleQualityLevelsChanged");this.oe=new q("videoOfflineChange");this.uc=this.Mp=!1;this.element.style.position="static";this.element.style.background="#333333 url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/cam_notice_background.jpg) center center / cover";this.element.className="videoPlayerDiv";this.I.setAttribute("webkit-playsinline","");this.I.setAttribute("playsinline","");this.I.setAttribute("autoplay","");this.I.style.margin="0";this.I.style.padding="0";this.I.style.width="100%";this.I.style.height="100%";this.I.style["object-fit"]="contain";this.I.style.backgroundColor="rgba(0, 0, 0, 0.0)";this.element.appendChild(this.I);window.videoElement=this.I;this.zg.style.backgroundColor="#000000";this.zg.style.opacity="0.6";this.zg.style.position="absolute";this.zg.style.width="inherit";this.zg.style.height="inherit";this.Bo=new In(b);Hn(this.Bo)}p(Rn,G);function Sn(a,b){return new Promise(function(c,d){if(b.h.Hk!==a.ut&&void 0!==b.h.Hk&&""!==b.h.Hk){a.ut=b.h.Hk;var e=b.i.status;a.uc&&(e="offline");c([Tn(b.h.Hk),e])}else A("get_edge_hls_url_ajax/",{room_slug:b.h.a,bandwidth:"high",current_edge:""}).then(function(f){var g=JSON.parse(f.responseText);g.success?(a.ut=g.url,c([Tn(g.url),cn(g.room_status)])):d(f.responseText)}).catch(d)})}
function Tn(a){var b=Fk();return void 0!==b.edge?a.replace(/(^https:\/\/edge)\d*(.+)/,"$1"+b.edge+"$2"):a}function Un(a,b){a.stop();b.h.a!==a.a||Sn(a,b).then(function(c){var d=l(c);c=d.next().value;d=d.next().value;"offline"===a.fb&&d!==a.fb&&(a.Zf=!0);a.uc="offline"===d;w(a.oe,a.uc);"notconnected"!==a.fb&&"offline"===d?Vn(a,b):a.At(b,c)}).catch(function(c){x("Unable to refresh HLS stream",{error:c})})}k=Rn.prototype;k.play=function(){var a=this,b=this.il.play();void 0!==b&&b.catch(function(c){"NotAllowedError"===c.name?(w(nn,void 0),a.I.muted||a.ke(!0),b=a.il.play(),void 0!==b&&b.catch(function(d){if(!a.Zf&&(u("Unable to play twice in a row",{err:d},"VIDEO_"),/SamsungBrowser/i.test(navigator.userAgent))){d=a.parent;var e=a.context;d.removeChild(d.A);d.xm("jpeg");d.gb.oi=d.A.Gi;Wn(d);d.io();d.A.Rf(e)}a.sp()})):a.I.paused&&0===a.I.currentTime&&(U("NoPromiseAutoplayPolicy"),w(nn,void 0),a.I.muted||a.ke(!0),a.il.play())})};k.stop=function(){void 0!==this.gb.zf.get(this.fb)&&(Xn(this),Yn(this));this.Zf&&Yn(this);Zn(this)};function Yn(a){for(var b=l(a.lk),c=b.next();!c.done;c=b.next())clearTimeout(c.value);clearTimeout(a.Dn);a.Dn=void 0;clearTimeout(a.ji);a.ji=void 0}k.Di=function(a){this.I.volume=a/100};k.Pf=function(){return this.I.muted?0:100*this.I.volume};k.Md=function(){this.Mp=!1;void 0!==this.S&&this.S.j();this.I.setAttribute("controls","")};k.Ld=function(){this.Mp=!0;this.I.removeAttribute("controls");void 0!==this.S&&this.S.show()};k.Ei=function(){};k.Lh=function(){};k.Yn=function(a){this.S=a};k.Ub=function(){return 0};k.sp=function(){Zn(this)};k.Rf=function(a){var b=this;this.uc=!1;this.I.poster="https://cbjpeg.stream.highwebmedia.com/stream?room="+a.h.a+"&f="+Math.random();this.context=a;this.a=a.h.a;t(a.i.event.Qb,function(c){b.fb=c.ua;if(void 0!==b.gb.zf.get(c.ua)||b.uc)b.stop(),Zn(b),b.uc?Vn(b,a):$n(b,a);else switch(clearTimeout(b.ji),b.ji=void 0,c.Jd){case "notconnected":case "grouprequesting":case "privaterequesting":break;default:switch(c.ua){case "notconnected":ao(b,a.h.a);setTimeout(function(){Un(b,a)},0);break;case "grouprequesting":case "privaterequesting":switch(c.Jd){case "groupnotwatching":b.lk.push(setTimeout(function(){ao(b,a.h.a)},0)),b.lk.push(setTimeout(function(){Un(b,a)},3E3))}break;default:b.lk.push(setTimeout(function(){ao(b,a.h.a)},0)),b.lk.push(setTimeout(function(){Un(b,a)},3E3))}}})};function ao(a,b){a.element.style.background="#333333 url(https://cbjpeg.stream.highwebmedia.com/stream?room="+b+"&f="+Math.random()+") center center / cover";b=a.gb;b.O.innerText="Connecting";b.text.innerText="Please wait while we connect you to this webcam broadcast.";b.element.style.display="block";b.Uc.style.display="none";b.Aj.style.display="none";b.Lk=!0;a.element.insertBefore(a.zg,a.element.firstChild);a.Zf=!0}
function Xn(a){a.Zf=!1;var b=a.gb;b.Lk&&(b.O.innerText="",b.text.innerText="",b.element.style.display="none",b.Lk=!1);a.zg.parentElement===a.element&&a.element.removeChild(a.zg);a.element.style.background="#333333 url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/cam_notice_background.jpg) center center / cover"}
function $n(a,b){void 0===a.ji&&(a.ji=setTimeout(function(){Sn(a,b).then(function(c){c=l(c);c.next();"offline"===c.next().value?(a.uc=!0,a.ji=void 0,Vn(a,b),w(a.oe,a.uc)):(a.ji=void 0,$n(a,b))})},1E4))}function Vn(a,b){void 0===a.Dn&&(a.Dn=setTimeout(function(){a.Dn=void 0;Un(a,b)},1E4))}function bo(a,b,c){c=void 0===c?function(){}:c;Zn(a);a.pr=setTimeout(function(){Nb("Video seems to be stuck, refreshing");Un(a,b);c()},1E4)}function Zn(a){void 0!==a.pr&&(clearTimeout(a.pr),a.pr=void 0)}k.vl=function(){return this.Mp};k.zk=function(){return this.I};var co=new q("navigationRequest"),eo=!0;function fo(a,b){b=void 0===b?!1:b;z("click",a,function(c){if(!(c.metaKey||c.ctrlKey||c.defaultPrevented||jb()||/Edge\//i.test(navigator.userAgent))){var d;for(d=c.target;null!==d&&"a"!==d.tagName.toLowerCase();)d=d.parentElement;if(null===d||"#"===d.href||-1==="_self".indexOf(d.target))d=void 0;void 0!==d&&(d.hasAttribute("data-floatingnav")&&eo?(c.preventDefault(),w(co,d.href)):d.hasAttribute("data-room")?(c.preventDefault(),w(Mk,d.getAttribute("data-room"))):b&&(d.target="_top"))}})};var go=!0;t(X,function(a){go=a.i.Sb});var ho;function io(a){a=void 0===a?"Login required":a;return go?(void 0!==ho?ho():Aj(a,function(){window.top.location.href="/auth/login/?next="+window.location.pathname+window.location.search}),!0):!1};var jo=new q("followingEvent");function ko(a){io('You must be logged in to follow a broadcaster. Click "OK" to login.')||A("follow/follow/"+a+"/",{from_tube:-1!==window.location.search.indexOf("from_tube")?"True":""}).then(function(){w(jo,{N:a,Nf:!0});void 0!==window._followedTabUpdate&&window._followedTabUpdate(a);return!0}).catch(function(b){x("Unable to follow "+a+": "+b);return!1})}
function lo(a){io('You must be logged in to follow a broadcaster. Click "OK" to login.')||A("follow/unfollow/"+a+"/",{from_tube:-1!==window.location.search.indexOf("from_tube")?"True":""}).then(function(){w(jo,{N:a,Nf:!1});void 0!==window._followedTabUpdate&&window._followedTabUpdate(a);return!0}).catch(function(b){x("Unable to unfollow "+a+": "+b);return!1})}
function mo(a){var b=no;return new Promise(function(c){function d(){c(a.map(function(e){return{N:e,Nf:!1}}))}b?d():A("follow/is_following_batch/",{users:a.join(",")}).then(function(e){e=new L(e.responseText);var f=tk(e,"following");T(e);c(a.map(function(g){return{N:g,Nf:P(f,g)}}))}).catch(function(e){x("Error calling is_following_batch ("+e+")");d()})})}
function oo(){return new Promise(function(a){Ib("follow/online_following").then(function(b){b=new L(b.responseText);var c=pk(b,"following");T(b);a(c)}).catch(function(b){401!==b.Ud.status&&x("getOnlineFollowedRooms failed ("+b+")");a([])})})};var po=new q("floatingPlayerShow"),qo=new q("floatingPlayerHide"),ro=new q("floatingPlayerShowLoginOverlay");function so(a,b,c){function d(C){return function(K,R,ba){function Q(na,Na){za=Math.min(Math.max(140,f.width+na),.66*window.innerWidth);na=f.width-za;var zb=f.bb?.5625:.75;ra=V;da=W;switch(Na){case 1:da=W+na;break;case 2:da=W+na;ra=V+na*zb;break;case 3:ra=V+na*zb;break;case 4:ra=V+na*zb/2;break;case 5:da=W+na;ra=V+na*zb/2;break;case 6:da=W+na/2;ra=V+na*zb;break;case 7:da=W+na/2}Na=za*zb;f.element.style.bottom=Math.min(Math.max(ra,0),Ac-(Na+30))+"px";f.element.style.right=Math.min(Math.max(da,0),rd-
za)+"px";f.N.style.width=za-55+"px";f.Td.style.width=za+"px";f.Td.style.height=Na+"px"}var W=f.right,V=f.bottom,da=f.right,ra=f.bottom,za=f.width,zc=l(to()),Ac=zc.next().value,rd=zc.next().value;f.Wf=!0;var yb=f.bb?.5625:.75;K.stopPropagation();return{enabled:!0,move:function(na,Na){switch(C){case 0:Q(yb*(R-na+(ba-Na)),C);break;case 1:Q(yb*(-(R-na)+(ba-Na)),C);break;case 2:Q(yb*(-(R-na)-(ba-Na)),C);break;case 3:Q(yb*(R-na-(ba-Na)),C);break;case 4:Q(R-na,C);break;case 5:Q(-(R-na),C);break;case 6:Q(-(ba-
Na)/yb,C);break;case 7:Q((ba-Na)/yb,C)}},end:function(){f.bottom=ra;f.right=da;f.width=za;y()&&window.localStorage.setItem("floatingPlayerSettings",JSON.stringify({bottom:f.bottom,right:f.right,width:f.width}));e()}}}}function e(){setTimeout(function(){f.Wf=!1},100)}G.call(this);var f=this;this.b=a;this.nx=b;this.onclose=c;this.Td=document.createElement("a");this.N=document.createElement("div");this.lb=document.createElement("div");this.$d=this.Wf=!1;this.bb=!0;this.tn=!1;this.width=280;this.bottom=this.right=15;this.element.style.zIndex="99";this.element.style.right="0px";this.element.style.bottom="0px";this.element.style.position="fixed";this.element.style.overflow="visible";this.element.style.animationName="fadein";this.element.style.webkitAnimationName="fadein";this.element.style.animationDuration="0.2s";this.element.style.webkitAnimationDuration="0.2s";this.element.style.animationTimingFunction="linear";this.element.style.webkitAnimationTimingFunction="linear";this.element.style.height="auto";this.element.style.width="auto";this.element.style.boxShadow="rgba(0, 0, 0, 0.1) 0px 0px 1px 1px";this.element.onclick=function(C){C.stopPropagation()};z("touchstart",document.getElementsByTagName("body")[0],function(){});uo(this);t(X,function(C){void 0!==C.h.bb?(f.bb=C.h.bb,f.yb=C.i.Sb):x("isWidescreen is not defined.",{},"VIDEO_")});a=document.createElement("div");a.style.height="30px";a.style.lineHeight="30px";a.style.width="100%";a.style.position="relative";a.style.top="0px";a.style.left="0px";a.style.backgroundColor="#FFFFFF";this.element.appendChild(a);this.N.style.marginLeft="15px";this.N.style.color="#494949";this.N.style.userSelect="none";this.N.style.msUserSelect="none";this.N.style.webkitUserSelect="none";this.N.style.fontFamily="UbuntuMedium, Arial, Helvetica, sans-serif";this.N.style.overflow="hidden";this.N.style.textOverflow="ellipsis";this.N.style.height="30px";this.N.style.whiteSpace="nowrap";a.appendChild(this.N);this.Bj=vo(a,"move");this.Bj.style.position="absolute";this.Bj.style.top="0px";this.Bj.style.left="0px";this.Bj.style.height="30px";this.Bj.style.width="calc(100% - 55px)";var g=document.createElement("div");g.style.position="absolute";g.style.right="30px";g.style.top="3px";g.style.height="25px";g.style.width="25px";g.style.borderRadius="5px";g.style.cursor="pointer";g.onmouseenter=function(){g.style.backgroundColor="#e3e3e3"};g.onmouseleave=function(){g.style.backgroundColor=""};g.ontouchstart=function(C){wo(f);C.preventDefault()};g.onclick=function(C){wo(f);C.preventDefault()};a.appendChild(g);b=xo("https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/menu.svg",g);b.style.right="6px";b.style.top="6px";var h=document.createElement("div");h.style.position="absolute";h.style.right="5px";h.style.top="3px";h.style.height="25px";h.style.width="25px";h.style.borderRadius="5px";h.style.cursor="pointer";h.onmouseenter=function(){h.style.backgroundColor="#e3e3e3"};h.onmouseleave=function(){h.style.backgroundColor=""};h.ontouchstart=function(C){f.close();C.preventDefault()};h.onclick=function(){f.close()};a.appendChild(h);a=xo("https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/close-gray.svg",h);a.style.right="6px";a.style.top="7px";this.Td.style.position="relative";this.Td.style.cursor="pointer";this.Td.style.display="block";a=vo(this.Td,"pointer");a.style.top="0";a.style.left="0";a.style.right="0";a.style.bottom="0";this.Td.onclick=function(C){C.metaKey||C.ctrlKey||(C.preventDefault(),f.Wf||f.expand())};this.element.appendChild(this.Td);this.lb.style.position="absolute";this.lb.style.height="23.25px";this.lb.style.width="23.25px";this.lb.style.top="35px";this.lb.style.right="5px";this.lb.style.cursor="pointer";this.element.appendChild(this.lb);t(jo,function(C){C.Nf?yo(f):zo(f)});a=vo(this.element,"nwse-resize");a.style.height="10px";a.style.width="10px";a.style.top="-5px";a.style.left="-5px";b=vo(this.element,"nesw-resize");b.style.height="10px";b.style.width="10px";b.style.top="-5px";b.style.right="-5px";c=vo(this.element,"nwse-resize");c.style.height="10px";c.style.width="10px";c.style.bottom="-5px";c.style.right="-5px";var m=vo(this.element,"nesw-resize");m.style.height="10px";m.style.width="10px";m.style.bottom="-5px";m.style.left="-5px";var n=vo(this.element,"ew-resize");n.style.height="calc(100% - 10px)";n.style.width="10px";n.style.top="5px";n.style.left="-5px";var r=vo(this.element,"ew-resize");r.style.height="calc(100% - 10px)";r.style.width="10px";r.style.top="5px";r.style.right="-5px";var v=vo(this.element,"ns-resize");v.style.height="10px";v.style.width="calc(100% - 10px)";v.style.left="5px";v.style.bottom="-5px";var E=vo(this.element,"ns-resize");E.style.height="5px";E.style.width="calc(100% - 10px)";E.style.left="5px";E.style.top="-5px";if(kb()){var J=document.createElement("object");J.style.position="absolute";J.style.width="calc(100% + 10px)";J.style.height="calc(100% + 10px)";J.style.top="-5px";J.style.left="-5px";J.style.zIndex="-1";J.type="application/x-shockwave-flash";J.data="";J.setAttribute("wmode","transparent");this.element.appendChild(J)}Bm(this.Bj,function(C,K,R){var ba=f.element.offsetHeight,Q=f.element.offsetWidth,W=f.right,V=f.bottom,da=f.bottom,ra=f.right;C=l(to());var za=C.next().value,zc=C.next().value;return{enabled:!0,move:function(Ac,rd){Ac-=K;da=Math.min(Math.max(V-(rd-R),0),za-ba);ra=Math.min(Math.max(W-Ac,0),zc-Q);f.element.style.bottom=da+"px";f.element.style.right=ra+"px"},end:function(){f.bottom=da;f.right=ra}}});Bm(c,d(2));Bm(m,d(3));Bm(b,d(1));Bm(a,d(0));Bm(n,d(4));Bm(r,d(5));Bm(v,d(6));Bm(E,d(7));t(Qn,function(C){f.element.style.visibility=C.active?"hidden":"visible"});this.u()}p(so,G);function wo(a){void 0===a.Nb?Ao(a):a.tn?(a.Nb.style.display="none",a.tn=!1):(a.Nb.style.display="block",a.tn=!0)}
function Ao(a){a.tn=!0;var b=document.createElement("p"),c=document.createElement("p"),d=document.createElement("a");b.innerText=Mi;c.innerText=Ni;b.style.margin="0px";c.style.margin="0px";b.style.display="inline";c.style.display="inline";d.innerText=Oi;d.href="/?advanced_options=1";d.onclick=function(f){f.metaKey||f.ctrlKey||f.defaultPrevented||jb()||/Edge\//i.test(navigator.userAgent)||(f.preventDefault(),w(co,d.href),wo(a))};var e=document.createElement("div");e.style.position="absolute";e.style.height="0px";e.style.width="0px";e.style.right="5px";e.style.top="-5px";e.style.borderBottom="5px solid #FFFFFF";e.style.borderRight="5px solid transparent";e.style.borderLeft="5px solid transparent";a.Nb=document.createElement("div");a.Nb.appendChild(b);a.Nb.appendChild(d);a.Nb.appendChild(c);a.Nb.appendChild(e);a.Nb.style.position="absolute";a.Nb.style.width="240px";a.Nb.style.right="32px";a.Nb.style.top="40px";a.Nb.style.backgroundColor="#FFFFFF";a.Nb.style.opacity="0.8";a.Nb.style.border="1px solid #EFEFEF";a.Nb.style.boxSizing="border-box";a.Nb.style.borderRadius="5px";a.Nb.style.color="#666666";a.Nb.style.padding="4px";a.element.appendChild(a.Nb)}function uo(a){if(y()){var b=window.localStorage.getItem("floatingPlayerSettings");null!==b&&(b=JSON.parse(b),a.bottom=b.bottom,a.right=b.right,a.width=b.width)}}k=so.prototype;k.u=function(){G.prototype.u.call(this);var a=l(to()),b=a.next().value;a=a.next().value;var c=this.bb?.5625:.75,d=Math.min(this.width,.66*a);this.N.style.width=d-55+"px";this.Td.style.height=d*c+"px";this.Td.style.width=d+"px";this.element.style.bottom=Math.min(this.bottom,b-this.element.offsetHeight)+"px";this.element.style.right=Math.min(this.right,a-this.element.offsetWidth)+"px"};function xo(a,b){var c=document.createElement("img");c.src=a;c.height=13;c.width=13;c.style.height="13px";c.style.width="13px";c.style.position="absolute";c.style.cursor="pointer";c.style.userSelect="none";c.style.msUserSelect="none";c.style.webkitUserSelect="none";c.setAttribute("draggable","false");b.appendChild(c);return c}function vo(a,b){var c=document.createElement("div");c.style.position="absolute";c.style.cursor=b;c.style.backgroundColor="rgba(0, 0, 0, 0.01)";a.appendChild(c);return c}
function Bo(a,b){a.a=b;a.N.textContent=zi+" "+Tb(b);a.Td.href="/"+b+"/"}function zo(a,b){a.lb.title="Follow";void 0===b||b?(a.lb.className="icon_not_following no_hover",setTimeout(function(){"icon_not_following no_hover"===a.lb.className&&(a.lb.className="icon_not_following")},3E3)):a.lb.className="icon_not_following";a.lb.onclick=function(){a.yb?null!==document.getElementById("NavigationFrame")?w(ro,void 0):io(Pi):(a.lb.className="icon_update_following",ko(a.a))}}
function yo(a,b){a.lb.title="Unfollow";void 0===b||b?(a.lb.className="icon_following no_hover",setTimeout(function(){"icon_following no_hover"===a.lb.className&&(a.lb.className="icon_following")},3E3)):a.lb.className="icon_following";a.lb.onclick=function(){a.lb.className="icon_update_following";lo(a.a)}}
k.show=function(){vj()||this.$d||(this.b.A instanceof Kn&&this.b.A.stop(),this.Td.insertBefore(this.b.A.element,this.Td.firstChild),document.body.appendChild(this.element),this.b.A instanceof Kn&&Nn(this.b.A),this.$d=!0,this.W(),w(po,void 0))};k.j=function(a){a=void 0===a?!1:a;this.$d&&(this.$d=!1,!a&&this.b.A instanceof Kn&&this.b.A.stop(),this.b.element.insertBefore(this.b.A.element,this.b.element.firstChild),null!==this.element.parentElement&&this.element.parentElement.removeChild(this.element),!a&&this.b.A instanceof Kn&&Nn(this.b.A),w(qo,void 0))};function to(){if("BackCompat"===document.compatMode){var a=document.body.clientHeight;var b=document.body.clientWidth}else a=document.documentElement.clientHeight,b=document.documentElement.clientWidth;if(40<window.innerWidth-b||window.innerWidth<b)a=window.innerHeight,b=window.innerWidth;return[a,b]}k.close=function(){this.onclose();this.j()};k.expand=function(){this.nx();this.j()};function Co(a){27!==a.keyCode&&a.stopImmediatePropagation()}function Do(a){32===a.keyCode&&a.target===document.body&&a.preventDefault()}var Eo=new q("canvasOpen"),Fo=new q("canvasClose");function Go(a){var b=document.createElement("div");b.style.display="block";b.style.margin="10px 0 0 0";void 0!==a&&a.appendChild(b);return b}function Ho(){G.apply(this,arguments)}p(Ho,G);Ho.prototype.initData=function(){this.element=Go();this.control=document.createElement("button");this.control.type="button";this.control.tabIndex=0;this.element.appendChild(this.control)};Ho.prototype.Ya=function(){this.element.style.position="absolute";this.element.style.top="0";this.element.style.right="0";this.element.style.margin="15px 15px 0 0";this.control.style.padding="4px";this.control.style.cursor="pointer";this.control.style.width="20px";this.control.style.height="20px";this.control.style.background="transparent url(/static/tsdefaultassets/close.svg) no-repeat center center";this.control.style.backgroundSize="100% 100%";this.control.style.border="0"};function Io(){G.apply(this,arguments)}p(Io,G);Io.prototype.initData=function(){this.element=Go();this.O=document.createElement("h2");this.O.textContent=id;this.element.appendChild(this.O)};Io.prototype.Ya=function(){this.O.style.fontSize="14px";this.O.style.fontFamily="UbuntuBold, Helvetica, Arial, sans-serif"};function Jo(){G.apply(this,arguments)}p(Jo,G);Jo.prototype.initData=function(){this.element=Go();this.cancel=document.createElement("a");this.cancel.textContent=Ag;this.cancel.tabIndex=0;this.element.appendChild(this.cancel);this.submit=document.createElement("button");this.submit.type="submit";this.submit.textContent=ji;this.submit.disabled=!0;this.element.appendChild(this.submit)};Jo.prototype.Ya=function(){this.element.style.textAlign="right";this.cancel.style.padding="4px";this.cancel.style.cursor="pointer";this.cancel.textContent=Ag;this.submit.style.background="#F47321";this.submit.style.border="1px solid #A8A8A8";this.submit.style.boxSizing="border-box";this.submit.style.borderRadius="4px";this.submit.style.opacity="0.5";this.submit.style.padding="5px";this.submit.style.color="white";this.submit.style.fontWeight="bold"};Jo.prototype.disable=function(){this.submit.disabled=!0;this.submit.style.opacity="0.5";this.submit.style.cursor="default"};Jo.prototype.enable=function(){this.submit.disabled=!1;this.submit.style.opacity="1";this.submit.style.cursor="pointer"};function Ko(a){G.call(this);this.canvas=a}p(Ko,G);Ko.prototype.initData=function(){var a=this;this.element=document.createElement("div");this.tb=document.createElement("button");this.tb.type="button";this.Dm=new Image;this.Dm.src="/static/images/feedback/select_black.svg";this.tb.appendChild(this.Dm);this.hp=document.createElement("div");this.hp.textContent=ni;this.tb.appendChild(this.hp);z("click",this.tb,function(){a.canvas.show()});z("mouseenter",this.tb,function(){a.tb.style.backgroundColor="white";a.tb.style.color="#0471A1";a.Dm.src="/static/images/feedback/select.svg"});z("mouseleave",this.tb,function(){a.tb.style.backgroundColor="rgba(255, 255, 255, 0.8)";a.tb.style.color="#000";a.Dm.src="/static/images/feedback/select_black.svg"});this.element.appendChild(this.tb)};Ko.prototype.Ya=function(){this.element.style.width="345px";this.element.style.height="156px";this.element.style.left="-15px";this.element.style.position="relative";this.element.style.backgroundSize="100%";this.element.style.backgroundRepeat="no repeat";this.element.style.justifyContent="center";this.element.style.alignItems="center";this.element.style.display="none";this.tb.style.width="75%";this.tb.style.height="75%";this.tb.style.border="0";this.tb.style.borderRadius="4px";this.tb.style.textAlign="center";this.tb.style.cursor="pointer";this.tb.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";this.tb.style.color="#000";this.tb.style.backgroundColor="rgba(249, 249, 249, 0.75)";this.hp.style.width="100%"};function Lo(a,b){G.call(this);this.Lp=!1;this.canvas=b;this.kq=a;this.ba=new Ko(b);this.D(this.ba,this.element)}p(Lo,G);Lo.prototype.initData=function(){var a=this;this.element=Go();this.button=document.createElement("button");this.button.type="button";this.button.textContent=ki;z("click",this.button,function(b){b.preventDefault();void 0===a.canvas.ba?Mo(a):No(a)});this.element.appendChild(this.button);this.info=document.createElement("div");this.info.textContent=li;this.element.appendChild(this.info);this.error=document.createElement("span");this.element.appendChild(this.error)};Lo.prototype.Ya=function(){this.element.style.textAlign="center";this.button.style.background="#0c6a93";this.button.style.border="1px solid #A8A8A8";this.button.style.boxSizing="border-box";this.button.style.borderRadius="4px";this.button.style.padding="5px";this.button.style.color="white";this.button.style.fontWeight="bold";this.button.style.margin="0 auto 10px auto";this.button.style.display="block";this.button.style.cursor="pointer";this.info.style.marginBottom="10px";this.info.style.color="#ABABAB";this.error.style.color="red"};function Mo(a){if(Oo(a.canvas)&&(No(a),Po(a.canvas),a.error.textContent="",void 0!==a.canvas.ba)){var b=a.canvas.ba.getContext("2d");if(null!==b){a.Lp=!0;a.kq.Ua();var c=!1,d=document.createElement("video");d.style.display="none";a.canvas.element.appendChild(d);a.canvas.getDisplayMedia().then(function(e){d.srcObject=e;a.wy=e;d.play();z("canplay",d,function(){c||(c=!0,setTimeout(function(){var f=window.innerWidth,g=window.innerHeight,h=d.videoWidth/d.videoHeight;g*h<f?f=g*h:g=f/h;Qo(a.canvas,f,g);b.drawImage(d,0,0,f,g);a.ba.element.style.backgroundImage='url("'+b.canvas.toDataURL("image/png")+'")';a.ba.element.style.display="flex";a.button.textContent=mi;a.info.style.display="none";d.pause();a.wy.getTracks().forEach(function(m){m.stop()});a.canvas.element.removeChild(d);a.kq.hb();setTimeout(function(){a.Lp=!1},1E3)},250))},!1)}).catch(function(e){a.kq.hb();a.error.textContent="NotAllowedError"===e.name?ri:si;a.canvas.element.removeChild(d);No(a)})}}}
function No(a){Oo(a.canvas)&&(a.ba.element.style.backgroundImage="",a.ba.element.style.display="none",a.button.textContent=ki,a.info.style.display="block",Ro(a.canvas),a.canvas.j())}
function So(a,b){G.call(this);var c=this;this.canvas=b;this.Im=[];Oo(b)&&(this.ba=new Lo(a,b),this.Im.push(this.ba.error));this.Im.push(this.lj);this.Im.push(this.Ga.error);this.Gb=new Jo;z("click",this.Gb.cancel,function(d){d.preventDefault();a.Ua();To(c)});this.element.appendChild(this.form);this.form.appendChild(this.lj);Oo(b)&&this.D(this.ba,this.form);this.form.appendChild(this.pq);this.form.appendChild(this.nk);this.D(this.Gb,this.form)}p(So,G);So.prototype.initData=function(){function a(){setTimeout(function(){""===b.Ga.input.value.trim()?b.Gb.disable():b.Gb.enable()},200)}var b=this;this.element=Go();this.form=document.createElement("form");this.form.action="/feedback/submit/";this.form.method="POST";this.lj=document.createElement("p");this.Ga=new an(this.form);this.Ga.input.maxLength=5E3;z("keyup",this.Ga.input,a);z("touchend",this.Ga.input,a);z("paste",this.Ga.input,a);z("cut",this.Ga.input,a);this.pq=document.createElement("p");this.pq.textContent=ii.replace("%SITE_NAME%",F.ao);this.nk=document.createElement("input");this.nk.type="hidden";this.nk.name="csrfmiddlewaretoken";this.nk.value=xb("csrftoken")};So.prototype.Ya=function(){var a=this;this.lj.style.color="red";this.Ga.input.style.width="306px";this.Ga.input.style.resize="none";this.Ga.input.style.minHeight="150px";this.Ga.error.style.color="red";this.Ga.error.style.marginBottom="20px";this.pq.style.fontSize="85%";z("submit",this.form,function(b){b.preventDefault();a.Ga.input.blur();Uo(a);var c=new FormData;c.append("comments",a.Ga.input.value);c.append("csrfmiddlewaretoken",xb("csrftoken"));void 0!==a.canvas.ba?a.canvas.ba.toBlob(function(d){null!==d&&c.append("screenshot",d,"screenshot.png");Vo(a,c)}):Vo(a,c)})};function Uo(a){a.Im.forEach(function(b){b.textContent=""})}function To(a){Wo(a);Uo(a);a.Ga.input.value="";a.Gb.disable();a.form.reset();Oo(a.canvas)&&No(a.ba)}function Wo(a){for(;null!==a.element.firstChild;)a.element.removeChild(a.element.firstChild);a.element.appendChild(a.form);a.Ga.input.focus()}
function Vo(a,b){a.Gb.disable();A(a.form.action,b).then(function(c){c=c.getResponseHeader("content-type");null!==c&&c.includes("text/html")?(a.lj.textContent=xi,a.Gb.enable()):(To(a),a.element.removeChild(a.form),c=document.createElement("p"),c.textContent=ui,a.element.appendChild(c))}).catch(function(c){if(429===c.Ud.status)a.lj.textContent=wi,a.Gb.enable();else try{var d=JSON.parse(c.Ud.response);void 0!==d.Yv&&(a.Ga.error.textContent=d.Yv);a.Gb.enable()}catch(e){a.lj.textContent=vi,a.Gb.enable()}})}
function Xo(a){G.call(this);this.canvas=a}p(Xo,G);Xo.prototype.initData=function(){var a=this;this.element=Go();this.Fg=document.createElement("div");this.Fg.style.background="url(/static/images/feedback/drag.svg) no-repeat center";this.element.appendChild(this.Fg);this.Ka=document.createElement("button");this.Ka.type="button";this.Gk=new Image;this.Gk.src="/static/images/feedback/highlight_issue.svg";this.Ka.appendChild(this.Gk);this.Cp=document.createElement("span");this.Cp.textContent=pi;this.Ka.appendChild(this.Cp);z("mouseenter",this.Ka,function(){a.Ka.classList.contains("active")||(a.Ka.style.backgroundColor="#3C87BA")});z("mouseleave",this.Ka,function(){a.Ka.classList.contains("active")||(a.Ka.style.backgroundColor="transparent")});z("click",this.Ka,function(){Yo(a.canvas)});this.element.appendChild(this.Ka);this.j=document.createElement("button");this.j.type="button";this.Uh=document.createElement("div");this.j.appendChild(this.Uh);this.Bp=document.createElement("span");this.Bp.textContent=qi;this.j.appendChild(this.Bp);z("mouseenter",this.j,function(){a.j.classList.contains("active")||(a.j.style.backgroundColor="#3C87BA")});z("mouseleave",this.j,function(){a.j.classList.contains("active")||(a.j.style.backgroundColor="transparent")});z("click",this.j,function(){var b=a.canvas;Zo(b);$o(b);if(void 0!==b.xa){var c=b.xa.getContext("2d");null!==c&&(b.controls.j.style.backgroundColor="#3C87BA",b.controls.j.classList.add("active"),c.globalAlpha=1,c.strokeStyle="rgb(0, 0, 0)",c.lineWidth=5,b.fillRect=!0,ap(b))}});this.element.appendChild(this.j);this.Mw=document.createElement("hr");this.element.appendChild(this.Mw);this.done=document.createElement("a");z("click",this.done,function(b){b.preventDefault();void 0!==a.canvas.ba&&void 0!==a.ba&&(a.ba.element.style.backgroundImage='url("'+a.canvas.ba.toDataURL("image/png")+'")');a.canvas.j()});z("mouseenter",this.done,function(){a.done.style.backgroundColor="#E8E8E8";a.done.style.textDecoration="none"});z("mouseleave",this.done,function(){a.done.style.backgroundColor=""});this.element.appendChild(this.done);Um(this.element,{},[this.Fg])};Xo.prototype.Ya=function(){this.element.style.borderRadius="4px";this.element.style.padding="10px 15px 5px 15px";this.element.style.margin="0px";this.element.style.position="fixed";this.element.style.zIndex="2010";this.element.style.textAlign="right";this.element.style.width="115px";this.element.style.height="101px";this.element.style.background="white";this.element.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";this.element.style.userSelect="none";this.element.style.boxShadow="10px 10px 25px -5px rgba(0,0,0,0.75)";this.Fg.style.width="20px";this.Fg.style.height="10px";this.Fg.style.position="absolute";this.Fg.style.right="0";this.Fg.style.top="5px";this.Ka.style.background="transparent";this.Ka.style.border="0";this.Ka.style.display="inline-block";this.Ka.style.padding="5px";this.Ka.style.position="relative";this.Ka.style.margin="7px 0 0 0";this.Ka.style.left="-15px";this.Ka.style.width="145px";this.Ka.style.textAlign="left";this.Ka.style.cursor="pointer";this.Ka.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";this.Gk.style.width="23px";this.Gk.style.verticalAlign="middle";this.Gk.style.marginRight="10px";this.Cp.style.verticalAlign="middle";this.j.style.background="transparent";this.j.style.border="0";this.j.style.display="inline-block";this.j.style.padding="5px";this.j.style.position="relative";this.j.style.margin="0";this.j.style.left="-15px";this.j.style.width="145px";this.j.style.textAlign="left";this.j.style.cursor="pointer";this.j.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";this.Uh.style.width="20px";this.Uh.style.verticalAlign="middle";this.Uh.style.marginRight="10px";this.Uh.style.height="20px";this.Uh.style.background="black";this.Uh.style.display="inline-block";this.Bp.style.verticalAlign="middle";this.done.style.padding="4px";this.done.style.cursor="pointer";this.done.style.textAlign="right";this.done.textContent=yi};function bp(){G.call(this);this.fillRect=!1;this.xj=navigator.mediaDevices;if(void 0===this.xj||void 0===this.xj.getDisplayMedia)this.xj=void 0;void 0===document.createElement("canvas").toBlob&&(this.xj=void 0);this.controls=new Xo(this);this.D(this.controls,this.element)}p(bp,G);k=bp.prototype;k.initData=function(){var a=this;this.element=Go();this.Vb=Go(this.element);this.Vb.innerHTML=oi+' (<a href="#" onclick="this.parentNode.style.display=\'none\';">'+lf+"</a>)";this.Vb.style.userSelect="none";z("keydown",document,function(b){b.stopPropagation();27===b.keyCode&&"block"===a.element.style.display&&(b.stopImmediatePropagation(),a.j())})};k.Ya=function(){this.element.style.display="none";this.element.style.position="absolute";this.element.style.height="100%";this.element.style.width="100%";this.Vb.style.position="fixed";this.Vb.style.backgroundColor="#FFFFD3";this.Vb.style.border="1px solid #CCCCCC";this.Vb.style.boxSizing="border-box";this.Vb.style.zIndex="2020";this.Vb.style.top="100px";this.Vb.style.left="0";this.Vb.style.right="0";this.Vb.style.margin="0 auto";this.Vb.style.padding="12px";this.Vb.style.fontWeight="bold";this.Vb.style.width="500px";this.Vb.style.textAlign="center";this.Vb.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";this.Vb.style.fontSize="1.3em"};function Oo(a){return void 0!==a.xj&&!ib()}k.getDisplayMedia=function(){if(!Oo(this))throw new ReferenceError("Display media not supported by browser");return this.xj.getDisplayMedia({video:{Jy:"browser",cursor:!1},audio:!1})};function Po(a){Ro(a);a.ba=document.createElement("canvas");a.ba.style.zIndex="2000";a.ba.style.top="50%";a.ba.style.left="50%";a.ba.style.transform="translate(-50%, -50%)";a.ba.style.margin="0px auto";a.ba.style.position="fixed";a.j();a.element.appendChild(a.ba)}function Ro(a){cp(a);void 0!==a.ba&&(a.element.removeChild(a.ba),a.ba=void 0)}function Qo(a,b,c){void 0!==a.ba&&(a.ba.width=b,a.ba.height=c,a.ba.style.width=b+"px",a.ba.style.height=c+"px")}
function $o(a){void 0!==a.ba&&(void 0!==a.xa&&(a.element.removeChild(a.xa),a.xa=void 0),a.xa=a.ba.cloneNode(),a.xa.style.zIndex="2001",a.xa.tabIndex=0,a.element.appendChild(a.xa),dp(a))}function cp(a){void 0!==a.xa&&(a.element.removeChild(a.xa),a.xa=void 0)}k.j=function(){this.element.style.display="none";cp(this);Zo(this);window.top!==window&&(window.top.document.body.style.display="");document.body.style.overflow="";w(Fo,void 0)};k.show=function(){this.element.style.display="block";this.controls.element.style.left="75px";this.controls.element.style.bottom="30px";this.Vb.style.display="block";window.top!==window&&(window.top.document.body.style.display="none");document.body.style.overflow="hidden";$o(this);Yo(this);void 0!==this.xa&&this.xa.focus();w(Eo,void 0)};function dp(a){if(void 0!==a.xa){var b=a.xa.getContext("2d");if(null!==b){var c=a.ba,d=a.xa;if(void 0!==c&&void 0!==d){var e=d.getContext("2d");if(null!==e){var f=e.globalAlpha;e.globalAlpha=1;e.clearRect(0,0,d.width,d.height);e.drawImage(c,0,0);e.globalAlpha=f}}c=b.globalAlpha;d=b.strokeStyle;b.globalAlpha=.1;b.strokeStyle="rgb(0, 0, 0)";b.fillRect(0,0,a.xa.width,a.xa.height);b.globalAlpha=c;b.strokeStyle=d}}}
function Zo(a){a.controls.j.style.backgroundColor="transparent";a.controls.j.classList.toggle("active",!1);a.controls.Ka.style.backgroundColor="transparent";a.controls.Ka.classList.toggle("active",!1);void 0!==a.xa&&(delete window.onmousedown,delete a.xa.onmousemove,delete a.xa.onmouseup,a.xa.style.cursor="default")}
function Yo(a){Zo(a);$o(a);if(void 0!==a.xa){var b=a.xa.getContext("2d");null!==b&&(a.controls.Ka.style.backgroundColor="#3C87BA",a.controls.Ka.classList.add("active"),b.globalAlpha=.8,b.strokeStyle="rgb(249, 185, 144)",b.lineWidth=5,a.fillRect=!1,ap(a))}}
function ap(a){if(void 0!==a.xa){a.xa.style.cursor="crosshair";var b=a.xa.getContext("2d");if(null!==b){var c=0,d=0,e=0,f=0,g=0,h=0,m=!1,n=function(){h=g=d=c=0;m=!1};a.xa.onmousedown=function(r){m&&(ep(a,c,d,g,h,b),n());var v=a.xa.getBoundingClientRect();c=r.clientX-v.left;d=r.clientY-v.top;m=!0;b.canvas.style.cursor="crosshair"};window.onmouseup=function(){m&&(ep(a,c,d,g,h,b),n())};window.onmousemove=function(r){if(m){var v=a.xa.getBoundingClientRect();e=r.clientX-v.left;f=r.clientY-v.top;dp(a);g=e-c;h=f-d;r=c;v=d;var E=g,J=h;b.beginPath();b.rect(r,v,E,J);a.fillRect?b.fill():b.stroke()}}}}}function ep(a,b,c,d,e,f){if(void 0!==a.ba){a.ba.style.cursor="crosshair";var g=a.ba.getContext("2d");null!==g&&(g.globalAlpha=f.globalAlpha,g.strokeStyle=f.strokeStyle,g.lineWidth=f.lineWidth,g.beginPath(),g.rect(b,c,d,e),a.fillRect?g.fill():g.stroke())}}
function fp(){zm.call(this);var a=this;this.isVisible=!1;this.Bq=this.Yt=!0;this.element.className="block_CB1_chat_focus";this.R.style.background="transparent";this.R.style.backgroundImage="url(/static/images/overlay_v2.png)";t(Eo,function(){a.element.style.display="none";a.Yf=!1});t(Fo,function(){a.element.style.display="block";a.Yf=!0})}p(fp,zm);fp.prototype.initData=function(){var a=this;this.canvas=new bp;Oo(this.canvas)&&document.body.appendChild(this.canvas.element);this.Kp=Go(this.element);this.close=new Ho;z("click",this.close.control,function(){a.Ua()});this.D(this.close,this.Kp);this.O=new Io;this.D(this.O,this.Kp);this.form=new So(this,this.canvas);Oo(this.canvas)&&(this.canvas.controls.ba=this.form.ba.ba);this.D(this.form,this.Kp);z("keydown",this.close.control,function(b){"Tab"===b.key&&b.shiftKey&&(b.preventDefault(),a.form.Gb.submit.disabled?a.form.Gb.cancel.focus():a.form.Gb.submit.focus())});z("keydown",this.form.Gb.submit,function(b){"Tab"!==b.key||b.shiftKey||(b.preventDefault(),a.close.control.focus())});z("keydown",this.form.Gb.cancel,function(b){"Tab"===b.key&&!b.shiftKey&&a.form.Gb.submit.disabled&&(b.preventDefault(),a.close.control.focus())});Oo(this.canvas)?z("keydown",this.form.ba.button,function(b){"Tab"!==b.key||b.shiftKey||(b.preventDefault(),a.form.Gb.cancel.focus())}):z("keydown",this.form.Ga.input,function(b){"Tab"!==b.key||b.shiftKey||(b.preventDefault(),a.form.Gb.cancel.focus())});z("keydown",this.form.Gb.submit,function(b){"Tab"===b.key&&b.shiftKey&&(b.preventDefault(),a.form.Gb.cancel.focus())})};fp.prototype.Ya=function(){var a=this;this.element.style.position="fixed";this.element.style.top="0px";this.element.style.fontSize="12px";this.element.style.left="50%";this.element.style.marginLeft="-157px";this.element.style.width="315px";this.element.style.top="150px";this.element.style.height="";this.element.style.background="white";this.element.style.borderRadius="10px";this.element.style.padding="15px";this.element.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";this.element.style.color=F.Ja;Oo(this.canvas)&&z("resize",window,function(){a.form.ba.Lp||void 0===a.canvas.ba||(No(a.form.ba),a.form.ba.error.textContent=ti)})};fp.prototype.hb=function(){zm.prototype.hb.call(this);this.form.nk.value=xb("csrftoken");this.element.style.display="";this.u();this.isVisible=!0;z("keydown",this.element,Co);z("keydown",document.body,Do);Wo(this.form)};fp.prototype.Ua=function(){zm.prototype.Ua.call(this);var a=this.isVisible;this.element.style.display="none";this.isVisible=!1;a&&(qb("keydown",this.element,Co),qb("keydown",document.body,Do));try{window.dispatchEvent(new Event("resize"))}catch(b){-1!==navigator.userAgent.indexOf("MSIE")||0<navigator.appVersion.indexOf("Trident/")?(a=document.createEvent("UIEvents"),a.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(a)):x("Could not fire resize event")}};function gp(a,b){Fl.call(this,a);var c=this;this.element.style.display="none";this.element.style.height="auto";this.element.style.left="-1px";this.element.style.top="24px";this.element.style.zIndex="1001";this.element.style.backgroundColor=F.pv;this.element.style.border="1px solid #2C6990";this.element.style.borderTop="none";this.element.style.borderRadius="0 0 5px 5px";this.element.style.fontFamily="UbuntuBold, Helvetica, Arial, sans-serif";this.element.style.padding="5px 0";this.element.style.position="absolute";this.iu=hp(this,gd);this.element.appendChild(this.iu);this.Gt=hp(this,Pc);this.Gt.href="/my_collection/";this.element.appendChild(this.Gt);var d=document.createElement("form");d.method="post";d.action="/auth/logout/";d.target="_top";d.style.display="none";var e=document.createElement("input");e.type="hidden";e.name="csrfmiddlewaretoken";e.value=xb("csrftoken");d.appendChild(e);this.element.appendChild(d);a=hp(this,id);a.onclick=function(f){f.preventDefault();void 0===c.ov&&(c.ov=new fp);c.j();c.ov.hb()};this.element.appendChild(a);a=hp(this,hd);a.href="/auth/logout/";a.onclick=function(f){f.preventDefault();c.j();Aj("Are you sure you want to log out?",function(){e.value=xb("csrftoken");d.submit()})};this.element.appendChild(a);void 0!==b&&(this.iu.href="/p/"+b+"/?tab=bio")}p(gp,Fl);function hp(a,b){var c=document.createElement("a");c.style.textDecoration="none";c.innerText=b;c.style.display="block";c.style.fontSize="14px";c.style.padding="5px 0 5px 10px";c.style.color=F.rv;c.onmouseenter=function(){c.style.backgroundColor=F.qv};c.onmouseleave=function(){c.style.backgroundColor="transparent"};c.onclick=function(){a.j()};return c};function ip(a){a.stopImmediatePropagation()}var jp="";t(X,function(a){jp=a.i.a()});function kp(a){function b(){""!==C.value.trim()&&""!==f.vd.value.trim()&&(f.Bb.style.opacity="1")}function c(K,R){return function(ba){"Tab"===ba.key&&(ba.preventDefault(),ba.shiftKey?R.focus():K.focus())}}function d(K,R,ba,Q){var W=document.createElement("label"),V=document.createElement("input");W.innerText=R;W.htmlFor=Q;V.type=ba;V.id=Q;V.name=Q;V.style.height="checkbox"===ba?"18px":"26px";V.style.width="checkbox"===ba?"18px":"100%";V.style.font="100% Arial,Helvetica,sans-serif";V.style.color="#000";V.style.boxSizing="border-box";V.style.border="1px solid #d5d5d5";V.style.padding="2px 4px";V.style.margin="1px 0";V.style.lineHeight="18px";V.style.borderRadius="4px";z("keydown",V,function(da){"Enter"===da.key&&(da.preventDefault(),f.Bb.click())});K.appendChild(W);K.appendChild(V);return V}function e(K){var R=document.createElement("div");R.style.display="block";R.style.margin="10px 0 0 0";K.appendChild(R);return R}a=void 0===a?!1:a;zm.call(this);var f=this;this.fi=a;this.isVisible=!1;this.element.style.display="none";this.element.style.position=this.fi?"fixed":"absolute";this.element.style.fontSize="12px";this.element.style.width="364px";this.element.style.height="264px";this.element.style.color="currentSiteSettings.defaultColor";this.element.style.margin="auto";this.element.style.boxShadow="0px 0px 10px rgba(0, 0, 0, 0.4)";this.element.style.background="white";this.element.style.border="3px solid #0E6C92";this.element.style.borderRadius="10px";this.R.style.backgroundColor="#000000";this.R.style.opacity="1";this.na=document.createElement("form");this.na.target="_top";this.na.style.padding="5px 30px 10px 30px";this.na.action="/auth/login/?next="+window.location.pathname+encodeURIComponent(window.location.search);this.na.method="POST";this.na.onclick=function(K){K.stopPropagation()};this.element.appendChild(this.na);var g=e(this.na),h=e(this.na),m=e(this.na),n=e(this.na),r=e(this.na),v=e(this.na);a=e(this.na);var E=e(this.na),J=document.createElement("input");J.type="submit";J.onclick=function(K){K.preventDefault();f.j()};J.value="";J.style.background="transparent url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/close_icon2.svg) no-repeat center center";J.style.backgroundSize="10px";J.style.padding="10px 20px 8px 12px";J.style.border="none";J.style.cursor="pointer";g.appendChild(J);g.style.position="absolute";g.style.top="0px";g.style.right="0px";g.style.margin="0px";this.O=document.createElement("h1");this.O.style.font="18px ubuntumedium,Arial,Helvetica,sans-serif";this.O.style.color="#f47422";h.appendChild(this.O);h.style.textAlign="center";this.vd=d(m,qf+":","text","username");this.vd.required=!0;g=document.createElement("a");g.target="_top";g.href="/auth/password_reset/";g.tabIndex=0;g.textContent=tf;g.style.cssFloat="right";g.style.color="#0373a3";n.appendChild(g);var C=d(n,rf+":","password","password");C.required=!0;n=d(r,sf+":","checkbox","rememberme");n.style.marginLeft="10px";this.Bb=document.createElement("input");this.Bb.id="id_login_btn";this.Bb.type="submit";this.Bb.value=Rc;this.Bb.style.backgroundColor="#F47321";this.Bb.style.opacity="0.5";this.Bb.style.border="1px solid #A8A8A8";this.Bb.style.borderRadius="4px";this.Bb.style.boxSizing="border-box";this.Bb.style.cursor="pointer";this.Bb.style.height="36px";this.Bb.style.width="100%";this.Bb.style.font="16px ubuntumedium,Arial,Helvetica,sans-serif";this.Bb.style.color="#FFFFFF";this.Bb.style.webkitAppearance="none";v.appendChild(this.Bb);v=document.createElement("p");v.textContent=Si+" ";v.style.display="inline";r=document.createElement("a");r.target="_top";r.href="/accounts/register/?src=login_gate";r.tabIndex=0;r.textContent=Tc;r.style.display="inline";r.style.color="#0373a3";a.appendChild(v);a.appendChild(r);a.style.textAlign="center";this.Le=document.createElement("input");this.Be=document.createElement("input");this.Le.type=this.Be.type="hidden";this.Le.name="next";this.Le.value=""+window.location.pathname+window.location.search;this.Be.name="csrfmiddlewaretoken";this.Be.value=xb("csrftoken");E.appendChild(this.Le);E.appendChild(this.Be);E.style.display="none";J.onkeydown=c(this.vd,r);this.vd.onkeydown=c(C,J);C.onkeydown=c(g,this.vd);g.onkeydown=c(n,C);n.onkeydown=c(this.Bb,g);this.Bb.onkeydown=c(r,n);r.onkeydown=c(J,this.Bb);this.vd.oninput=b;C.oninput=b;this.element.onkeydown=function(K){"Esc"!==K.key&&"Escape"!==K.key||f.j()};t(X,function(){f.Le.value=""+window.location.pathname+window.location.search});t(this.Xb,function(){f.j()})}p(kp,zm);kp.prototype.show=function(a){a=void 0===a?!1:a;window.self!==window.top&&""!==jp?ll("/auth/login/?next=/"+jp+"/"):(this.O.innerText=a?Qi:Ri,this.Be.value=xb("csrftoken"),this.element.style.display="block",this.hb(),this.u(),this.isVisible=!0,this.vd.focus(),z("keydown",this.element,ip),null!==this.element.parentElement&&this.fi&&(this.Ah=this.element.parentElement,this.Ah.style.overflow="hidden"))};kp.prototype.j=function(){var a=this.isVisible;this.element.style.display="none";this.Ua();this.isVisible=!1;a&&qb("keydown",this.element,ip);void 0!==this.Ah&&(this.Ah.style.overflow="")};kp.prototype.u=function(){this.fi?(this.element.style.left=(window.innerWidth-this.na.offsetWidth)/2+"px",this.element.style.top=(window.innerHeight-this.na.offsetHeight)/2+"px"):(this.element.style.top="150px",this.element.style.left=(window.innerWidth-this.na.offsetWidth)/2+"px")};function lp(a){this.nu=this.ej=this.active=!1;this.name=a;var b=window.experiments;if(void 0!==b){var c=b.active;this.active=void 0!==c&&-1!==c.indexOf(a);b=b.eligible;this.ej=void 0!==b&&-1!==b.indexOf(a)}}
function mp(){var a=["LoginOvrOldDsnNewBg","LoginOvrNewDsnOldBg","LoginOvrNewDsnNewBg"];this.ej=this.active=!1;var b=window.experiments;if(void 0!==b){var c=b.active,d=b.eligible;if(void 0!==d){var e=l(a);for(b=e.next();!b.done;b=e.next())if(-1!==d.indexOf(b.value)){this.ej=!0;break}if(this.ej&&void 0!==c)for(a=l(a),b=a.next();!b.done;b=a.next())if(b=b.value,-1!==c.indexOf(b)){this.active=!0;this.Fo=b;break}}}};function np(a){a.style.cursor="pointer";a.onmouseenter=function(){a.style.textDecoration="underline"};a.onmouseleave=function(){a.style.textDecoration=""}}function op(a){a.stopImmediatePropagation()}var pp="";t(X,function(a){pp=a.i.a()});function qp(a){function b(v,E){return function(J){"Tab"===J.key&&(J.preventDefault(),J.shiftKey?E.focus():v.focus())}}function c(v,E,J,C){var K=document.createElement("input"),R=document.createElement("label");K.type=J;K.style.boxSizing="border-box";K.style.width="checkbox"===J?"18px":"310px";K.id=C;K.name=C;K.style.border="1px solid #b1b1b1";K.style.padding="2px 4px";K.style.margin="1px 0";K.style.lineHeight="18px";K.style.height="checkbox"===J?"18px":"26px";K.style.borderRadius="4px";K.style.color="#000";K.style.font="100% Arial,Helvetica,sans-serif";z("keydown",K,function(ba){13===ba.keyCode&&(ba.preventDefault(),e.rn.click())});R.innerText=E;R.htmlFor=C;v.appendChild(R);v.appendChild(K);return K}function d(v){var E=document.createElement("div");E.style.display="block";E.style.margin="10px 0 0 0";v.appendChild(E);return E}a=void 0===a?!1:a;zm.call(this);var e=this;this.fi=a;this.isVisible=!1;this.element.style.display="none";this.element.style.position=this.fi?"fixed":"absolute";this.element.style.fontSize="12px";this.element.style.color=F.Ja;this.element.style.width="auto";this.element.style.height="auto";this.R.style.background="black";this.na=document.createElement("form");this.na.target="_top";this.na.style.margin="auto";this.na.style.top="15%";this.na.style.background="white";this.na.style.border="5px solid #006B94";this.na.style.borderRadius="10px";this.na.style.padding="10px 40px 12px 40px";this.na.style.width="315px";this.na.action="/auth/login/?next="+window.location.pathname+encodeURIComponent(window.location.search);this.na.method="POST";this.na.onclick=function(v){v.stopPropagation()};var f=d(this.na);a=d(this.na);this.Le=document.createElement("input");this.Be=document.createElement("input");this.Le.type=this.Be.type="hidden";this.Le.name="next";this.Le.value=""+window.location.pathname+window.location.search;this.Be.name="csrfmiddlewaretoken";this.Be.value=xb("csrftoken");a.appendChild(this.Le);a.appendChild(this.Be);var g=d(f);g.style.position="absolute";g.style.top="0";g.style.right="0";g.style.margin="0";a=document.createElement("input");a.style.background="transparent url(https://ssl-ccstatic.highwebmedia.com/images/close_icon.gif) no-repeat center center";a.type="submit";a.onclick=function(v){v.preventDefault();e.j()};a.style.padding="5px";a.style.cursor="pointer";a.style.padding="10px 25px 25px";a.style.border="none";a.value="";g.appendChild(a);var h=d(f);g=document.createElement("h1");var m=document.createElement("small");h.appendChild(g);h.appendChild(m);g.style.color="#FF6300";g.style.margin="0";g.style.font="26px ubuntubold,Arial,Helvetica,serif";h=document.createElement("span");h.innerText=F.ao+" "+Qc;g.appendChild(h);m.innerText=pf;m.style.font="12px ubuntu,Arial,Helvetica,serif";m=d(f);var n=d(m),r=d(m);h=d(m);f=d(m);f.style.margin="";g=d(m);m=d(m);this.vd=c(n,qf+":","text","username");this.gl=c(r,rf+":","password","password");this.gl.required=!0;this.vd.required=!0;n=c(h,sf+":","checkbox","rememberme");n.style.verticalAlign="middle";n.style.marginLeft="2px";h.style.marginTop="5px";this.rn=h=document.createElement("input");h.type="submit";h.id="id_login_btn";h.style.cursor="pointer";h.style.height="28px";h.style.width="auto";h.style.margin="5px 0px 0px 137px";h.style.border="1px solid #b1b1b1";h.style.borderRadius="4px";h.style.webkitBorderRadius="4px";h.style.background="#f47321 url(https://ssl-ccstatic.highwebmedia.com/images/arrow-white-v2.gif) no-repeat right 50%";h.value=""+Sc;h.style.color="white";h.style.font="1.16em/1.0em 'UbuntuMedium',Arial,Helvetica,sans-serif";h.style.padding="0 30px 2px 15px";f.appendChild(h);f.style.textAlign="right";np(h);g.style.borderTop="1px solid #494949";g.style.position="relative";g.style.width="100%";g.style.margin="20px 0 12px 0";f=document.createElement("a");f.target="_top";f.innerText=tf;f.tabIndex=0;f.style.display="block";f.href="/auth/password_reset/";f.style.marginRight="46%";f.style.color=F.Bd;this.Nd=document.createElement("a");this.Nd.target="_top";this.Nd.innerText=uf;this.Nd.style.display="block";this.Nd.href="/accounts/register/?src=login_gate";this.Nd.tabIndex=0;this.Nd.style.marginRight="40%";this.Nd.style.color=F.Bd;this.Nd.style.marginBottom="3px";np(f);np(this.Nd);a.onkeydown=b(this.vd,f);this.vd.onkeydown=b(this.gl,a);this.gl.onkeydown=b(n,this.vd);n.onkeydown=b(this.rn,this.gl);this.rn.onkeydown=b(this.Nd,n);this.Nd.onkeydown=b(f,this.rn);f.onkeydown=b(a,this.Nd);this.element.onkeydown=function(v){"Esc"!==v.key&&"Escape"!==v.key||e.j()};m.appendChild(this.Nd);m.appendChild(f);t(X,function(){e.Le.value=""+window.location.pathname+
window.location.search});this.element.appendChild(this.na);this.j();t(this.Xb,function(){e.j()})}p(qp,zm);qp.prototype.show=function(){window.self!==window.top&&""!==pp?ll("/auth/login/?next=/"+pp+"/"):(this.Be.value=xb("csrftoken"),this.element.style.display="block",this.hb(),this.u(),this.isVisible=!0,this.vd.focus(),z("keydown",this.element,op),null!==this.element.parentElement&&this.fi&&(this.Ah=this.element.parentElement,this.Ah.style.overflow="hidden"))};qp.prototype.j=function(){var a=this.isVisible;this.element.style.display="none";this.Ua();this.isVisible=!1;this.vd.blur();this.gl.blur();a&&qb("keydown",this.element,op);void 0!==this.Ah&&(this.Ah.style.overflow="")};qp.prototype.u=function(){this.fi?(this.element.style.left=(window.innerWidth-this.na.offsetWidth)/2+"px",this.element.style.top=(window.innerHeight-this.na.offsetHeight)/2+"px"):(this.element.style.top="150px",this.element.style.left=(window.innerWidth-this.na.offsetWidth)/2+"px")};var rp;function sp(a){a=void 0===a?!1:a;if(void 0===rp){var b=new mp;switch(b.Fo){case "LoginOvrOldDsnNewBg":rp=new qp(!0);break;case "LoginOvrNewDsnOldBg":rp=new kp;break;case "LoginOvrNewDsnNewBg":rp=new kp(!0);break;default:rp=new qp}U("LoginOverlayOpened",{split_test_eligible:b.ej,variant:void 0!==b.Fo?b.Fo:"Control"})}rp.show(a)}function tp(){return void 0!==rp?rp.isVisible:!1};var up=new q("showJoinOverlay");function vp(){zm.call(this);var a=this;this.element.style.display="none";this.element.style.position="absolute";this.element.style.width="560px";this.element.style.height="auto";this.element.style.backgroundColor="#ffffff";this.element.style.border="2px solid #cccccc";this.element.style.borderRadius="20px";this.element.style.padding="10px";this.element.style.top="190px";this.element.style.fontSize="12px";this.element.style.fontFamily="UbuntuRegular', Arial, Helvetica, sans-serif";this.R.style.backgroundColor="#000000";this.element.appendChild(this.Xo());this.qf=document.createElement("iframe");this.qf.frameBorder="0";this.qf.marginWidth="0";this.qf.scrolling="no";this.qf.marginHeight="0";this.qf.style.width="560px";this.qf.style.height="650px";this.qf.src="/accounts/register_iframe/";this.element.appendChild(this.qf);var b=document.createElement("hr");b.style.margin="15px 0 10px 0";b.style.border="0";b.style.color="#e4e4e4";b.style.backgroundColor="#e4e4e4";b.style.height="1px";this.element.appendChild(b);b=document.createElement("span");var c=document.createElement("img");c.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/arrow_back.gif";c.style.marginRight="4px";c.style.verticalAlign="bottom";b.appendChild(c);this.ee=document.createElement("a");this.ee.innerText=mf;this.ee.style.color="#0a5a83";this.ee.style.position="relative";this.ee.style.top="-1px";this.ee.onmouseenter=function(){a.ee.style.textDecoration="underline"};this.ee.onmouseleave=function(){a.ee.style.textDecoration="none"};b.appendChild(this.ee);this.element.appendChild(b);b=document.createElement("span");b.style.cssFloat="right";c=document.createElement("img");c.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/key.gif";c.style.marginRight="4px";c.style.verticalAlign="bottom";b.appendChild(c);c=document.createElement("span");c.innerText=nf;c.style.color="#7f7f7f";c.style.position="relative";c.style.top="-1px";c.style.marginRight="2px";b.appendChild(c);var d=document.createElement("a");d.href="/auth/login/";d.innerText=of;d.style.color="#0a5a83";d.style.position="relative";d.style.top="-1px";d.onmouseenter=function(){d.style.textDecoration="underline"};d.onmouseleave=function(){d.style.textDecoration="none"};b.appendChild(d);this.element.appendChild(b);t(this.Xb,function(){a.j()})}p(vp,zm);vp.prototype.show=function(a){var b=this;this.ee.href=a.anchor.href;this.ee.onclick=a.dn;z("click",this.ee,function(){b.j()});this.hb();this.element.style.display="block";this.u();this.qf.onload=function(){var c=b.qf.contentDocument;if(null!==c){var d=c.getElementById("husername");null!==d&&d.focus();c=c.querySelector("a.next");c.href=a.anchor.href;c.onclick=a.dn;z("click",c,function(){b.j()})}};U("RegisterIframe_Shown")};vp.prototype.Xo=function(){var a=document.createElement("div");a.style.animationName="spin";a.style.position="absolute";a.style.top="50%";a.style.left="50%";a.style.width="30px";a.style.height="31px";a.style.margin="-15px 0 0 -15px";a.style.background='url("https://ssl-ccstatic.highwebmedia.com/tsdefaultassets//loading_spinner.svg")';a.style.backgroundSize="cover";a.style.animationName="spin";a.style.webkitAnimationName="spin";a.style.animationDuration="2s";a.style.webkitAnimationDuration="2s";a.style.animationTimingFunction="linear";a.style.webkitAnimationTimingFunction="linear";a.style.animationIterationCount="infinite";a.style.webkitAnimationIterationCount="infinite";a.style.zIndex="-1";return a};vp.prototype.u=function(){this.element.style.left=(document.documentElement.clientWidth-this.element.offsetWidth)/2+"px"};vp.prototype.j=function(){this.Ua();this.element.style.display="none"};var wp=new q("commandeerJoinOverlayAnchors",{Je:700,Vk:1}),xp=new q("restoreJoinOverlayAnchors",{Je:700,Vk:1}),yp=!1;function zp(a){var b=this;this.anchor=a=void 0===a?document.createElement("a"):a;if(void 0!==Fk().join_overlay){var c=function(){yp=!0;Ap(b)};yp?setTimeout(function(){Ap(b)},0):t(wp,c);var d=function(){yp=!1;b.restore();wp.removeListener(c);setTimeout(function(){xp.removeListener(d)},0)};t(xp,d)}}function Ap(a){a.dn=a.anchor.onclick;a.Rw=a.anchor.href;a.anchor.href="/accounts/register/";a.anchor.onclick=function(b){b.preventDefault();w(up,a);w(xp,void 0)}}
zp.prototype.restore=function(){this.anchor.onclick=this.dn;this.anchor.href=this.Rw;this.dn=null};function Bp(a){a=l(a.querySelectorAll("a:not(.nooverlay):not([href='#'])"));for(var b=a.next();!b.done;b=a.next())new zp(b.value)}
function Cp(){var a=document.getElementById("header");null!==a&&Bp(a);a=document.getElementById("footer-holder");null!==a&&Bp(a);a=document.getElementById("room_list");null!==a&&Bp(a);a=document.getElementById("hashtag_ticker");null!==a&&Bp(a);a=document.getElementsByClassName("sub-nav");0!==a.length&&Bp(a[0])};var Dp=0;function Ep(a,b){this.nw=a;this.qs=b;this.tag="Auth";this.id=Dp+=1}Ep.prototype.Ai=function(){var a={};a.tag=this.tag;a.id=this.id;a.encoded_token=this.nw;a.expiry_ms=this.qs;return JSON.stringify(a)};function Fp(){this.tag="Ping"}Fp.prototype.Ai=function(){var a={};a.tag=this.tag;return JSON.stringify(a)};function Gp(a,b){this.kh=a;this.after=b;this.tag="User";this.id=Dp+=1;this.action="Subscribe"}
Gp.prototype.Ai=function(){var a={};a.tag=this.tag;a.id=this.id;a.action=this.action;a.topic=this.kh;a.after=this.after;return JSON.stringify(a)};function Hp(a){this.kh=a;this.tag="User";this.id=Dp+=1;this.action="Unsubscribe"}Hp.prototype.Ai=function(){var a={};a.tag=this.tag;a.id=this.id;a.action=this.action;a.topic=this.kh;return JSON.stringify(a)};function Ip(a){this.tag=a}
function Jp(a){a=new L(a);switch(N(a,"tag")){case "Pong":return new Kp(0);case "User":return new Lp(new Mp(S(a,"ts"),N(a,"topic"),N(a,"msg_uuid"),N(a,"data")));case "Auth":return new Np(S(a,"id"),N(a,"msg"));case "Published":return new Op(S(a,"id"),N(a,"msg_uuid"));case "Subscribed":return new Pp(S(a,"id"));case "Unsubscribed":return new Qp(S(a,"id"));case "Unauth":return new Rp(S(a,"id"));case "TokenExpired":return new Sp(S(a,"id"));case "Error":return new Tp(S(a,"id"),N(a,"msg"))}}
function Mp(a,b,c,d){this.oy=a;this.kh=b;this.data=d}function Lp(a){this.tag="User";this.ci=a}p(Lp,Ip);Lp.prototype.Ge=function(){return 0};function Kp(a){this.tag="Pong";this.id=a}p(Kp,Ip);Kp.prototype.Ge=function(){return this.id};function Np(a,b){this.tag="Auth";this.id=a;this.ci=b}p(Np,Ip);Np.prototype.Ge=function(){return this.id};function Up(){Ip.apply(this,arguments)}p(Up,Ip);function Rp(a){Up.call(this,"Unauth");this.id=a}p(Rp,Up);Rp.prototype.Ge=function(){return this.id};function Sp(a){Up.call(this,"TokenExpired");this.id=a}p(Sp,Up);Sp.prototype.Ge=function(){return this.id};function Op(a){this.tag="Published";this.id=a}p(Op,Ip);Op.prototype.Ge=function(){return this.id};function Pp(a){this.tag="Subscribed";this.id=a}p(Pp,Ip);Pp.prototype.Ge=function(){return this.id};function Qp(a){this.tag="Unsubscribed";this.id=a}p(Qp,Ip);Qp.prototype.Ge=function(){return this.id};function Tp(a,b){this.tag="Error";this.id=a;this.ci=b}p(Tp,Ip);Tp.prototype.Ge=function(){return this.id};function Vp(){this.messageHandlers=new Map;this.Xp=new Map;this.ka=new Map;this.connected=!1;this.Mu=this.Nu=!0;this.wx=5E3;this.qx=2E4;this.Qn=0}function Wp(a){setInterval(function(){if(a.connected){var b=(new Fp).Ai();a.Ef.send(b)}},a.qx)}function Xp(a){var b=setInterval(function(){10>a.Qn?Yp(a):clearInterval(b)},a.wx)}function Zp(a,b){a=a.ka.get(b);if(void 0!==a&&a.qs>=(new Date).getTime())return a}Vp.prototype.close=function(){this.Ef.close()};function Yp(a){a.connected||$p(a).then(function(){U("PushServiceClient",{action:"reconnect_success"})}).catch(function(){U("PushServiceClient",{action:"reconnect_failed"})})}function $p(a){function b(){var d,e,f,g;return Da(b,function(h){1==h.Ug&&(d=l(c.ka.keys()),e=d.next());if(3!=h.Ug){if(e.done){h.Ug=0;return}f=e.value;g=c.Xp.get(f);var m=c.subscribe(f,g);h.Ug=3;return{value:m}}e=d.next();h.Ug=2})}var c=a;c.Qn+=1;return Promise.all(b()).then(function(){})}
Vp.prototype.connect=function(){var a=this;if(void 0!==a.cj)return a.cj;a.cj=new Promise(function(b,c){if(void 0!==a.url){try{a.Ef=new WebSocket(a.url)}catch(d){c(d);return}a.Ef.onerror=function(d){a.connected=!1;c(d)};a.Ef.onopen=function(){U("PushServiceClient",{action:"connect_success"});a.Ef.onmessage=function(d){d=Jp(d.data);if(void 0!==d&&d instanceof Lp){var e=d.ci.kh,f=a.messageHandlers.get(e);if(void 0!==f){var g=d.ci.oy,h=a.Xp.get(e);(void 0===h||g>h)&&a.Xp.set(e,g);f(d.ci)}}};a.connected=!0;b()};a.Ef.onclose=function(){a.connected=!1;a.Ef.close()}}else a.connected=!1,a.cj=void 0,c(Error("Push Service url unavailable"))});return a.cj.then(function(){a.cj=void 0;a.Qn=0;a.Nu&&(Xp(a),a.Nu=!1);a.Mu&&(Wp(a),a.Mu=!1);return Promise.resolve()}).catch(function(b){a.cj=void 0;return Promise.reject(b)})};Vp.prototype.unsubscribe=function(a){U("PushServiceClient",{action:"topic_unsubscribed",topic:a});var b=new Hp(a),c=this;return aq(c).then(function(){return bq(c,b,Qp)})};function bq(a,b,c){return new Promise(function(d,e){a.Ef.addEventListener("message",function m(h){var n=b.id;h=Jp(h.data);void 0!==h&&n===h.Ge()&&(h instanceof c?d(h):h instanceof Up||h instanceof Tp?e(h):e(Error("(Push Service) unexpected response: "+h)),a.Ef.removeEventListener("message",m))});var f=b.Ai();a.connected&&a.Ef.send(f)})}function aq(a){return new Promise(function(b,c){a.connected?b():a.connect().then(b).catch(c)})}
function cq(a,b){return new Promise(function(c,d){aq(a).then(function(){dq(a,b).then(function(){U("PushServiceClient",{action:"authorized",topic:b});c()}).catch(function(e){U("PushServiceClient",{action:"authorization_failed",topic:b});d(e)})}).catch(d)})}function eq(a){return new Promise(function(b,c){A("push_service/auth/",{topic:a}).then(function(d){try{var e=JSON.parse(d.responseText);b(new Ep(e.token,e.expiry_ms))}catch(f){c(f)}}).catch(function(d){x("(Push Service) error on auth",d)})})}
Vp.prototype.subscribe=function(a,b){var c=this,d=new Gp(a,b),e=this;return new Promise(function(f,g){cq(c,a).then(function(){return bq(e,d,Pp).then(function(){U("PushServiceClient",{action:"topic_subscribed",topic:a});f()}).catch(function(h){g(h)})}).catch(function(h){g(h)})})};function fq(a,b,c){a.messageHandlers.set(b,c)}
function dq(a,b){return new Promise(function(c,d){var e=Zp(a,b);void 0!==e?bq(a,e,Np).then(function(f){c(f)}).catch(d):eq(b).then(function(f){a.ka.set(b,f);bq(a,f,Np).then(function(g){c(g)}).catch(d)}).catch(d)})}function gq(){}function hq(a,b){this.prefix=a;this.xo=b}p(hq,gq);hq.prototype.Ns=function(){return this.prefix+":"+this.xo};function iq(a){this.kh=a}p(iq,gq);iq.prototype.Ns=function(){return this.kh};var jq=new q("pushServiceReady");function kq(a){if(void 0!==a.md){var b=a.Ox.get("push_service_url");void 0!==b&&(lq().client.url=b+"/push/");a=a.ux;lq().client.ka=a;w(jq,void 0)}}function mq(a){var b=new Map,c;for(c in a)b.set(c,a[c]);return b}function nq(){this.client=new Vp}var oq;function lq(){void 0===oq&&(oq=new nq);return oq}function pq(a,b){var c=lq(),d=a.Ns();fq(c.client,d,function(e){e=new L(e.data);e=a.wq(e);b(e)});c.client.subscribe(d).then(function(){}).catch(x)};var qq=new q("tipsInPast24HoursUpdate"),rq=new q("tokenBalanceUpdate");function sq(a){return new Promise(function(b,c){Ib("tipping/current_tokens/?room="+a).then(function(d){d=new L(d.responseText);var e={Ia:S(d,"token_balance")},f=M(d,"tip_options");if(void 0!==f){f=new L(f);var g=void 0===g?!0:g;var h=pk(f,"tip_options");"object"!==typeof h?(g&&void 0!==h&&u("getObjectStringOrUndefined(tip_options): "+h+" is wrong type",{message:f.Ve}),f=void 0):f=JSON.stringify(h);if(void 0!==f){f=new L(f);g=f.getAsString("label");var m=uk(f,"options");h=[];m=l(JSON.parse(m));for(var n=m.next();!n.done;n=m.next())n=new L(JSON.stringify(n.value)),h.push({label:n.getAsString("label")}),T(n);g={label:g,options:h};T(f);f=g}else f=void 0;e.Sj=f}T(d);w(rq,{ka:e.Ia});b(e)}).catch(function(d){c(d.status)})})}var tq=!1;function uq(a){return new Promise(function(b,c){tq||(tq=!0,A("tipping/send_tip/"+a.N+"/",{tip_amount:a.ev,message:a.message,source:a.source,tip_room_type:a.fv,tip_type:a.Ji,video_mode:a.qg}).then(function(d){tq=!1;d=new L(d.responseText);var e={success:P(d,"success")},f=M(d,"error",!1);void 0!==f?e.error=f:(e.Ia=S(d,"token_balance"),e.Sd=S(d,"tipped_performer_last_24hrs"));T(d);void 0!==e.Ia&&w(rq,{ka:e.Ia});b(e)}).catch(function(d){tq=!1;c(d.status)}))})};function vq(a){hq.call(this,wq,a)}p(vq,hq);vq.prototype.wq=function(a){return{ka:S(a,"tokens")}};var wq="push:user:token_balance";function xq(a){var b=a.flags.get("token_balance_push_enabled");void 0!==b&&b&&void 0!==a.md&&(a=a.md.xo,t(rq,function(c){Dl(isNaN(c.ka)?0:c.ka)}),pq(new vq(a),function(c){w(rq,c);U("PushServiceClient",{action:"token_balance_update",tokens:c.ka})}))};function yq(){this.kh=zq}p(yq,iq);yq.prototype.wq=function(a){return{text:N(a,"text"),url:N(a,"url"),timestamp:S(a,"timestamp"),Gl:N(a,"time_since"),ge:P(a,"seen")}};var zq="push:global:news";function Aq(a){hq.call(this,Bq,a)}p(Aq,hq);Aq.prototype.wq=function(a){return{timestamp:S(a,"timestamp")}};var Bq="push:user:news_seen",Cq=new yq;function Dq(a){var b=a.flags.get("news_push_enabled");void 0!==b&&b&&void 0!==a.md&&(pq(Cq,function(c){w(hm,c)}),pq(new Aq(a.md.xo),function(c){w(im,c)}))};function Eq(a){this.vq(a);w(Pa,this.context);this.Vh()}Eq.prototype.vq=function(a){var b=a.logged_in_user;b=null!==b?{username:b.username,xk:b.gender,Pg:b.is_supporter,Ia:b.token_balance,xo:b.user_uid,dy:b.signed_username}:void 0;var c=a.no_ads,d=a.push_service_tokens,e=new Map,f;for(f in d){var g=d[f];e.set(f,new Ep(g.token,g.expiry_ms))}this.context={gx:c,md:b,ux:e,flags:mq(a.flags),Ox:mq(a.settings)}};Eq.prototype.Vh=function(){Fq(this);Gq();Hq(this);this.Ps();void 0===this.context.md&&("/auth/login/"!==window.location.pathname&&Iq(),void 0!==Fk().join_overlay&&"/accounts/register/"!==window.location.pathname&&this.ar());this.context.gx||Jq();var a=this.context;t(jq,function(){xq(a);Dq(a)});kq(a);this.roomReload={addOnLoadHandler:ek,loadRooms:fk,scheduleRefresh:gk,chatRoomListOnClick:ik,startStreaming:lk,stopStreaming:mk,clearRefresh:hk,setRoomAnimation:kk};this.displayLoginOverlay=sp;this.showModal=nk};Eq.prototype.ar=function(){Cp();w(wp,void 0);var a;t(up,function(b){void 0===a&&(a=new vp);window.scrollTo(0,0);a.show(b)})};function Iq(){for(var a=l(document.querySelectorAll("a.login-link")),b=a.next();!b.done;b=a.next())b.value.onclick=function(c){sp();c.preventDefault()}}Eq.prototype.Ps=function(){z("popstate",window,function(a){void 0!==a.state&&null!==a.state&&location.reload()})};function Fq(a){var b=!1,c=document.querySelector("#userInfoPanelMenuDropdownRoot"),d=document.querySelector("#user_information_profile_container"),e=document.querySelector("#userUpdatesBellRoot"),f=document.querySelector("#userUpdatesMenuDropdownRoot");b=void 0===b?!1:b;null!==c&&null!==d&&(a=new gp(d,void 0!==a.context.md?a.context.md.username:""),c.appendChild(a.element));null!==e&&null!==f&&(b=(b?new sm:new qm).Ls(e),f.appendChild(b.element))}
function Gq(){for(var a=l(document.querySelectorAll(".purchase_tokens a, a.purchase_tokens")),b=a.next();!b.done;b=a.next())El(b.value)}function Jq(){for(var a=l(document.querySelectorAll(".remove_ads a")),b=a.next();!b.done;b=a.next())b.value.onclick=function(){U("HideAds_Click")}}function Hq(a){var b=document.getElementById("followed_tab"),c=document.getElementById("followed_anchor");null!==b&&null!==c&&fl(b,c,void 0!==a.context.md?a.context.md.username:"",void 0===a.context.md,!1)}window.TS=Eq;var Kq=window.canAutoplay;function Lq(){var a=new Fn;return new Promise(function(b){function c(f){var g=0;!0===f&&qb("visibilitychange",document,d);fb()&&0!==e&&(g=window.performance.now()-e);if(void 0===Kq)u("canAutoplay library is undefined. Resolving autoplay to true"),a.send(!0,g,Error("canAutoplay library is undefined. Resolving autoplay to true")),b(!0);else Kq.video({inline:!0,muted:!0,timeout:1E3}).then(function(h){a.send(h.result,g,h.error);b(h.result)})["catch"](function(h){a.send(!1,g,h);b(!1)})}function d(){"visible"===document.visibilityState&&c(!0)}var e=0;document.hidden?(fb()&&(e=window.performance.now()),z("visibilitychange",document,d)):c()})};function Mq(a){G.call(this);var b=this;this.Cs=!1;this.element.style.position="static";this.element.style.overflow="visible";this.element.style.padding="16px 19px 0 32px";this.element.style.background=F.It;this.element.style.backgroundColor=F.Ht;this.element.style.backgroundPosition="bottom";this.element.style.borderBottom="1px solid "+F.me;this.element.style.boxSizing="border-box";this.qe=document.createElement("div");this.qe.style.display="inline-block";this.qe.style.marginRight="10px";this.bm=new Nq($b(a),"",!0);this.bm.link.title=Ub(a)+"'s Cam";this.qe.appendChild(this.bm.Lb);this.qe.appendChild((new Nq(Be,"/female-cams/")).Lb);this.qe.appendChild((new Nq(De,"/male-cams/")).Lb);this.qe.appendChild((new Nq(He,"/couple-cams/")).Lb);this.qe.appendChild((new Nq(Fe,"/trans-cams/")).Lb);var c=new Nq(Je,"/spy-on-cams/");c.Lb.style.display="none";this.qe.appendChild(c.Lb);var d=new Nq("","/followed-cams/",!1,!0);a=document.createElement("span");a.textContent=Ie+" ";a.style.verticalAlign="top";d.link.appendChild(a);var e=document.createElement("span");e.style.verticalAlign="top";e.innerText="";e.className="followed_counts";d.link.appendChild(e);d.link.onmouseenter=function(){d.link.style.color=F.Pd;d.link.style.backgroundColor=F.We;d.link.style.borderBottom="1px solid  "+F.We};d.link.onmouseleave=function(){d.link.style.color=F.Af;d.link.style.backgroundColor=F.Hi;d.link.style.border="1px solid "+F.me};this.qe.appendChild(d.Lb);this.element.appendChild(this.qe);t(X,function(f){Oq(b,f.i.a());c.Lb.style.display=f.i.Sb?"none":"";b.Cs||(e.innerText="("+f.h.ix+"/"+f.h.hx+")",d.Lb.style.display="",d.Lb.style.overflow="visible",d.Lb.style.position="relative",d.Lb.style.cursor="pointer",fl(d.Lb,d.link,f.i.username(),f.i.Sb,!0),b.Cs=!0)})}p(Mq,G);function Oq(a,b){a.bm.link.innerText=Ub(b)+"'s Cam";a.bm.link.title=Ub(b)+"'s Cam"}
function Nq(a,b,c,d){var e=this;c=void 0===c?!1:c;this.Lb=document.createElement("div");this.link=(void 0===d?0:d)?document.createElement("a"):(new zp).anchor;this.Lb.style.cssFloat="left";this.Lb.style.marginRight="2px";this.Lb.style.top="-5px";this.Lb.style.position="relative";this.link.href=b;this.link.style.boxSizing="border-box";this.link.style.height="27px";this.link.style.display="inline-block";this.link.style.padding="5px 11px 0 11px";this.link.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";this.link.style.border="1px solid "+F.me;this.link.style.borderRadius="4px 4px 0 0";this.link.style.fontSize="13px";this.link.style.textDecoration="none";this.link.innerText=a;c?(this.link.removeAttribute("href"),this.link.style.fontSize="15px",this.link.style.color=F.Pd,this.link.style.backgroundColor=F.We,this.link.style.borderBottom="1px solid "+F.vm,this.link.style.padding="4px 11px 0 11px",this.link.style.maxWidth="180px",this.link.style.whiteSpace="nowrap",this.link.style.overflow="hidden",this.link.style.textOverflow="ellipsis"):(this.link.setAttribute("data-floatingnav",""),this.link.style.color=F.Af,this.link.style.backgroundColor=F.Hi,this.link.onmouseenter=function(){e.link.style.color=F.Pd;e.link.style.backgroundColor=F.We;e.link.style.borderBottom="1px solid "+F.We},this.link.onmouseleave=function(){e.link.style.color=F.Af;e.link.style.backgroundColor=F.Hi;e.link.style.border="1px solid "+F.me});this.Lb.appendChild(this.link)};function Pq(a,b){a=new L(a);b={ob:{username:b,Ly:S(a,"fan_club_cost",!1),Yh:P(a,"fan_club_is_member"),Ie:P(a,"performer_has_fanclub"),sw:N(a,"fan_club_join_url"),location:N(a,"location"),en:uk(a,"interested_in"),On:N(a,"real_name"),gg:Tb(N(a,"sex")),Km:S(a,"follower_count"),Cg:S(a,"display_age",!1),im:N(a,"body_decorations"),Cm:N(a,"display_birthday",!1),Qk:M(a,"time_since_last_broadcast"),co:N(a,"smoke_drink"),jm:N(a,"body_type"),languages:N(a,"languages"),fb:N(a,"room_status"),yn:P(a,"needs_supporter_to_pm")},Zl:N(a,"about_me"),Co:N(a,"wish_list"),Ln:function(c){var d=[];c=l(JSON.parse(c));for(var e=c.next();!e.done;e=c.next())e=new L(JSON.stringify(e.value)),d.push({id:S(e,"id"),name:N(e,"name"),mk:N(e,"cover_url"),ka:S(e,"tokens"),mc:P(e,"is_video"),Kc:P(e,"user_can_access"),vs:P(e,"fan_club_only"),$f:N(e,"label_text"),Fc:N(e,"label_color")}),T(e);return d}(uk(a,"photo_sets")),eo:function(c){var d=[];c=l(JSON.parse(c));for(var e=c.next();!e.done;e=c.next())e=new L(JSON.stringify(e.value)),d.push({id:S(e,"id"),uo:N(e,"title_name"),oj:N(e,"image_url"),ka:S(e,"tokens"),Ry:P(e,"purchased"),$f:N(e,"label_text"),Fc:N(e,"label_color")}),T(e);return d}(uk(a,"social_medias"))};T(a);return b}function Qq(a){return new Promise(function(b,c){Ib("api/biocontext/"+a+"/").then(function(d){b(Pq(d.responseText,a))}).catch(function(d){c(d)})})};function Rq(a,b){a.style.webkitTransition=b;a.style.transition=b;void 0!==a.style.setProperty&&a.style.setProperty("moz-transition",b)}function Sq(a){a.style.userSelect="text";a.style.webkitUserSelect="text";a.style.msUserSelect="text";void 0!==a.style.setProperty&&a.style.setProperty("moz-user-select","text")};function Tq(a,b){function c(m){var n=(new zp).anchor,r="/photo_videos/photoset/detail/"+b+"/"+m.id;-1!==window.location.search.indexOf("from_tube")&&(r=r+"?from_tube="+b);n.href=r;n.style.position="relative";n.style.display="inline-block";n.style.marginBottom="17px";n.style.marginRight="5px";n.className="userUpload";n.title=m.name;n.onmouseenter=function(){n.style.cursor="pointer";v.style.textDecoration="underline"};n.onmouseleave=function(){n.style.cursor="default";v.style.textDecoration="none"};n.onclick=function(E){w(Vk,m.id);E.preventDefault()};r=document.createElement("img");r.src=m.mk;r.width=150;r.height=100;r.style.padding="4px";r.style.border="1px solid #ccc";r.style.display="block";n.appendChild(r);m.Kc||(r=document.createElement("img"),r.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/locked_rectangle4.png",r.width=150,r.height=100,r.style.position="absolute",r.style.left="1px",r.style.top="1px",r.style.padding="4px",r.style.border="none",n.appendChild(r));m.mc&&(r=document.createElement("img"),r.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/play3.png",r.height=20,r.style.position="absolute",r.style.top="7px",r.style.left="7px",n.appendChild(r));""!==m.$f&&(r=document.createElement("span"),r.innerText=m.$f,r.style.backgroundColor=m.Fc,r.style.color="#fff",r.style.position="absolute",r.style.top="89px",r.style.right="10px",r.style.fontSize="10px",r.style.padding="1px 3px",r.style.lineHeight="11px",n.appendChild(r));var v=document.createElement("div");v.innerText=m.name;v.style.fontSize="14px";v.style.left="0px";v.style.maxWidth="145px";v.style.whiteSpace="nowrap";v.style.textOverflow="ellipsis";v.style.overflow="hidden";v.style.lineHeight="16px";v.style.color="#0a5a83";v.style.textDecoration="none";n.appendChild(v);return n}var d=document.createElement("div");d.style.position="relative";d.style.margin="9px 0";d.style.width="100%";d.style.lineHeight="15px";d.style.fontFamily="UbuntuMedium, Arial, Helvetica, sans-serif";var e=document.createElement("span");e.innerText=df+":";e.style.display="inline-block";e.style.color="#0a5a83";e.style.fontSize="14px";e.style.width="150px";e.style.verticalAlign="top";e.style.height="16px";d.appendChild(e);e=document.createElement("div");e.style.display="inline-block";e.style.width="87.5%";e.style.fontFamily="UbuntuRegular, Arial, Helvetica, sans-serif";e.style.color="#0a5a83";var f=0,g={};a=l(a);for(var h=a.next();!h.done;g={cd:g.cd},h=a.next()){h=h.value;if(8===f){f=document.createElement("div");g.cd=(new zp).anchor;g.cd.href="/photo_videos/photoset/list_popup/"+
b+"/";g.cd.innerText=cf;g.cd.style.fontSize="14px";g.cd.style.color="#0a5a83";g.cd.onclick=function(m){w(Vk,void 0);m.preventDefault()};g.cd.onmouseenter=function(m){return function(){m.cd.style.cursor="pointer";m.cd.style.textDecoration="underline"}}(g);g.cd.onmouseleave=function(m){return function(){m.cd.style.cursor="";m.cd.style.textDecoration=""}}(g);f.appendChild(g.cd);e.appendChild(f);break}e.appendChild(c(h));f+=1}d.appendChild(e);return d}
function Uq(a,b){function c(m){var n=(new zp).anchor,r="/socials/social_media/"+b+"/"+m.id;n.href=r;n.style.position="relative";n.style.display="inline-block";n.style.marginBottom="17px";n.style.marginRight="5px";n.className="userUpload";n.title=m.uo;n.onmouseenter=function(){n.style.cursor="pointer";E.style.textDecoration="underline"};n.onmouseleave=function(){n.style.cursor="default";E.style.textDecoration="none"};n.onclick=function(){ll(r,void 0,"resizable,dependent,scrollbars,height=500,width=700,top="+
(screen.height/2-600)+",left="+(screen.width/2-800));return!1};var v=document.createElement("img");v.src=m.oj;v.width=150;v.height=100;v.style.padding="4px";v.style.border="1px solid #ccc";v.style.display="block";n.appendChild(v);v=document.createElement("span");v.innerText=m.$f;v.style.backgroundColor=m.Fc;v.style.color="#fff";v.style.position="absolute";v.style.top="89px";v.style.right="10px";v.style.fontSize="10px";v.style.padding="1px 3px";v.style.lineHeight="11px";n.appendChild(v);var E=document.createElement("div");E.innerText=m.uo;E.style.fontSize="14px";E.style.left="0px";E.style.maxWidth="145px";E.style.whiteSpace="nowrap";E.style.textOverflow="ellipsis";E.style.overflow="hidden";E.style.lineHeight="16px";E.style.color="#0a5a83";E.style.textDecoration="none";n.appendChild(E);return n}var d=document.createElement("div");d.style.position="relative";d.style.margin="9px 0";d.style.width="100%";d.style.lineHeight="15px";d.style.fontFamily="UbuntuMedium, Arial, Helvetica, sans-serif";var e=document.createElement("span");e.innerText=ef+":";e.style.display="inline-block";e.style.color="#0a5a83";e.style.fontSize="14px";e.style.width="150px";e.style.verticalAlign="top";e.style.height="16px";d.appendChild(e);e=document.createElement("div");e.style.display="inline-block";e.style.width="87.5%";e.style.fontFamily="UbuntuRegular, Arial, Helvetica, sans-serif";e.style.color="#0a5a83";var f=0,g={};a=l(a);for(var h=a.next();!h.done;g={Yl:g.Yl,dd:g.dd},h=a.next()){h=h.value;if(8===f){f=document.createElement("div");g.dd=(new zp).anchor;g.Yl="/socials/social_media/list_popup/"+b+"/";g.dd.href=g.Yl;g.dd.innerText=cf;g.dd.style.fontSize="14px";g.dd.style.color="#0a5a83";g.dd.onclick=function(m){return function(n){ll(m.Yl,void 0,"resizable,dependent,scrollbars,height=600,width=800,top="+screen.height/2+",left="+screen.width/2);n.preventDefault()}}(g);g.dd.onmouseenter=function(m){return function(){m.dd.style.cursor="pointer";m.dd.style.textDecoration="underline"}}(g);g.dd.onmouseleave=function(m){return function(){m.dd.style.cursor="";m.dd.style.textDecoration=""}}(g);f.appendChild(g.dd);e.appendChild(f);break}e.appendChild(c(h));f+=1}d.appendChild(e);return d}
function Vq(a,b,c){var d=document.createElement("div");d.style.fontWeight="normal";d.style.margin="9px 0";d.style.lineHeight="15px";d.style.fontFamily="UbuntuRegular, Arial, Helvetica, sans-serif";var e=document.createElement("span");e.innerText=a+":";e.style.display="inline-block";e.style.color="#0a5a83";e.style.fontFamily="UbuntuMedium, Arial, Helvetica, sans-serif";e.style.fontSize="14px";e.style.width="150px";e.style.height="16px";d.appendChild(e);a=document.createElement("span");c?a.innerHTML=b:a.innerText=b;a.style.color="#000000";a.style.fontSize="14px";a.style.width="87.5%";d.appendChild(a);return d}function Wq(a,b){a=Vq(Tb(b),a,!0);b=a.children[0];b.style.display="inline-block";b.style.verticalAlign="top";b=a.children[1];b.style.display="inline-block";b.style.width="100%";b.style.lineHeight="16px";var c=document.createElement("div");a.replaceChild(c,b);c.appendChild(b);c.style.display="inline-block";0!==b.children.length&&(b.children[0].style.display="unset");return{root:a,lr:c}}
function Xq(){G.call(this);var a=this;this.pl=[];this.element.style.position="static";this.element.style.backgroundColor="#ffffff";this.element.style.padding="21px 15px 15px";this.element.style.boxSizing="border-box";this.element.className="bio-container";this.element.style.width="100%";Sq(this.element);this.ta=document.createElement("div");this.ta.style.overflow="hidden";this.ta.style.minHeight="500px";t(X,function(b){a.a=b.h.a;b=b.h;var c=Qq(b.a);a.ta.parentElement===a.element&&a.element.removeChild(a.ta);a.ta=document.createElement("div");var d=document.createElement("div");d.innerText=Tb(b.a)+"'s Bio and Free Webcam";d.style.fontSize="14.4px";d.style.fontFamily="UbuntuMedium, Arial, Helvetica, sans-serif";d.style.fontWeight="normal";d.style.color=F.Ja;d.style.margin="10px 0 20px";d.style.lineHeight="20px";a.ta.appendChild(d);c.then(function(){return a.ta.removeChild(d)});a.ta.appendChild(d);a.element.appendChild(a.ta);a.Ab(b,c)})}p(Xq,G);Xq.prototype.show=function(){this.element.style.height="";this.element.style.padding="21px 15px 15px"};Xq.prototype.j=function(){this.element.style.height="0px";this.element.style.padding="0px"};function Yq(a,b){""!==b.On&&a.ta.appendChild(Vq(Ud,b.On,!1));a.ta.appendChild(Vq(Vd,isNaN(b.Km)?"0":b.Km.toString(),!1));""!==b.Cm&&a.ta.appendChild(Vq(Zd,b.Cm,!1));isNaN(b.Cg)||a.ta.appendChild(Vq($d,b.Cg.toString(),!1));"Couple"===b.gg?a.ta.appendChild(Vq(Xd,b.gg,!1)):a.ta.appendChild(Vq(Wd,b.gg,!1));if(""!==b.en){var c=b.en;for(c=c.slice(1,c.length-1);c.includes('"');)c=c.replace('"',"");c=c.split(",").join(", ");a.ta.appendChild(Vq(ce,c,!1))}""!==b.location&&a.ta.appendChild(Vq(de,b.location,!1));void 0!==b.Qk&&""!==b.Qk&&a.ta.appendChild(Vq(fe,b.Qk,!1));""!==b.languages&&a.ta.appendChild(Vq(ee,b.languages,!1));""!==b.jm&&a.ta.appendChild(Vq(ae,b.jm,!1));""!==b.co&&a.ta.appendChild(Vq(ie,b.co,!1));""!==b.im&&a.ta.appendChild(Vq(be,b.im,!1))}
Xq.prototype.Ab=function(a,b){var c=this;b.then(function(d){if(c.a===a.a){var e=d.ob;if(e.Ie&&!e.Yh){var f=document.createElement("div");f.style.textAlign="right";f.style.lineHeight="16px";var g=(new zp).anchor;g.href="/fanclub/join/"+a.a+"/";g.target="_blank";g.innerText=ac(a.a);g.style.color="#0a5a83";g.style.fontSize="12px";g.style.textDecoration="none";g.style.width="100%";g.style.lineHeight="16px";g.style.verticalAlign="top";g.onmouseenter=function(){g.style.textDecoration="underline"};g.onmouseleave=function(){g.style.textDecoration="none"};f.appendChild(g);c.ta.appendChild(f)}else if(e.Yh){f=document.createElement("div");f.style.textAlign="right";f.style.lineHeight="16px";var h=document.createElement("span");h.innerText=bc(a.a);h.style.fontSize="12px";h.style.color="rgb(73, 73, 73)";f.appendChild(h);c.ta.appendChild(f)}f=document.createElement("h1");f.innerText=Tb(a.a)+"'s "+ke;f.style.fontSize="14.4px";f.style.fontFamily="UbuntuMedium, Arial, Helvetica, sans-serif";f.style.fontWeight="normal";f.style.color=F.Ja;f.style.margin="10px 0 20px";f.style.lineHeight="20px";c.ta.appendChild(f);Yq(c,e);1<=d.eo.length&&(e=Uq(d.eo,d.ob.username),c.pl.push({root:e,lr:e.children[1]}),c.ta.appendChild(e));1<=d.Ln.length&&(e=Tq(d.Ln,d.ob.username),c.pl.push({root:e,lr:e.children[1]}),c.ta.appendChild(e));1<=d.Zl.length&&(e=Wq(d.Zl,Pd),c.pl.push(e),Bp(e.root),c.ta.appendChild(e.root));1<=d.Co.length&&(d=Wq(d.Co,Qd),c.pl.push(d),Bp(d.root),c.ta.appendChild(d.root));c.u()}}).catch(function(){var d=document.createElement("div");d.style.position="absolute";d.style.height="100%";d.style.width="100%";d.style.top="0";d.style.left="0";d.style.display="block";var e=document.createElement("span");e.innerText=je;e.style.textAlign="center";e.style.display="block";e.style.padding="10px";d.appendChild(e);c.ta.style.position="relative";c.ta.appendChild(d)})};Xq.prototype.u=function(){var a=this;this.pl.forEach(function(b){b.lr.style.width=a.element.clientWidth-30-150+"px"})};function Zq(){G.call(this);this.rows=[];this.Va=document.createElement("p");this.O=document.createElement("h2");this.Mh=document.createElement("p");this.cg=!1;this.element.style.minHeight="800px";this.element.style.background="rgb(255,255,255)";this.element.style.padding="15px";this.element.style.width="100%";this.element.style.boxSizing="border-box";this.element.style.position="static";this.Va.style.display="block";this.Va.style.fontSize="12px";this.Va.textContent="loading...";this.O.innerText=hf+
":";this.O.style.fontSize="12px";this.O.style.color=F.xc;this.O.style.fontWeight="bold";this.Mh.innerText=jf;this.Mh.style.color=F.xc;this.Mh.style.fontSize="12px";this.Mh.style.padding="0.5em 0 1em 0";this.element.appendChild(this.Va);this.element.appendChild(this.O);this.element.appendChild(this.Mh)}p(Zq,G);Zq.prototype.Ab=function(){return new Promise(function(a){Ib("contest/leaderboard_json/?_="+(new Date).getTime()).then(function(b){b=new L(b.responseText);for(var c=[],d=l(vk(b,"top10")),e=d.next();!e.done;e=d.next())e=e.value,c.push({Tq:Ub(e.room_user),Au:e.room_slug,sx:e.points,Qw:e.image_url,yy:e.viewers});T(b);a(c)})})};function $q(a){a.rows.forEach(function(b){a.element.removeChild(b)});a.rows=[]}
function ar(a,b){function c(e){function f(W){W.style.display="table-cell";W.style.verticalAlign="middle";W.style.padding="5px";W.style.borderBottom="1px solid #ccc"}function g(W,V){W.onclick=function(da){da.preventDefault();w(Mk,e.Au)};W.style.cursor="pointer";if(void 0===V?0:V)W.onmouseenter=function(){return W.style.textDecoration="underline"},W.onmouseleave=function(){return W.style.textDecoration=""}}function h(W,V){var da=document.createElement("span"),ra=document.createElement("span"),za=document.createElement("span");da.style.fontSize="12px";da.style.fontWeight="400";ra.style.color="#0b5d81";ra.style.fontWeight="bold";za.style.color="#000";ra.style.verticalAlign="middle";za.style.verticalAlign="middle";za.style.margin="0 3px";ra.textContent=W;za.textContent=""+V;da.appendChild(ra);da.appendChild(za);return da}var m=1===d?"#dc5500":"#0c6a93",n=document.createElement("div"),r=document.createElement("div"),v=document.createElement("img"),E=document.createElement("a"),J=document.createElement("div"),C=document.createElement("div"),K=document.createElement("a"),R=document.createElement("div"),ba=h(ff+":",e.yy),Q=h(gf+":",e.sx);E.appendChild(v);C.appendChild(K);n.style.display="block";J.style.padding="5px";J.style.color=m;J.style.width="500px";r.style.fontSize=1===d?"20px":"16px";r.style.color=m;r.style.fontWeight="700";r.style.padding="5px";r.style.width="25px";C.style.color=m;K.style.color=m;K.style.fontFamily="UbuntuMedium, Arial, Helvetica, sans-serif";C.style.fontSize=1===d?"20px":"16px";R.style.color="#0c6a93";v.style.height="52px";v.style.width="52px";m="/"+e.Au+"/";K.href=m;E.href=m;v.src=e.Qw;K.textContent=""+e.Tq[0].toUpperCase()+e.Tq.slice(1,e.Tq.length);r.textContent=d+".";d+=1;f(r);f(E);f(J);g(K,!0);g(v,!1);ba.style.margin="0 5px";Q.style.margin="0 5px";C.style.margin="0 5px";J.appendChild(C);J.appendChild(R);R.appendChild(ba);R.appendChild(Q);n.appendChild(r);n.appendChild(E);n.appendChild(J);return n}var d=1;b.forEach(function(e){e=c(e);a.rows.push(e);a.element.appendChild(e)})}
Zq.prototype.show=function(){var a=this;this.element.style.display="";this.cg||(this.cg=!0,this.Va.style.display="block",this.O.style.display="none",this.Mh.style.display="none",$q(this),this.Ab().then(function(b){a.Va.style.display="none";a.O.style.display="block";a.Mh.style.display="block";ar(a,b);a.cg=!1}).catch(function(){a.cg=!1}))};Zq.prototype.j=function(){$q(this);this.element.style.display="none"};function br(){G.call(this);var a=this;this.Va=document.createElement("span");this.O=document.createElement("div");this.$n=[];this.yb=!0;this.element.style.minHeight="395px";this.element.style.background="rgb(255,255,255)";this.element.style.padding="15px";this.element.style.width="100%";this.element.style.boxSizing="border-box";this.element.style.position="static";this.element.style.color=F.Ja;this.Va.style.display="block";this.Va.style.fontSize="12px";this.Va.textContent="loading...";this.element.appendChild(this.Va);var b=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div");b.textContent=jg;c.textContent=kg;d.textContent=lg;b.style.fontSize="14.4115px";b.style.lineHeight="20.1761px";b.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";b.style.marginBottom="20px";c.style.fontSize="14.4115px";c.style.lineHeight="20.1761px";c.style.margin="14.4115px 0";c.style.whiteSpace="nowrap";d.style.color="#0b5d81";d.style.marginBottom="12.0108px";d.style.fontSize="12.0108px";d.style.lineHeight="16.8px";d.style.fontWeight="bold";this.O.appendChild(b);this.O.appendChild(c);this.O.appendChild(d);this.element.appendChild(this.O);t(X,function(e){a.yb=e.i.Sb;a.Jf=e.h;a.Va.style.display="block";a.O.style.display="none";a.jk();"block"===a.element.style.display&&a.show()})}p(br,G);br.prototype.Ab=function(){return new Promise(function(a){Ib("api/panel_share/").then(function(b){b=new L(b.responseText);var c={lm:N(b,"campaignslug"),Zy:N(b,"toururl")};T(b);a(c)})})};br.prototype.jk=function(){var a=this;this.$n.forEach(function(b){a.element.removeChild(b)});this.$n=[]};function cr(a,b){function c(f,g){var h=document.createElement("div"),m=document.createElement("label"),n=document.createElement("input");h.style.margin="12.0108px 0";h.style.lineHeight="16.8px";n.type="text";n.value=g;m.textContent=f;m.style.display="block";m.style.color="#0b5d81";m.style.fontSize="12.012px";m.style.lineHeight="16.8px";m.style.fontWeight="bold";m.style.cursor="pointer";m.style.width="375px";m.onclick=function(){n.select()};n.style.display="block";n.style.borderRadius="4px";n.style.fontSize="12px";n.style.fontFamily="Arial, Helvetica, sans-serif";n.style.verticalAlign="middle";n.style.width="375px";n.style.marginTop="4px";n.style.height="20px";n.style.lineHeight="18px";n.style.border="1px solid #b1b1b1";n.style.padding="2px 4px";n.readOnly=!0;n.onclick=function(){n.select()};a.$n.push(h);h.appendChild(m);h.appendChild(n);a.element.appendChild(h)}var d=Ub(a.Jf.a);c(D(B("Share %(username)s's Cam"),{username:d},!0)+":","https://chaturbate.com/in/?tour=7Bge&campaign="+b.lm+"&room="+a.Jf.a);c(Zf+" Chaturbate.com:","https://chaturbate.com/in/?tour=OT2s&campaign="+b.lm);c(D(B("Embed %(username)s's Cam on Your Webpage"),{username:d},!0)+":","<iframe src='https://chaturbate.com/in/?tour=SHBY&campaign="+b.lm+"&track=embed&room="+a.Jf.a+"&bgcolor=white' height=528 width=850 style='border: none;'></iframe>");c(mg+":","<iframe src='https://chaturbate.com/in/?tour=nvfS&campaign="+b.lm+"&track=embed&bgcolor=white' height=528 width=850 style='border: none;'></iframe>");b=document.createElement("div");var e=document.createElement("a");e.href="/affiliates/stats/";e.textContent=ng;e.style.color="#0a5a83";e.onmouseenter=function(){e.style.textDecoration="underline"};e.onmouseleave=function(){e.style.textDecoration="none"};b.textContent=og;b.style.color=F.Ja;b.style.fontSize="12.012px";b.style.lineHeight="16.8px";b.style.marginTop="30px";b.appendChild(e);a.$n.push(b);a.element.appendChild(b)}
br.prototype.show=function(){var a=this;this.Va.style.display="block";this.O.style.display="none";this.element.style.display="block";this.jk();this.yb||this.Ab().then(function(b){a.Va.style.display="none";a.O.style.display="block";cr(a,b)})};br.prototype.j=function(){this.element.style.display="none";this.Va.style.display="none"};function Y(a){return{Xc:1,message:a}}function dr(a){return{Xc:0,bd:a}}function er(a,b){return-1!==b.indexOf(a)?{Xc:2,message:a}:Y("#"+a)};function fr(a,b){var c={Xd:!1,Lc:void 0};this.pn=this.rg=0;this.vt=this.ff=this.ht=c;this.fl=a;this.Qt=void 0===b?function(){}:b}function gr(a){var b={Xd:!1,Lc:void 0};a.ht=b;0===a.rg&&(a.ff=b,a.fl(a.ff,!1))}function hr(a,b,c){a.rg+=1;a.ff=b;a.fl(a.ff,!0);c.then(function(d){d?(d=a.rg,d>a.pn&&(a.pn=d,a.vt=a.ff,a.fl(a.ff,d<a.rg))):ir(a,a.rg)}).catch(function(){ir(a,a.rg)})}function ir(a,b){0===a.pn?(a.ff=a.ht,a.fl(a.ff,!1),a.Qt()):b>a.pn&&(a.ff=a.vt,a.fl(a.ff,b<a.rg),a.Qt())};function jr(){G.call(this);var a=this;this.va=document.createElement("div");this.label=document.createElement("span");this.Yj=document.createElement("div");this.nh=document.createElement("div");this.Dg=document.createElement("div");this.oh=document.createElement("span");this.Eg=document.createElement("span");this.kg=document.createElement("img");this.jg=document.createElement("img");this.Fl=document.createElement("img");this.El=document.createElement("img");this.Ne=document.createElement("span");this.N="";this.Sd=0;this.vv=!1;this.Eu=eg;this.Xj=new fr(this.Nx.bind(this),this.mx.bind(this));this.label.textContent=this.Eu;this.label.style.margin="0 3px";this.label.style.verticalAlign="top";this.va.appendChild(this.label);this.Yj.style.display="inline-block";this.Yj.style.verticalAlign="top";this.nh.style.display="inline-block";this.nh.style.cursor="pointer";this.nh.style.verticalAlign="top";this.oh.style.margin="0 3px";this.oh.style.verticalAlign="top";this.nh.appendChild(this.oh);kr(this);this.nh.appendChild(this.kg);this.nh.appendChild(this.Fl);this.Yj.appendChild(this.nh);this.Ne.style.margin="0 3px";this.Ne.style.verticalAlign="top";this.Yj.appendChild(this.Ne);this.Dg.style.display="inline-block";this.Dg.style.cursor="pointer";this.Dg.style.verticalAlign="top";lr(this);this.Dg.appendChild(this.jg);this.Dg.appendChild(this.El);this.Eg.style.margin="0 3px";this.Eg.style.verticalAlign="top";this.Dg.appendChild(this.Eg);this.Yj.appendChild(this.Dg);this.va.appendChild(this.Yj);this.element.appendChild(this.va);gr(this.Xj);t(X,function(b){a.If=b.i;a.N=b.h.a;a.Sd=b.h.Sd;b.h.Zs&&void 0===b.h.fo?(a.oh.style.display="none",a.Ne.style.display="none",a.Eg.style.display="none"):(a.oh.innerText=""+b.h.eh.oh,a.Ne.innerText=b.h.eh.Ne+"%",a.Eg.innerText=""+b.h.eh.Eg,a.oh.style.display="inline",a.Ne.style.display="inline",a.Eg.style.display="inline",a.Ne.style.color=85<b.h.eh.Ne?"#298A08":65<b.h.eh.Ne?"#af5c01":"#af0101");a.label.textContent=b.h.Zs&&void 0!==b.h.fo?Eh:a.Eu;0===b.h.wt?hr(a.Xj,{Xd:!0,Lc:"down"},Promise.resolve(!0)):10===b.h.wt?hr(a.Xj,{Xd:!0,Lc:"up"},Promise.resolve(!0)):hr(a.Xj,{Xd:!1,Lc:void 0},Promise.resolve(!0));a.vv=b.h.Yw;25<=a.Sd?a.Gm():a.Bm()});t(qq,function(b){if(25<=b&&(a.Gm(),25>a.Sd)){var c=a.If.event.U;var d=a.N;d=D(B("Note: For tipping at least %(tokens)s tokens today, you can now vote what you think about %(room)s. Your vote is confidential. See below for the satisfaction feedback controls."),{tokens:25,room:Tb(d)},!0);w(c,{V:[[Y(d)]],X:!0})}a.Sd=b});t(rq,function(){-1!==["privatewatching","privatespying","groupwatching"].indexOf(a.If.status)&&Ib("tipping/tips_in_last_24/"+a.N+"/").then(function(b){b=S(new L(b.responseText),"tipped_performer_last_24hrs");w(qq,b)})})}p(jr,G);jr.prototype.mx=function(){};function mr(a,b){a.src=b;a.height=15;a.width=15;a.style.height="15px";a.style.width="15px";a.style.verticalAlign="top";a.style.margin="0 3px";a.style.opacity="0.8"}
function kr(a){mr(a.kg,"https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/thumbs-up-inactive.svg");mr(a.Fl,"https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/thumbs-up-active.svg");a.nh.onclick=function(b){b.stopPropagation();25<=a.Sd&&(!1===a.Xd||"down"===a.Lc)?(nr(a,!0),b=A("tipping/rate_model/"+a.N+"/",{rating:"10"}).then(function(){var c=a.If.event.U;var d=a.N;d=D(B("Note: Your confidential vote of thumbs up for %(room)s has been recorded. You may change your vote at any time today. Thank you for your feedback."),{room:Tb(d)},!0);w(c,{V:[[Y(d)]],X:!0});return!0}).catch(function(c){x("Error rating model: "+c);return!1}),hr(a.Xj,{Xd:!0,Lc:"up"},b)):"up"===a.Lc&&nr(a,!1)}}
function lr(a){mr(a.jg,"https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/thumbs-down-inactive.svg");mr(a.El,"https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/thumbs-down-active.svg");a.Dg.onclick=function(b){b.stopPropagation();25<=a.Sd&&(!1===a.Xd||"up"===a.Lc)?Aj(wc(a.N),function(){nr(a,!0);var c=A("tipping/rate_model/"+a.N+"/",{rating:"0"}).then(function(){var d=a.N;d=D(B("Note: Your confidential vote of thumbs down for %(room)s has been recorded. You may vote once every 90 days, and you may change your vote at any time today.  Thank you for your feedback."),{room:Tb(d)},!0);a.vv&&(d=a.N,d=D(B("Note: Your confidential vote of thumbs down for %(room)s has been refreshed and will expire in 90 days. You may change your vote at any time today. Thank you for your feedback."),{room:Tb(d)},!0));w(a.If.event.U,{V:[[Y(d)]],X:!0});return!0}).catch(function(d){x("Error rating model: "+d);return!1});hr(a.Xj,{Xd:!0,Lc:"down"},c)}):"down"===a.Lc&&nr(a,!1)}}
jr.prototype.Gm=function(){this.kg.style.opacity="1";this.jg.style.opacity="1";this.kg.style.cursor="pointer";this.jg.style.cursor="pointer"};jr.prototype.Bm=function(){this.kg.style.opacity="0.65";this.jg.style.opacity="0.65";this.kg.style.cursor="";this.jg.style.cursor=""};jr.prototype.Nx=function(a){void 0===a.Lc||!1===a.Xd?(this.Xd=!1,this.Lc=void 0,this.El.style.display="none",this.jg.style.display="",this.Fl.style.display="none",this.kg.style.display=""):"up"===a.Lc?(this.Xd=!0,this.Lc="up",this.El.style.display="none",this.jg.style.display="",this.Fl.style.display="",this.kg.style.display="none"):"down"===a.Lc&&(this.Xd=!0,this.Lc="down",this.El.style.display="",this.jg.style.display="none",this.Fl.style.display="none",this.kg.style.display="")};function or(a){jr.call(this);var b=this;this.ia=document.createElement("div");this.qr=!1;this.element.style.width="auto";this.element.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";this.element.style.fontSize="12px";this.element.style.padding="4px 10px";this.element.style.position="relative";this.element.style.top="-4px";this.element.style.right="1px";this.element.style.cssFloat="right";this.element.style.borderRadius="4px";this.element.style.cursor="pointer";this.element.style.marginRight="5px";this.element.onmouseenter=function(){if(!b.qr){b.ia.style.display="block";var c=b.element.getBoundingClientRect();b.ia.style.top=c.top+eb().scrollTop+a.offsetHeight+3+"px";b.ia.style.left=c.left+eb().scrollLeft+(c.width-b.ia.offsetWidth)/2+"px"}};this.element.onmouseleave=function(){b.ia.style.display="none"};this.hr();a.appendChild(this.ia);t(X,function(c){void 0!==b.Ga&&(pr(b.Ga),a.removeChild(b.Ga.element));b.Ga=new qr(c,b.element,function(){b.qr=!1});a.appendChild(b.Ga.element);rr(b,tc(c.h.a))});this.Bm()}p(or,jr);or.prototype.u=function(){void 0!==this.Ga&&this.Ga.u()};or.prototype.hr=function(){this.ia.style.position="absolute";this.ia.style.backgroundColor="#fdf294";this.ia.style.width="220px";this.ia.style.border="2px solid #ff9130";this.ia.style.borderRadius="4px";this.ia.style.zIndex="5";this.ia.style.fontSize="12px";this.ia.style.padding="12px";this.ia.style.display="none";this.ia.appendChild(Kj("#ff9130","#fdf294","123px"));this.ia.appendChild(document.createElement("span"))};function rr(a,b){a=a.ia.lastChild;a.style.color=F.xc;a.innerText=b}function nr(a,b){a.qr=!0;void 0!==a.Ga&&(a.Ga.show(b),a.ia.style.display="none")}or.prototype.Gm=function(){this.element.style.backgroundColor="#ffffff";Sa()&&(this.element.style.background="linear-gradient(180deg, #ffffff 0%, #ffffff 50%, #dddddd 60%)");this.element.style.color="#0a5a83";this.element.style.textShadow="#94d2e6 1px 1px 0px";jr.prototype.Gm.call(this)};or.prototype.Bm=function(){this.element.style.backgroundColor="#bbbbbb";Sa()&&(this.element.style.background="linear-gradient(180deg, #bbbbbb 0%, #bbbbbb 50%, #aaaaaa 60%)");this.element.style.color="#777777";this.element.style.textShadow="#bababa 1px 1px 0px";jr.prototype.Bm.call(this)};function qr(a,b,c){G.call(this);var d=this;this.Du=b;this.jx=c;this.Ae=document.createElement("div");this.label=document.createElement("label");this.dc=document.createElement("textarea");this.ac=document.createElement("input");this.N="";this.kl=!1;this.hidden=!0;this.N=a.h.a;this.element.style.display="none";this.element.style.width="350px";this.element.style.height="auto";this.element.style.backgroundColor="#ffffff";this.element.style.border="2px solid #0b5d81";this.element.style.borderRadius="4px";this.element.style.top="0px";this.element.style.right="0px";this.element.style.overflow="";this.element.style.zIndex="11";this.element.onclick=function(e){e.stopPropagation()};this.element.appendChild(Kj("#0b5d81","#e0e0e0","176px"));b=document.createElement("div");b.innerText=bg;b.style.boxSizing="border-box";b.style.color="#0b5d81";b.style.backgroundColor="#e0e0e0";b.style.width="100%";b.style.fontSize="15px";b.style.fontWeight="bold";b.style.padding="6px";b.style.borderRadius="4px 4px 0px 0px";this.element.appendChild(b);b=document.createElement("div");b.style.padding="6px";b.style.fontSize="13px";b.style.color="#777";b.innerText=uc(a.h.a);this.element.appendChild(b);this.element.appendChild(this.Ae);sr(this);this.j=function(){pr(d)};this.element.onmousemove=function(){tr(d,1E4)}}p(qr,G);qr.prototype.show=function(a){this.hidden&&(z("click",document,this.j),this.hidden=!1);this.element.style.display="block";if(a){for(this.dc.value="";null!==this.Ae.firstChild;)this.Ae.removeChild(this.Ae.firstChild);this.Ae.appendChild(this.label);this.Ae.appendChild(this.dc);this.Ae.appendChild(this.ac)}if(null!==this.element.parentNode){a=this.Du.getBoundingClientRect();var b=this.element.parentElement;this.element.style.top=a.top+eb().scrollTop+b.offsetHeight+"px";this.element.style.left=a.left+
eb().scrollLeft+(a.width-this.element.offsetWidth)/2+"px"}null!==this.dc.parentNode&&this.dc.focus();tr(this,1E4)};qr.prototype.u=function(){if(null!==this.element.parentNode){var a=this.Du.getBoundingClientRect(),b=this.element.parentElement;this.element.style.top=a.top+eb().scrollTop+b.offsetHeight+3+"px";this.element.style.left=a.left+eb().scrollLeft+(a.width-this.element.offsetWidth)/2+"px"}};function sr(a){a.label.style.fontSize="13px";a.label.style.fontWeight="bold";a.label.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";a.label.style.color="#777";a.label.style.margin="6px";a.label.innerText=cg;a.dc.maxLength=155;a.dc.style.width="338px";a.dc.style.resize="none";a.dc.style.fontSize="13px";a.dc.style.margin="6px";a.dc.style.padding="4px";a.dc.style.border="1px solid #777";a.dc.style.borderRadius="4px";a.dc.style.boxSizing="border-box";a.dc.style.display="block";a.dc.style.height="81px";a.dc.value="";a.dc.oninput=function(){ur(a)};a.ac.setAttribute("type","submit");a.ac.style.fontSize="12px";a.ac.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";a.ac.style.color="rgb(255,255,255)";a.ac.style.padding="5px 8px 4px";a.ac.style.marginRight="6px";a.ac.style.marginBottom="10px";Sa()?a.ac.style.background="linear-gradient(rgb(255, 151, 53) 0%, rgb(255, 158, 54) 50%, rgb(255, 112, 2) 60%)":a.ac.style.backgroundColor="rgb(255,151,53)";a.ac.style.borderRadius="4px";a.ac.style.borderStyle="none";a.ac.style.boxSizing="border-box";a.ac.style.cursor="pointer";a.ac.style.display="inline-block";a.ac.style.cssFloat="right";a.ac.value="SUBMIT";a.ac.onclick=function(b){b.stopImmediatePropagation();vr(a,a.dc.value)}}
function vr(a,b){A("tipping/add_comment/"+a.N+"/",{comment:b}).then(function(){for(;null!==a.Ae.firstChild;)a.Ae.removeChild(a.Ae.firstChild);var c=document.createElement("div");c.style.width="300px";c.style.margin="25px";c.style.textAlign="center";c.style.fontSize="13px";c.style.color="#777";c.innerText=dg;a.Ae.appendChild(c);a.kl=!1;tr(a,5E3)}).catch(function(c){x("Error rating model: "+c)})}function ur(a){clearTimeout(a.Wm);a.kl=!0;a.Wm=setTimeout(function(){a.kl=!1;tr(a,1E4)},3E4)}
function tr(a,b){a.kl||(clearTimeout(a.Wm),a.Wm=setTimeout(function(){pr(a)},b))}function pr(a){a.hidden||(clearTimeout(a.Wm),qb("click",document,a.j),a.kl=!1,a.jx(),a.element.style.display="none",a.hidden=!0)};function wr(a,b,c){G.call(this);this.animate=c;this.N=a.room;c=this.element;c.style.display="inline-block";c.style.width="180px";c.style.backgroundColor=F.Xr;c.style.cssFloat="left";c.style.margin="0 7px 7px 0";c.style.border="1px solid "+F.Yr;c.style.borderRadius="4px";c.style.webkitBorderRadius="4px";c.style.maxHeight="222px";c.style.overflow="hidden";c.style.position="relative";var d=document.createElement("a");d.style.textDecoration="none";d.style.color=F.Ro;d.href="/"+a.room+"/";d.onclick=b;this.Uf=document.createElement("img");this.Uf.style.display="block";this.Uf.style.borderStyle="none";this.Uf.width=180;this.Uf.height=135;this.Uf.src=a.img;d.appendChild(this.Uf);c.appendChild(d);c.appendChild(xr(a.label));d=document.createElement("div");d.style.padding="4px 7px 0";d.style.textAlign="left";var e=document.createElement("div");e.style.width="100%";e.style.overflow="hidden";e.style.borderBottom="1px solid #ACACAC";var f=document.createElement("a");f.style.cssFloat="left";f.style.color=F.Ro;f.style.font="14px 'UbuntuMedium',Arial,Helvetica,sans-serif";f.style.width="125px";f.style.overflow="hidden";f.style.textDecoration="none";f.textContent=a.room;f.href="/"+a.room+"/";f.onclick=b;e.appendChild(f);b=document.createElement("span");b.style.cssFloat="right";b.style.color=F.Qo;b.style.padding="2px 18px 0 0";b.style.font="12px 'UbuntuMedium',Arial,Helvetica,sans-serif";b.style.minHeight="15px";b.style.background="url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets//icon"+{f:"Female",m:"Male",s:"Trans",c:"Couple"}[a.gender]+".png) no-repeat 100% 0";b.textContent=a.display_age;e.appendChild(b);d.appendChild(e);b=document.createElement("ul");b.style.height=null===a.location?"32px":"16px";b.style.listStyle="none";b.style.margin="0";b.style.padding="0";b.style.fontSize="11px";b.style.lineHeight="16px";b.style.width="168px";b.style.overflow="hidden";b.style.color=F.Zr;e=document.createElement("li");e.style.width="auto";e.style.background="0 0";e.style.border="0";e.style.margin="0";e.style.padding="0 2px";e.innerHTML=a.subject;f=l(e.querySelectorAll("a"));for(var g=f.next();!g.done;g=f.next())g.value.style.color=F.$r;b.appendChild(e);d.appendChild(b);b=document.createElement("ul");b.style.listStyle="none";b.style.margin="0";b.style.padding="0 0 4px";b.style.fontSize="11px";b.style.color=F.Qo;b.style.overflow="hidden";null!==a.location&&(e=document.createElement("li"),e.style.width="145px",e.style.height="15px",e.style.overflow="hidden",e.style.margin="0",e.style.padding="0 0 0 18px",e.style.background="url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets//ico-01.png) no-repeat 0 50%",e.style.whiteSpace="nowrap",e.textContent=""+a.location,b.appendChild(e));e=document.createElement("li");e.style.width="145px";e.style.height="15px";e.style.overflow="hidden";e.style.margin="0";e.style.padding="0 0 0 18px";e.style.background="url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets//ico-cams.png) no-repeat 0 50%";e.style.whiteSpace="nowrap";e.textContent=a.time_online+", "+
a.viewers+" viewers";b.appendChild(e);d.appendChild(b);c.appendChild(d);this.animate&&yr(this)}p(wr,G);function yr(a){a.Ip=new Ob(a.N,a.Uf);z("mouseenter",a.element,function(){Pb(a.Ip)});z("mouseleave",a.element,function(){Sb(a.Ip,!1)})}wr.prototype.ue=function(){this.animate&&Sb(this.Ip,!1);G.prototype.ue.call(this)};function xr(a){var b=document.createElement("div");b.style.position="absolute";b.style.top="119px";b.style.right="3px";b.style.padding="1px 3px";b.style.textAlign="center";b.style.font="10px 'UbuntuRegular',Arial,Helvetica,sans-serif";b.style.color=F.Zu;switch(a){case "recommended":b.textContent=vh;b.style.backgroundColor=F.$u;break;case "offline":b.textContent=wh;b.style.backgroundColor=F.av;break;case "exhib":b.textContent=xh;b.style.backgroundColor=F.Yu;break;case "new":b.textContent=yh;b.style.backgroundColor="#71b404";b.style.color="#FFFFFF";break;case "hd":b.textContent=zh;b.style.backgroundColor=F.lo;break;case "hd_plus":b.textContent=Ah;b.style.backgroundColor=F.lo;break;case "private":b.textContent=Bh;b.style.backgroundColor=F.kr;break;case "group":b.textContent=Ch;b.style.backgroundColor=F.kr;break;default:b.textContent=Dh,b.style.backgroundColor=F.lo}return b};function zr(){G.call(this);this.element.style.position="static"}p(zr,G);function Ar(a){G.call(this);var b=this;this.Va=document.createElement("span");this.ei=document.createElement("div");this.zn=document.createElement("div");this.ed=!0;void 0!==a&&(this.a=a,this.ed=!1);this.element.style.minHeight="395px";this.element.style.background="rgb(255,255,255)";this.element.style.padding="15px";this.element.style.width="100%";this.element.style.boxSizing="border-box";this.element.style.position="static";this.element.style.color=F.Ja;this.element.style.margin="10px 0";this.Va.style.display="block";this.Va.style.fontSize="12px";this.Va.textContent="loading...";this.element.appendChild(this.Va);this.ei.style.display="none";this.ei.style.fontSize="14px";a=document.createElement("div");a.textContent=uh;a.style.marginBottom="10px";this.zn.style.marginBottom="10px";this.ei.appendChild(this.zn);this.ei.appendChild(a);this.element.appendChild(this.ei);this.dh=new zr;this.D(this.dh);t(X,function(c){b.Va.style.display="block";b.a=c.h.a;"block"===b.element.style.display&&b.show()})}p(Ar,G);Ar.prototype.jk=function(){hj(this.dh);this.zn.textContent="";this.ei.style.display="none"};Ar.prototype.Ab=function(a){var b=this;a=void 0===a?!1:a;if(void 0!==this.a){var c=this.a;Ib("api/more_like/"+this.a+"/").then(function(d){if(b.a===c){a&&b.jk();var e=new L(d.responseText);b.Va.style.display="none";P(e,"has_recommendations")||(b.zn.textContent=D(B("Sorry, we don't have any rooms similar to %(room)s yet."),{room:c},!0),b.ei.style.display="block");d=function(m,n){return function(r){U("LoadRoomFromRoomList",{location:"more_like_this",from_broadcaster:n,broadcaster:m.room});!b.ed||r.metaKey||r.ctrlKey||(r.preventDefault(),w(Mk,m.room))}};var f=vk(e,"rooms");e=0;var g={};f=l(f);for(var h=f.next();!h.done;g={Ri:g.Ri,Do:g.Do},h=f.next())g.Ri=h.value,g.Ri.room!==b.a&&(e+=1,g.Do=e,h=new wr(g.Ri,d(g.Ri,b.a),!0),pb(h.element,function(m){return function(){Vj(m.Ri.room,"ml",m.Do)}}(g)),b.dh.D(h))}})}};Ar.prototype.show=function(){var a=this;this.Va.style.display="block";this.element.style.display="block";this.jk();this.Ab();clearInterval(this.Gq);this.Gq=setInterval(function(){a.Ab(!0)},45E3)};Ar.prototype.j=function(){this.element.style.display="none";this.Va.style.display="none";clearInterval(this.Gq);this.Gq=void 0};var Br=new q("photoSetDetail");function Cr(a){return new Promise(function(b,c){Ib("photo_videos/api/photoset_links/"+a+"/").then(function(d){d=JSON.parse(d.responseText);d.error&&c(d.error);b(d.urls)}).catch(function(d){c(d)})})}function Dr(a){return new Promise(function(b,c){Ib("photo_videos/api/photoset_links/"+a+"/").then(function(d){d=JSON.parse(d.responseText);d.error&&c(d.error);b(d.urls[0])}).catch(function(d){c(d)})})}
function Er(a){return new Promise(function(b,c){Ib("photo_videos/api/photoset_action_links/"+a+"/").then(function(d){b(d.responseText)}).catch(function(d){c(d)})})}
function Fr(a){return new Promise(function(b,c){Ib("photo_videos/api/pvcontext/"+a+"/").then(function(d){var e=new L(d.responseText);d=N(e,"room");var f=P(e,"is_anonymous"),g=P(e,"is_broadcaster"),h=P(e,"is_staff"),m=P(e,"has_fan_club"),n=P(e,"is_fan_club_member"),r=uk(e,"photo_sets");e=[];r=l(JSON.parse(r));for(var v=r.next();!v.done;v=r.next())v=new L(JSON.stringify(v.value)),e.push({id:S(v,"id"),name:N(v,"name"),mk:N(v,"cover_url"),ka:S(v,"tokens"),mc:P(v,"is_video"),Kc:P(v,"user_can_access"),px:P(v,"pending_approval",!1,!1),us:P(v,"failed_approval",!1,!1),xx:N(v,"rejection_notes",!1),vs:P(v,"fan_club_only"),ws:P(v,"fan_club_unlock"),$f:N(v,"label_text"),Fc:N(v,"label_color"),description:N(v,"description"),Wc:S(v,"num_photos"),aw:N(v,"created"),vy:P(v,"video_has_sound"),Zw:P(v,"legacy_video"),uy:S(v,"video_duration"),bz:sk(v,"video_id",!1),Er:P(v,"video_ready",!1,!1),Dr:P(v,"video_error_processing",!1,!1)}),T(v);b({a:d,yb:f,Dc:g,Ww:h,Ie:m,nt:n,Id:e})}).catch(function(d){c(d)})})}
function Gr(a,b){var c={Fc:"#AAA",Qg:[],rf:"free"};if(a.us)c.rf="not_approved",c.Fc="#5e81a4",c.Qg=[{sc:Xh,size:0},{sc:Zh,size:0}];else if(a.mc&&a.Dr)c.rf="not_approved",c.Fc="#5e81a4",c.Qg=[{sc:bi,size:0},{sc:ai,size:0}];else if(a.mc&&!a.Er)c.rf="not_approved",c.Fc="#5e81a4",c.Qg=[{sc:$h,size:0},{sc:ai,size:0}];else if(a.px)c.rf="not_approved",c.Fc="#5e81a4",c.Qg=[{sc:Yh,size:0},{sc:Zh,size:0}];else{var d=a.ka;!a.ws&&0<d||!b.Ie&&0<d?(c.rf="purchase_only",c.Qg=[{sc:""+a.ka,size:1},{sc:Xb(a.ka,!0),size:0}]):a.vs?(c.rf="fanclub_only",c.Fc="#090",c.Qg=[{sc:Kh,size:1},{sc:Lh,size:1}]):a.ws&&0<a.ka&&(c.rf="fanclub_or_purchase",c.Fc="#090",c.Qg=[{sc:Kh,size:1},{sc:Lh,size:1},{sc:Sd,size:2},{sc:""+a.ka,size:1},{sc:Xb(a.ka,!0),size:0}])}return c};var Hr={De:704,wj:704,Gd:600,vf:396};function Ir(a){Hr.De=168*Math.floor((a.offsetWidth-30+16)/168)-16;Hr.wj=Math.min(Hr.De,1400);Hr.Gd=Hr.wj-104;Hr.vf=Math.floor(9*Hr.wj/16)};var Jr=new q("photosetPurchasedEvent");function Kr(a,b,c){G.call(this);var d=this;this.T=a;this.context=b;this.Wa=c;this.Ma=document.createElement("div");this.Bh=document.createElement("div");this.ab=document.createElement("a");this.element.style.display="block";this.element.style.position="relative";this.element.style.width="100%";this.element.style.height="auto";this.Ma.style.width="100%";this.Ma.style.height="auto";this.Ma.style.minHeight="200px";this.element.appendChild(this.Ma);this.Bh.style.width="100%";this.Bh.style.height="20px";this.Bh.style.position="relative";a=document.createElement("div");a.style.height="20px";a.style.lineHeight="20px";a.style.position="absolute";a.style.top="0px";a.style.right="0px";a.style.fontSize="12px";a.style.color="#555";a.style.textAlign="right";a.style.marginTop="2px";a.textContent=Mh+" "+this.T.aw;this.Bh.appendChild(a);this.ab.style.display="none";this.ab.style.height="20px";this.ab.style.lineHeight="20px";this.ab.style.position="absolute";this.ab.style.top="0px";this.ab.style.left="0px";this.ab.style.fontSize="12px";this.ab.style.textAlign="left";this.ab.style.color="#0A5A83";this.ab.style.marginTop="2px";this.ab.target="_blank";this.ab.onmouseenter=function(){d.ab.style.textDecoration="underline"};this.ab.onmouseleave=function(){d.ab.style.textDecoration="none"};this.T.mc||(this.ab.textContent=Sh);this.Bh.appendChild(this.ab);this.element.appendChild(this.Bh);this.T.Kc||Lr(this)}p(Kr,G);k=Kr.prototype;k.Ab=function(){};k.next=function(){};k.Cb=function(){};k.Mn=function(){};k.resize=function(a){this.Wa=a;void 0!==this.Ca&&this.Ca.parentElement===this.Ma&&(this.Ca.style.width=this.Wa.Gd+"px",this.Ca.style.height=this.Wa.vf+"px",void 0!==this.qn&&(this.qn.style.left=(this.Wa.Gd-350)/2+"px",this.qn.style.top=(this.Wa.vf-200)/2+"px"))};function Mr(a,b){a.context.yb&&Aj(b,function(){w(Sk,!1)});return!a.context.yb}
function Nr(a){Mr(a,a.T.mc?Vh:Th)&&Aj(a.T.mc?fc(a.T.ka):gc(a.T.Wc,a.T.ka),function(){A("photo_videos/purchase_photoset/"+a.T.id+"/",{pvTab:"True"}).then(function(b){b=new L(b.responseText);P(b,"success")?(U("PVTab_PurchasePhotoset"),w(Jr,a.T.id),a.T.Kc=!0,void 0!==a.Ca&&a.Ca.parentElement===a.Ma&&a.Ma.removeChild(a.Ca),a.Ab()):void 0!==M(b,"error")?P(b,"tokens_error")?Aj(N(b,"error")+"  "+Wh,function(){window.open("/tipping/purchase_tokens/","_blank","height=615, width=850")}):H(N(b,"error")):H(a.T.mc?Oh:Nh)}).catch(function(b){x("Purchase Error: "+b)})})}function Or(a){Mr(a,ec(a.context.a))&&(a.context.Ie?Aj(dc(a.context.a),function(){U("PVTab_JoinFanclub");window.location.href="/fanclub/join/"+a.context.a+"/"}):H(jc(a.context.a)))}
function Lr(a){a.Ca=document.createElement("div");a.Ca.style.position="relative";a.Ca.style.width=a.Wa.Gd+"px";a.Ca.style.height=a.Wa.vf+"px";a.Ca.style.margin="0 auto";a.Ca.style.overflow="hidden";a.Ca.style.zIndex="2";var b=document.createElement("img");b.src=a.T.mk;b.style.width="100%";b.style.height="100%";b.style.filter="blur(8px)";a.Ca.appendChild(b);a.qn=Pr(a);a.Ca.appendChild(a.qn);a.Ma.appendChild(a.Ca)}
function Pr(a){var b=document.createElement("div");b.style.width="350px";b.style.height="200px";b.style.backgroundColor="rgba(0, 0, 0, 0.7)";b.style.borderRadius="10px";b.style.position="absolute";b.style.left=(a.Wa.Gd-350)/2+"px";b.style.top=(a.Wa.vf-200)/2+"px";b.style.textAlign="center";var c=document.createElement("div");c.style.width="100%";var d=document.createElement("div");d.style.fontSize="16px";d.style.height="40px";d.textContent=a.T.mc?ic(Qr(a.T.uy)):hc(a.T.Wc);d.style.color="white";c.appendChild(d);d=40;switch(Gr(a.T,a.context).rf){case "fanclub_or_purchase":var e=Rr(cc(Sr(a.context.a)),function(){Or(a)}),f=document.createElement("div");f.textContent=Rh;f.style.fontSize="14px";f.style.color="white";f.style.height="30px";f.style.lineHeight="30px";f.style.marginBottom="1px";var g=Rr(a.T.ka+" "+Vb("TOKEN","TOKENS",a.T.ka),function(){Nr(a)},!0);c.appendChild(e);c.appendChild(f);c.appendChild(g);d+=80;break;case "fanclub_only":e=Rr(cc(Sr(a.context.a)),function(){Or(a)});c.appendChild(e);d+=25;break;case "purchase_only":e=Rr(a.T.ka+" "+Vb("TOKEN","TOKENS",a.T.ka),function(){Nr(a)}),c.appendChild(e),d+=25}c.style.position="relative";c.style.top=(200-d)/2-5+"px";b.appendChild(c);return b}function Tr(a,b){a.T.mc||""===b||(a.context.yb?(a.ab.href="#",a.ab.style.display="block",a.ab.onclick=function(c){c.preventDefault();Mr(a,Uh)}):(a.ab.href=b,a.ab.style.display="block"))}
function Rr(a,b,c){var d=document.createElement("div");d.textContent=a;d.style.width="250px";d.style.height="25px";d.style.lineHeight="25px";d.style.borderRadius="4px";d.style.fontSize="12px";d.style.color="white";d.style.textAlign="center";d.style.cursor="pointer";d.onclick=b;d.style.border="1px solid rgba(0, 0, 0, 0.35)";(void 0===c?0:c)?Sa()?d.style.background="linear-gradient(#A9A9A9 29.7%, #8B8B8B 70.67%)":d.style.backgroundColor="#8B8B8B":Sa()?d.style.background="linear-gradient(#57A863 26.52%, #488839 75.14%)":d.style.backgroundColor="#488839";d.style.position="relative";d.style.left="50px";return d}function Sr(a){return 18>=a.length?a.toUpperCase():(a.substr(0,15)+"...").toUpperCase()}function Qr(a){return(60<a?Math.floor(a/60)+" "+Ph+" ":"")+a%60+" "+Qh};function Ur(a,b,c){G.call(this);var d=this;this.T=a;this.context=b;this.Wa=c;this.anchor=document.createElement("a");this.element.style.position="relative";this.element.style.display="inline-block";this.element.style.width=this.Wa.ds+"px";this.element.style.height="120px";this.element.style.boxSizing="border-box";this.element.style.margin="0px "+this.Wa.To+"px "+(c.To+1)+"px";this.element.style.verticalAlign="middle";this.element.title=a.name;this.element.onmouseenter=function(){d.element.style.cursor="pointer";d.element.style.textDecoration="underline"};this.element.onmouseleave=function(){d.element.style.cursor="default";d.element.style.textDecoration="none"};this.anchor.href="/photo_videos/photoset/detail/"+this.context.a+"/"+this.T.id+"/";this.anchor.onclick=function(e){e.metaKey||e.ctrlKey||(e.preventDefault(),w(Br,{request:{T:d.T,context:d.context,autoplay:!0,scroll:!0},pushState:!0}))};this.element.appendChild(this.anchor);a=document.createElement("img");a.src=this.T.mk;a.width=150;a.height=100;a.style.border="1px solid #ccc";a.style.display="block";this.anchor.appendChild(a);this.T.mc&&(a=document.createElement("img"),a.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/icon-video.svg",a.height=20,a.style.position="absolute",a.style.top="7px",a.style.left="7px",this.anchor.appendChild(a));!this.T.Kc||this.context.Dc?Vr(this):this.T.Kc&&"PURCHASED"===this.T.$f&&Wr(this);a=document.createElement("div");a.textContent=this.T.name;a.style.fontSize=this.Wa.fontSize+"px";a.style.left="0px";a.style.maxWidth="145px";a.style.whiteSpace="nowrap";a.style.textOverflow="ellipsis";a.style.overflow="hidden";a.style.lineHeight="16px";a.style.color="#0a5a83";this.anchor.appendChild(a)}p(Ur,G);function Wr(a){var b=document.createElement("span");b.style.position="absolute";b.style.bottom="22px";b.style.right="5px";b.style.padding="0px 4px";b.style.borderRadius="4px";b.style.backgroundColor="#0C6A93";b.style.color="#FFF";b.style.fontSize="10px";b.textContent=Rd;a.anchor.appendChild(b)}
function Vr(a){var b=Gr(a.T,a.context);if("free"!==b.rf){a.Ca=document.createElement("div");a.Ca.style.height="90px";a.Ca.style.width="140px";a.Ca.style.borderRadius="3px";a.Ca.style.backgroundColor="rgba(0, 0, 0, 0.7)";a.Ca.style.position="absolute";a.Ca.style.top="6px";a.Ca.style.left="6px";var c=document.createElement("div");c.style.height="76px";c.style.width="76px";c.style.borderRadius="76px";c.style.border="2px solid "+b.Fc;c.style.backgroundColor="rgba("+("#090"===b.Fc?0:153)+", 153, "+("#090"===b.Fc?0:153)+", 0.15)";c.style.position="absolute";c.style.top="5px";c.style.left="30px";var d=document.createElement("div");d.style.textAlign="center";var e=0,f=0;switch(b.rf){case "purchase_only":e=14;f=20;break;case "fanclub_only":e=10;f=16;break;case "fanclub_or_purchase":e=10;f=14;break;case "not_approved":e=10}b=l(b.Qg);for(var g=b.next();!g.done;g=b.next()){var h=g.value;g=document.createElement("div");g.innerText=h.sc;h=1===h.size?f:0===h.size?e:12;g.style.fontSize=h+"px";g.style.height=h+
"px";g.style.lineHeight=h+"px";g.style.color="#FFF";g.style.fontWeight="bold";d.appendChild(g)}c.appendChild(d);a.Ca.appendChild(c);a.anchor.appendChild(a.Ca);d.style.position="absolute";setTimeout(function(){d.style.top=(c.offsetHeight-d.offsetHeight)/2-2+"px";d.style.left=(c.offsetWidth-d.offsetWidth)/2-2+"px"},0)}};function Xr(a,b){a=void 0===a?!1:a;b=void 0===b?!1:b;G.call(this);this.mc=a;this.Sg=document.createElement("img");a=Hr.vf;var c=this.mc?Hr.wj:Hr.Gd;this.element.style.position="relative";this.element.style.width=c+"px";this.element.style.height=a+"px";this.element.style.margin="0 auto";this.element.style.backgroundImage='url("https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/no_thumbnail.svg")';this.element.style.backgroundRepeat="no-repeat";this.element.style.backgroundSize="cover";this.element.style.webkitBackgroundSize="cover";this.element.style.backgroundPosition="center";b||(this.Sg.style.width="30px",this.Sg.style.height="30px",this.Sg.style.position="absolute",this.Sg.style.top="50%",this.Sg.style.left="50%",this.Sg.style.transform="translate(-50%, -50%)",this.Sg.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/loading.gif",this.element.appendChild(this.Sg))}p(Xr,G);Xr.prototype.u=function(){G.prototype.u.call(this);var a=Hr.vf;this.element.style.width=(this.mc?Hr.wj:Hr.Gd)+"px";this.element.style.height=a+"px"};function Yr(a,b,c){Kr.call(this,a,b,c);var d=this;this.tj=document.createElement("div");this.yt=document.createElement("div");this.Jj=document.createElement("div");this.wu=document.createElement("div");this.images=[];this.index=0;this.Dd=[];this.Zd=document.createElement("div");this.$l=0;this.Fh=!1;Zr(this);this.Ma.appendChild(this.tj);this.Ma.appendChild(this.Jj);$r(this);this.Bh.appendChild(this.Zd);this.T.Kc&&this.Ab();setTimeout(function(){d.u()},0)}p(Yr,Kr);Yr.prototype.Ab=function(){var a=this;if(!this.Fh){this.Fh=!0;for(var b=function(){return{kc:(new Xr).element,loaded:!1,url:""}};this.images.length<this.T.Wc;)this.images.push(b());this.Ma.appendChild(this.images[0].kc);this.u();Cr(this.T.id).then(function(c){c.length!==a.T.Wc&&(a.T.Wc=c.length,$r(a),as(a));for(;c.length>a.images.length;)a.images.push(b());for(;c.length<a.images.length;)a.images.pop();for(var d=0;d<c.length;d+=1)bs(a,c[d],d);Tr(a,c[0])}).catch(function(c){a.Fh=!1;x("GetPhotoURLs: "+
c)});as(this)}};function bs(a,b,c){var d=a.images[c];d.url=b;var e=document.createElement("img");e.style.height="100%";e.style.width="100%";e.src=b;e.onload=function(){d.loaded=!0;if(e.naturalWidth>e.naturalHeight){var f=Math.min(e.naturalWidth,a.Wa.Gd);var g=Math.floor(f*e.naturalHeight/e.naturalWidth)}else g=Math.min(e.naturalHeight,a.Wa.Gd,1100),f=Math.floor(g*e.naturalWidth/e.naturalHeight);d.kc.style.background="none";d.kc.style.width=f+"px";for(d.kc.style.height=g+"px";null!==d.kc.firstChild;)d.kc.removeChild(d.kc.firstChild);d.kc.appendChild(e);a.u()}}
Yr.prototype.u=function(){function a(g){b.yt.style.top=(g-50)/2+"px";b.wu.style.top=(g-50)/2+"px";b.Zd.style.left=(b.Wa.De-b.Zd.offsetWidth)/2+"px"}var b=this;Kr.prototype.u.call(this);var c=this.images[this.index];if(void 0===c)a(this.Ma.offsetHeight);else if(c.loaded){var d=c.kc.firstChild;if(d.naturalWidth>d.naturalHeight){var e=Math.min(d.naturalWidth,this.Wa.Gd);var f=Math.floor(e*d.naturalHeight/d.naturalWidth)}else f=Math.min(d.naturalHeight,this.Wa.Gd,1100,window.innerHeight-200),e=Math.floor(f*d.naturalWidth/d.naturalHeight);c.kc.style.width=e+"px";c.kc.style.height=f+"px";a(f)}else d=c.kc.firstChild,c.kc.style.width=this.Wa.Gd+"px",c.kc.style.height=this.Wa.vf+"px",d.style.top=(this.Wa.vf-30)/2+"px",d.style.left=(this.Wa.Gd-30)/2+"px",a(this.Wa.vf)};Yr.prototype.next=function(){if(!(2>this.T.Wc)&&this.T.Kc){var a=this.index;this.index=(this.index+1)%this.T.Wc;cs(this);ds(this,a)}};Yr.prototype.Cb=function(){if(!(2>this.T.Wc)&&this.T.Kc){var a=this.index;0===this.index?this.index=this.T.Wc-1:--this.index;cs(this);ds(this,a)}};function ds(a,b){b=a.images[b];b.kc.parentElement===a.Ma&&a.Ma.removeChild(b.kc);b=a.images[a.index];a.Ma.appendChild(b.kc);Tr(a,b.url);a.u()}
function as(a){2>a.T.Wc?(a.tj.style.visibility="hidden",a.Jj.style.visibility="hidden"):(a.tj.style.visibility="normal",a.Jj.style.visibility="normal");a.T.Kc&&(a.tj.style.cursor="pointer",a.Jj.style.cursor="pointer")}function Zr(a){a.tj=es(a,"left",function(){a.Cb()});a.yt=a.tj.firstChild;a.Jj=es(a,"right",function(){a.next()});a.wu=a.Jj.firstChild;as(a)}
function es(a,b,c){var d=document.createElement("div"),e=document.createElement("div"),f=document.createElementNS("http://www.w3.org/2000/svg","svg"),g=document.createElementNS("http://www.w3.org/2000/svg","path");d.style.display="inline-block";d.style.height="calc(100% - 20px)";d.style.width="50%";d.style.top="0px";d.style[b]="0px";d.style.position="absolute";a.T.Kc&&(d.style.cursor="pointer");g.setAttribute("d","M5.7 0L0 5.55 18.6 24 0 42.45 5.7 48 30 24 5.7 0z");g.setAttribute("fill","#E2E2E2");"left"===b&&g.setAttribute("transform","translate(30, 0) scale(-1,1)");f.appendChild(g);f.setAttribute("viewBox","0 0 30 50");e.appendChild(f);e.style.position="absolute";e.style[b]="0";e.style.top=(d.offsetHeight-50)/2+"px";e.style.height="50px";e.style.width="30px";e.style.userSelect="none";e.style.webkitUserSelect="none";d.onmouseenter=function(){a.T.Kc&&(g.style.fill="#B8B8B8")};d.onmouseleave=function(){g.style.fill="#E2E2E2"};d.appendChild(e);d.onclick=c;return d}
function fs(a){a.style.height="8px";a.style.width="8px";a.style.padding="2px"}function gs(a){a.style.height="6px";a.style.width="6px";a.style.padding="3px"}function hs(a){a.style.height="4px";a.style.width="4px";a.style.padding="4px"}
function $r(a){for(a.Dd=[];null!==a.Zd.firstChild;)a.Zd.removeChild(a.Zd.firstChild);var b=Math.min(5,a.T.Wc);if(!(2>b)){a.Zd.style.width=12*b+"px";a.Zd.style.height="15px";a.Zd.style.position="absolute";a.Zd.style.marginTop="2px";a.Zd.style.top="0px";for(var c=0;c<b;c+=1){var d=document.createElement("img");5>=a.T.Wc?fs(d):3===c&&5===b?gs(d):4===c&&5===b?hs(d):fs(d);d.style.display="inline-block";d.src=0===c?"https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/dot-blue.svg":"https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/dot-gray.svg";a.Dd.push(d);a.Zd.appendChild(d)}}}
function cs(a){if(!(2>a.Dd.length))if(a.Dd[a.$l].src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/dot-gray.svg",a.$l=a.index===a.T.Wc-1?Math.min(a.Dd.length-1,4):Math.min(a.index,3),a.Dd[a.$l].src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/dot-blue.svg",5>=a.T.Wc){a=l(a.Dd);for(var b=a.next();!b.done;b=a.next())fs(b.value)}else switch(a.$l){case 0:case 1:case 2:for(b=0;b<a.Dd.length;b+=1){var c=a.Dd[b];3>b?fs(c):3===b?gs(c):hs(c)}break;case 3:for(b=0;b<a.Dd.length;b+=1)c=a.Dd[b],a.index===a.T.Wc-2&&4===b?fs(c):3===a.index&&0===b||4===b||3!==a.index&&1===b||4===b?gs(c):3!==a.index&&0===b?hs(c):fs(c);break;case 4:for(b=0;b<a.Dd.length;b+=1)c=a.Dd[b],0===b?hs(c):1===b?gs(c):fs(c)}};function is(a,b){this.b=document.createElement("video");this.source=document.createElement("source");this.b.style.minHeight="135px";this.b.style.cursor="pointer";this.b.style.margin="auto";this.b.oncontextmenu=function(c){c.preventDefault();return!1};this.b.setAttribute("webkit-playsinline","");this.b.setAttribute("playsinline","");this.b.setAttribute("preload","auto");this.b.setAttribute("autoplay","true");this.b.controls=a;this.b.muted=b}
is.prototype.Mr=function(a){this.source=document.createElement("source");this.source.type="video/mp4";this.source.src=a;this.b.appendChild(this.source);this.b.load()};is.prototype.play=function(){function a(b){switch(b.name){case "AbortError":break;default:x("DOMError: playing video "+b)}}if(jb())try{this.b.play()}catch(b){a(b)}else this.b.play().then(function(){}).catch(a)};is.prototype.pause=function(){this.b.pause()};var js=window.videojs;function ks(a,b,c){c=void 0===c?!0:c;is.call(this,a,b);this.Tl=!1;this.Cv=new q("videoJSActivated");this.ki={fluid:!0,children:"mediaLoader posterImage textTrackDisplay bigPlayButton controlBar errorDisplay textTrackSettings resizeManager".split(" "),userActions:{doubleClick:function(){}},controlBar:{children:["playToggle","progressControl","currentTimeDisplay","timeDivider","durationDisplay"],volumePanel:!1}};this.b.style.minHeight="";c&&(this.ki.controlBar.children.push("muteToggle"),this.ki.controlBar.muteToggle={},hb()||(this.ki.controlBar.children.push("volumeControl"),this.ki.controlBar.volumeControl={}));(uj()||hb())&&this.ki.controlBar.children.push("fullscreenToggle");b&&(this.ki.muted=!0);this.b.setAttribute("class","video-js vjs-big-play-centered vjs-cbcustom")}p(ks,is);ks.prototype.Mr=function(a){this.source=document.createElement("source");this.source.type="video/mp4";this.source.src=a;this.b.appendChild(this.source);this.Tl||(this.Tl=!0,this.vc=js(this.b,this.ki),this.vc.addClass("vjs-cbcustom"),this.vc.addClass("vjs-has-started"),this.vc.autoplay(!0),w(this.Cv,void 0),this.vc.load())};ks.prototype.play=function(){if(this.Tl){var a=this.vc.play();void 0!==a&&a.catch(function(b){switch(b.name){case "AbortError":break;default:x("DOMError: playing video "+b)}})}};ks.prototype.pause=function(){this.Tl&&this.vc.pause()};var ls=!0;function ms(a,b,c,d){d=void 0===d?!0:d;Kr.call(this,a,b,c);this.autoplay=d;this.ea=document.createElement("div");this.Fh=this.Br=this.pi=!1;this.ea.style.display="none";this.ea.style.position="relative";this.ea.style.overflow="hidden";this.Ma.appendChild(this.ea);this.video=void 0!==window.videojs?new ks(!0,ls&&hb(),a.vy):new is(!0,!1);ls=!1;this.ea.style.maxWidth=this.Wa.wj+"px";this.ea.style.margin="0 auto";this.ea.style.cursor="pointer";this.video.b.style.backgroundColor="black";this.ea.appendChild(this.video.b);this.T.Kc&&this.Ab()}p(ms,Kr);ms.prototype.u=function(){Kr.prototype.u.call(this);if(this.video instanceof ks){if(!this.video.Tl)return;var a=this.video.vc.videoHeight();var b=this.video.vc.videoWidth()}else{if(!this.Br)return;a=this.video.b.videoHeight;b=this.video.b.videoWidth;this.video.b.style.height="auto";this.video.b.style.width="100%"}this.ea.style.maxWidth=Math.max(a>b?b/a*window.innerHeight-200:b,300)+"px";this.ea.style.height="auto"};ms.prototype.Ab=function(){var a=this;if(!this.Fh)if(this.Fh=!0,this.T.Er){var b=new Xr(!0);this.D(b,this.Ma);Dr(this.T.id).then(function(d){var e=wb("cbv_vol"),f=wb("cbv_mute");e=void 0!==e?e:".5";f=void 0!==f?f:"0";Tr(a,d);a.video.Mr(d);if(a.video instanceof ks){var g=a.video.vc;a.video.vc.on("loadeddata",function(){b.parent===a&&a.removeChild(b);g.volume(Number(e));g.muted("1"===f);a.ea.style.display="block";a.Br=!0;a.u()});a.video.vc.on("contextmenu",function(h){h.preventDefault();h.stopPropagation();return!1});a.video.vc.on("volumechange",function(){var h=g.volume(),m=g.muted()||0===h?"1":"0";Ab("cbv_vol",h.toString(),31536E3);Ab("cbv_mute",m,31536E3)});a.video.vc.on("play",function(){a.pi=!0});a.video.vc.on("pause",function(){a.pi=!1});a.video.vc.on("ended",function(){a.pi=!1});if(!a.autoplay)a.video.vc.one("play",function(){a.video.pause()});a.video.vc.on("error",function(h){x("MediaVideo: VideoJs: "+h.message)})}else a.video.b.onloadeddata=function(){a.removeChild(b);a.video.b.volume=Number(e);a.video.b.muted="1"===f;a.ea.style.display="block";a.Br=!0;a.u()},a.video.b.oncontextmenu=function(h){h.preventDefault();h.stopPropagation();return!1},a.video.b.onvolumechange=function(){var h=a.video.b.volume,m=a.video.b.muted||0===h?"1":"0";Ab("cbv_vol",h.toString(),31536E3);Ab("cbv_mute",m,31536E3)},a.video.b.onplay=function(){a.pi=!0},a.video.b.onpause=function(){a.pi=!1},a.video.b.onended=function(){a.pi=!1},a.video.b.onerror=function(h){x("MediaVideo: HTML5: "+h)}}).catch(function(d){a.Fh=!1;x("GetVideoURL: "+d)})}else{var c=new Xr(!0,!0);this.D(c,this.Ma)}};ms.prototype.Mn=function(){this.pi?this.video.pause():this.video.play()};var ns="resizable,dependent,scrollbars,height=768,width=850,top="+(screen.height/2-384).toString()+",left="+(screen.width/2-425).toString();function os(a){G.call(this);this.kt=a;this.ob=document.createElement("div");this.Ma=document.createElement("div");this.ge={};this.element.style.width=Hr.De+"px";this.element.style.height="auto";this.element.style.minHeight="10px";this.element.style.position="relative";this.element.style.userSelect="text";this.element.style.webkitUserSelect="text";this.ob.style.width="100%";this.ob.style.marginBottom="15px";this.Ma.style.width="100%";this.Ma.style.userSelect="none";this.Ma.style.webkitUserSelect="none";this.element.appendChild(this.ob);this.element.appendChild(this.Ma)}p(os,G);k=os.prototype;k.u=function(){this.element.style.width=Hr.De+"px";void 0!==this.nc&&this.nc.resize(Hr)};function ps(a){a.ob.textContent="Loading...";if(void 0!==a.tg)for(;null!==a.tg.firstChild;)a.tg.removeChild(a.tg.firstChild);void 0!==a.nc&&a.nc.element.parentElement===a.Ma&&(a.Ma.removeChild(a.nc.element),a.nc=void 0)}
function qs(a,b,c){a.ob.textContent="";if(b.us){var d=document.createElement("div");d.style.backgroundColor="#ffd0b8";d.style.padding="15px";d.style.border="1px solid #ccc";d.style.borderRadius="4px";d.style.margin="5px 0";d.style.color="#000";d.style.fontSize="18px";d.style.whiteSpace="pre-line";d.style.textAlign="center";d.textContent=ci+": "+b.xx;c.Dc&&(d.textContent+="\r\n"+di);a.ob.appendChild(d)}else b.Dr&&(d=document.createElement("div"),d.style.backgroundColor="#ffd0b8",d.style.padding="15px",d.style.border="1px solid #ccc",d.style.borderRadius="4px",d.style.margin="5px 0",d.style.color="#000",d.style.fontSize="18px",d.style.whiteSpace="pre-line",d.style.textAlign="center",d.textContent=""+Ji,c.Dc&&(d.textContent+="\r\n"+Ki),a.ob.appendChild(d));d=document.createElement("div");d.style.textAlign="left";d.style.fontSize="18px";d.style.display="block";d.style.fontWeight="bold";var e=document.createElement("span");e.textContent=""+b.name;d.appendChild(e);if(!0===a.kt){var f=document.createElement("a");f.title=""+ei;f.href="/photo_videos/photoset/detail/"+c.a+"/"+b.id+"/";f.style.marginLeft="2px";f.style.padding="0 5px";c=document.createElement("img");c.height=15;c.width=15;c.style.height="15px";c.style.width="15px";c.style.position="relative";c.style.top="2px";c.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/popout.svg";f.appendChild(c);f.onmouseenter=function(){f.style.textDecoration="underline"};f.onmouseleave=function(){f.style.textDecoration="none"};f.onclick=function(g){g.preventDefault();ll(f.href,"_blank",ns)};d.appendChild(f)}a.ob.appendChild(d);!b.mc||b.Er||b.Dr||(c=document.createElement("div"),c.style.textAlign="left",c.style.fontSize="14px",c.style.display="block",c.style.marginTop="15px",c.style.marginBottom="15px",c.style.wordWrap="break-word",c.style.color="red",c.textContent=Ii,a.ob.appendChild(c));c=document.createElement("div");c.style.textAlign="left";c.style.fontSize="14px";c.style.display="block";c.style.marginTop="15px";c.style.marginBottom="15px";c.style.wordWrap="break-word";c.textContent=""+b.description;a.ob.appendChild(c)}
k.Go=function(a,b){var c=this;if(b.Dc||b.Ww)void 0===this.tg&&(this.tg=document.createElement("div"),this.tg.style.margin="5px 0",this.element.appendChild(this.tg)),Er(a.id).then(function(d){var e=c.tg;e.innerHTML=d;if(c.kt){d={};for(var f=l(e.querySelectorAll("#broadcaster_links a, #staff_links a")),g=f.next();!g.done;d={Xl:d.Xl},g=f.next())d.Xl=g.value,d.Xl.onclick=function(n){return function(r){r.preventDefault();ll(n.Xl.href,void 0,ns)}}(d)}d=e.querySelector("#staff_delete_photoset_button");var h=e.querySelector("#staff_delete_photoset");f=e.querySelector("#staff_unmute_video_button");var m=e.querySelector("#staff_unmute_video");null!==d&&null!==h&&(d.onclick=function(){Aj("Are you sure you want to remove this item?",function(){h.submit()})});null!==f&&null!==m&&(f.onclick=function(){Aj("Are you sure you want to unmute?",function(){m.submit()})})})};k.Cb=function(){void 0!==this.nc&&this.nc.Cb()};k.next=function(){void 0!==this.nc&&this.nc.next()};k.Mn=function(){void 0!==this.nc&&this.nc.Mn()};function rs(a){a=void 0===a?!1:a;G.call(this);var b=this;this.sj=document.createElement("div");this.Df=document.createElement("div");this.Pe=document.createElement("div");this.Fb=document.createElement("div");this.fp=this.$d=this.it=!1;this.element.style.position="static";this.element.style.backgroundColor="#ffffff";this.element.style.padding="21px 15px 15px 2px";this.element.style.boxSizing="border-box";this.element.className="photovideos-container";this.element.tabIndex=-1;this.Kf=new os(a);this.Kf.element.style.paddingLeft="13px";a=document.createElement("div");this.element.appendChild(a);this.sj.style.textAlign="right";this.sj.style.display="block";a.appendChild(this.sj);Sq(this.element);a.appendChild(this.Kf.element);this.Df.style.width=Hr.De+"px";this.Df.style.textAlign="left";this.Df.style.display="block";this.Df.style.fontSize="16px";this.Df.style.marginTop="20px";this.Df.style.fontWeight="bold";this.Df.style.paddingLeft="13px";a.appendChild(this.Df);this.Pe.style.margin="9px 0";this.Pe.style.width=Hr.De+16+"px";this.Pe.style.maxHeight="560px";this.Pe.style.overflowY="auto";this.Pe.style.overflowX="hidden";this.Pe.style.lineHeight="15px";this.Pe.style.fontFamily="UbuntuRegular, Arial, Helvetica, sans-serif";a.appendChild(this.Pe);ss(this);t(Br,function(c){var d=b.Kf,e=c.request.T,f=c.request.context,g=c.request.autoplay;c=c.request.scroll;g=void 0===g?!0:g;c=void 0===c?!0:c;ps(d);qs(d,e,f);d.Go(e,f);U("PVTab_ViewPhotoSet");d.ge[e.id]?d.nc=d.ge[e.id]:(d.nc=e.mc?new ms(e,f,Hr,g):new Yr(e,f,Hr),e.Zw||(d.ge[e.id]=d.nc));void 0!==d.nc&&(d.D(d.nc,d.Ma),d.nc.W(),c&&(eb().scrollTop=d.element.offsetTop-100))});t(Jr,function(c){for(var d=l(b.Id),e=d.next();!e.done;e=d.next())e=e.value,e.id===c&&(e.Kc=!0);d=l(b.yq);for(e=d.next();!e.done;e=d.next())e=e.value,e.T.id===c&&void 0!==e.Ca&&e.Ca.parentElement===e.anchor&&(e.anchor.removeChild(e.Ca),Wr(e))});z("keydown",this.element,function(c){switch(c.keyCode){case 37:c.preventDefault();c.stopPropagation();b.Kf.Cb();break;case 32:c.preventDefault();b.Kf.Mn();break;case 39:c.preventDefault(),c.stopPropagation(),b.Kf.next()}})}p(rs,G);rs.prototype.u=function(){void 0!==this.parent?Ir(this.parent.element):null!==this.element.parentElement&&Ir(this.element.parentElement);this.Df.style.width=Hr.De+"px";this.Pe.style.width=Hr.De+16+10+"px";void 0!==this.Oe&&(this.Oe.style.width=Hr.De+16+"px");this.Kf.W()};rs.prototype.show=function(a){if(!this.$d)if(this.$d=!0,U("PVTab_Open"),this.element.style.height="",this.element.style.width="",this.element.style.padding="21px 15px 15px 2px",void 0!==a&&(eb().scrollTop=this.element.offsetTop-100),!this.fp)this.Ab(a);else if(void 0!==a)for(var b=l(this.Id),c=b.next();!c.done;c=b.next())c=c.value,c.id===a&&w(Br,{request:{T:c,context:this.context,autoplay:!1,scroll:!0},pushState:!0})};rs.prototype.j=function(){this.$d=!1;this.element.style.height="0px";this.element.style.width="0px";this.element.style.padding="0px"};rs.prototype.Ab=function(a,b){var c=this;b=void 0===b?!0:b;if(this.it){var d=this.a;this.fp=!0;Fr(d).then(function(e){if(d===c.a){c.context=e;ts(c);e=e.Id;var f=b;f=void 0===f?!0:f;c.yq=[];c.Id=e;var g=document.createElement("div");g.style.display="inline-block";g.style.width=Hr.De+16+"px";g.style.padding="0 5px";g.style.fontFamily="UbuntuRegular, Arial, Helvetica, sans-serif";g.style.color="#0a5a83";var h=!1,m=0,n=16===c.Id.length?16:15;for(c.index=0;c.index<n&&c.index<c.Id.length;c.index+=1){var r=c.Id[c.index],v=new Ur(r,c.context,{fontSize:14,ds:152,To:8});g.appendChild(v.element);c.yq.push(v);!h&&r.Kc&&(m=c.index,h=!0)}c.Oe=g;16<c.Id.length&&void 0!==c.Oe&&c.Oe.appendChild(c.Fb);0===c.Id.length?(h=document.createElement("div"),h.style.color="#000",h.style.marginLeft="8px",h.textContent=Ih,h.style.height="16px",g.appendChild(h),c.Kf.ob.textContent=""):us(c);c.Pe.appendChild(g);if(void 0!==a)for(g=0;g<e.length;g+=1)e[g].id===a&&(m=g);0!==c.Id.length&&w(Br,{request:{T:c.Id[m],context:c.context,autoplay:!1,scroll:f},pushState:!0})}})}};function ss(a){a.Fb.style.position="relative";a.Fb.style.display="inline-block";a.Fb.style.width="152px";a.Fb.style.height="120px";a.Fb.style.lineHeight="100px";a.Fb.style.boxSizing="border-box";a.Fb.style.margin="0px 8px 17px";a.Fb.style.textAlign="center";a.Fb.style.overflow="hidden";a.Fb.style.verticalAlign="middle";a.Fb.style.cursor="pointer";a.Fb.onmouseenter=function(){a.Fb.style.textDecoration="underline"};a.Fb.onmouseleave=function(){a.Fb.style.textDecoration="none"};a.Fb.onclick=function(){a.Fb.parentElement===a.Oe&&a.Oe.removeChild(a.Fb);if(void 0!==a.Oe)for(;a.index<a.Id.length;a.index+=1){var c=new Ur(a.Id[a.index],a.context,{fontSize:14,ds:152,To:8});a.Oe.appendChild(c.element);a.yq.push(c)}};var b=document.createElement("div");b.style.fontFamily="UbuntuMedium, Arial, Helvetica, sans-serif";b.style.fontSize="14px";b.textContent=Jh;a.Fb.appendChild(b)}
function ts(a){if(a.context.Ie&&!a.context.nt){var b=(new zp).anchor;b.href="/fanclub/join/"+a.a+"/";b.style.fontSize="12px";b.style.color="#0A5A83";b.innerText=ac(vs(a.a));b.onmouseenter=function(){b.style.textDecoration="underline"};b.onmouseleave=function(){b.style.textDecoration="none"};a.sj.appendChild(b)}else if(a.context.Ie&&a.context.nt){var c=document.createElement("span");c.style.fontSize="12px";c.style.color="rgb(73, 73, 73)";c.textContent=bc(a.context.a);a.sj.appendChild(c)}}
function us(a,b){var c=a.Df;(void 0===b?0:b)?a="":(a=vs(a.a),a=D(B("%(modelname)s's Pics & Videos"),{modelname:Tb(a)},!0));c.textContent=a}function vs(a){return a.replace(/^\w/,function(b){return b.toUpperCase()})};function ws(){var a=document.createElement("div");a.innerText="\u25b2";a.style.position="absolute";a.style.top="-11px";a.style.left="250px";a.style.color="#e0e0e0";a.style.textShadow="0 -2px 4px rgba(0,0,0,0.65)";a.style.fontSize="15px";return a}function xs(){var a=document.createElement("div");a.innerText="\u25b2";a.style.position="absolute";a.style.top="-10px";a.style.left="247px";a.style.color="#e0e0e0";a.style.fontSize="21px";return a}function ys(){Sj.apply(this,arguments)}p(ys,Sj);ys.prototype.Sk=function(){var a=this;this.element.style.position="absolute";this.element.style.height="";this.element.style.width="264px";this.element.style.backgroundColor="#e0e0e0";this.element.style.padding="6px 12px";this.element.style.borderRadius="3px";this.element.style.marginLeft="-221px";this.element.style.marginTop="32px";this.element.style.boxShadow="0 0 5px 0 rgba(0,0,0,0.75)";this.element.style.fontSize="12.012px";this.element.style.color=F.Ja;this.element.style.overflow="";this.element.style.lineHeight="16.8px";var b=ws(),c=xs(),d=Oj(),e=Pj(),f=Qj(function(){Tj();a.close()}),g=Rj(function(){a.no.setTime((new Date).getTime()+36E5*Math.min(Math.pow(2,a.qq),168));window.localStorage.setItem("numPushNotificationTimeouts",a.qq.toString());window.localStorage.setItem("pushNotificationTimeout",a.no.toString());a.close()});this.element.appendChild(b);this.element.appendChild(c);this.element.appendChild(d);this.element.appendChild(e);this.element.appendChild(f);this.element.appendChild(g);Sj.prototype.Sk.call(this)};function zs(){G.call(this);var a=this;this.Nw=document.createElement("span");this.Bf=document.createElement("span");this.element.appendChild(this.Nw);this.element.appendChild(this.Bf);this.element.style.display="none";this.element.style.width="auto";this.element.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";this.element.style.fontSize="12px";this.element.style.padding="4px 10px 3px 10px";this.element.style.position="relative";this.element.style.top="-4px";this.element.style.right="1px";this.element.style.cssFloat="right";this.element.style.borderRadius="3px";this.element.style.cursor="pointer";this.element.style.marginRight="5px";this.element.style.height="15px";t(X,function(b){a.N=b.i.a();a.yb=b.i.Sb})}p(zs,G);function As(a){this.bc=a;this.element=document.createElement("div");this.ia=document.createElement("div");this.vk=new Bs(this);this.Ml=new Cs(this);this.element.style.display="inline-block";this.element.style.cssFloat="right";this.element.style.position="relative";this.element.style.width="auto";this.element.style.top="-4px";this.element.style.right="1px";this.hr();a.appendChild(this.ia);this.element.appendChild(this.vk.element);this.element.appendChild(this.Ml.element)}
As.prototype.hr=function(){this.ia.innerHTML=Wf;this.ia.style.position="absolute";this.ia.style.backgroundColor="#fdf294";this.ia.style.color=F.xc;this.ia.style.width="220px";this.ia.style.border="2px solid #ff9130";this.ia.style.borderRadius="6px";this.ia.style.zIndex="5";this.ia.style.fontSize="12px";this.ia.style.padding="12px";this.ia.style.display="none";this.ia.appendChild(Kj("#ff9130","#fdf294","170px"))};function Ds(a){a.vk.element.style.display="inline";a.Ml.element.style.display="none"}function Es(a){a.vk.element.style.display="none";a.Ml.element.style.display="inline"}As.prototype.expand=function(){this.vk.expand();this.Ml.expand()};As.prototype.collapse=function(){this.vk.collapse();this.Ml.collapse()};As.prototype.u=function(){var a=this.element.getBoundingClientRect();this.ia.style.top=a.top+eb().scrollTop+this.bc.offsetHeight+4+"px";this.ia.style.left=a.left+eb().scrollLeft-this.ia.offsetWidth+this.element.clientWidth+16+"px"};function Cs(a){zs.call(this);var b=this;this.Bf.innerText=Xf;this.element.style.color="#ffffff";this.element.style.backgroundColor="#ff7002";this.element.style.textShadow="#383838 1px 1px 0px";this.element.style.marginRight="0px";this.element.style.top="";this.element.style.right="";Sa()&&(this.element.style.background="linear-gradient(180deg, #a9a9a9 0%, #adadad 50%, #8b8b8b 60%)");this.element.onclick=function(){lo(b.N)};this.element.onmouseenter=function(){a.ia.style.display="block";a.u()};this.element.onmouseleave=function(){a.ia.style.display="none"}}p(Cs,zs);Cs.prototype.expand=function(){this.Bf.innerText=Xf};Cs.prototype.collapse=function(){this.Bf.innerText="-"};function Bs(a){zs.call(this);var b=this;this.Bf.innerText=Yf;this.element.style.color="#ffffff";this.element.style.backgroundColor="#ff7002";this.element.style.textShadow="#f18112 1px 1px 0px";this.element.style.marginRight="0px";this.element.style.top="";this.element.style.right="";Sa()&&(this.element.style.background="linear-gradient(180deg, #ff9735 0%, #ff9e36 50%, #ff7002 60%)");this.element.onclick=function(){ko(b.N);if(!b.yb){var c=window.isBrowserNotificationSupported,d=window.isSubscribedToBrowserNotifications;if(void 0!==c&&!0===c()&&void 0!==d&&y()){var e=new ys;e.element.style.marginTop="36px";new Date>=e.no&&d(!1,function(){b.D(e,a.element);e.closed.once(function(){b.removeChild(e)})})}}};this.element.onmouseenter=function(){a.ia.style.display="block";a.u()};this.element.onmouseleave=function(){a.ia.style.display="none"}}p(Bs,zs);Bs.prototype.expand=function(){this.Bf.innerText=Yf};Bs.prototype.collapse=function(){this.Bf.innerText="+"};function Fs(){zs.call(this);var a=this;this.Qd=document.createElement("a");this.Bf.appendChild(this.Qd);this.Qd.innerText=dj;this.Qd.style.textShadow="1px 1px 0px #30741C";this.Qd.style.color="#fff";this.element.style.color="#fff";Sa()?this.element.style.background="linear-gradient(180deg, #43972A 0%, #4E9937 51.04%, #42892D 56.25%, #378421 100%)":this.element.style.backgroundColor="#43972A";t(X,function(b){function c(){a.element.onmouseover=function(){a.Qd.style.textDecoration="underline";a.element.style.cursor="pointer"};a.element.onmouseleave=function(){a.Qd.style.textDecoration=""};a.element.onmousedown=function(){a.Qd.style.textDecoration=""}}if(b.h.Zt||!b.h.Yh&&b.h.Ie)a.Qd.href="/fanclub/join/"+a.N+"/",a.Qd.target="_blank";b.h.Yh?(a.Qd.innerText=ej,a.Qd.style.textTransform="uppercase",a.element.style.cursor="default",b.h.Zt&&c()):(a.Qd.innerText=dj,a.Qd.style.textTransform="uppercase",a.element.style.cursor="pointer",c());a.element.style.display=b.h.Ie?"block":"none"})}p(Fs,zs);Fs.prototype.expand=function(){this.Bf.style.display=""};Fs.prototype.collapse=function(){this.Bf.style.display="none"};function Gs(){G.call(this);var a=this;this.ug="Bio";this.Xu=[];this.element.style.position="static";this.element.style.border="1px solid #acacac";this.element.style.borderRadius="4px 4px 0 0";this.element.style.boxSizing="border-box";this.element.style.backgroundColor="#FFFFFF";this.bc=document.createElement("div");this.bc.style.height="30px";this.bc.style.padding="8px 4px";this.bc.style.backgroundColor="#7f7f7f";this.bc.style.boxSizing="border-box";this.element.appendChild(this.bc);t(jo,function(m){m.Nf?Es(a.wk):Ds(a.wk)});this.wk=new As(this.bc);this.bc.appendChild(this.wk.element);var b=new lp("FanclubButton");b.active&&(this.rw=new Fs,this.bc.appendChild(this.rw.element));this.eh=new or(this.bc);this.bc.appendChild(this.eh.element);var c={};c.Bio=new Xq;c["Pics & Videos"]=new rs(!0);c["Contest Stats"]=new Zq;c.Share=new br;c["More Rooms Like This"]=new Ar;for(var d in c)this.D(c[d]),c[d].j();Hs(this,c);var e=Is(this,"Share",Zf,c.Share);e.anchor.style.display="none";var f=Is(this,"Bio",$f,c.Bio);this.bc.appendChild(f.anchor);var g=Is(this,"Pics & Videos",df,c["Pics & Videos"]);this.bc.appendChild(g.anchor);F.br&&this.bc.appendChild(Is(this,"Contest Stats",ag,c["Contest Stats"]).anchor);var h=Is(this,"More Rooms Like This",th,c["More Rooms Like This"]);this.bc.appendChild(h.anchor);F.br&&this.bc.appendChild(e.anchor);c[this.ug].show();t(Vk,function(m){Js(a,"Pics & Videos",g,m)});t(X,function(m){a.yb=m.i.Sb;e.anchor.style.display=a.yb?"none":"";if(m.h.Ie&&b.ej&&!b.nu){var n={experimentName:b.name,experimentGroup:"inactive"};b.active&&(n.experimentGroup="active");U("ExperimentEntered",n,!0);b.nu=!0}m.i.a()===m.i.username()?(h.anchor.style.display="none","More Rooms Like This"===a.ug&&Js(a,"Bio",f)):h.anchor.style.display="";n=c["Pics & Videos"];var r=m.i.a();n.it=!0;n.a=r;void 0!==n.Oe&&(n.Pe.removeChild(n.Oe),n.Oe=void 0);ps(n.Kf);us(n,!0);n.sj.innerHTML="";n.fp=!1;n.$d&&n.Ab(void 0,!1);m.h.Nf?Es(a.wk):Ds(a.wk)})}p(Gs,G);function Is(a,b,c,d){var e=document.createElement("a");e.href="#";e.innerText=c;e.style.borderRadius="4px 4px 0 0";e.style.textDecoration="none";e.style.fontSize="13px";e.style.marginRight="2px";e.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";e.style.padding="4px 8px 4px 8px";e.style.color="#4c4c4c";e.style.background="#c9c9c9";e.style.position="relative";e.style.top="2px";b===a.ug&&Ks(e);var f={anchor:e,instance:d};a.Xu.push(f);e.onclick=function(g){g.preventDefault();g.stopPropagation();Js(a,b,f);g=a.ug;y()&&window.localStorage.setItem("selectedRoomTab",g)};e.onmouseenter=function(){Ks(e)};e.onmouseleave=function(){a.ug!==b&&(e.style.color="#4c4c4c",e.style.background="#c9c9c9")};return f}function Hs(a,b){if(y()){var c=window.localStorage.getItem("selectedRoomTab");null!==c&&void 0!==b[c]&&(a.ug=c)}}function Ks(a){a.style.color="#dc5500";a.style.background="#fff"}
function Js(a,b,c,d){a.ug!==b&&(a.Xu.forEach(function(e){var f=e.anchor;f.style.color="#4c4c4c";f.style.background="#c9c9c9";e.instance.j()}),Ks(c.anchor),c.instance instanceof rs?c.instance.show(d):c.instance.show(),a.ug=b)}Gs.prototype.u=function(){this.eh.u()};function Ls(){G.call(this);var a=this;this.vn=[];this.element.style.position="static";this.element.style.overflow="";this.element.style.color=F.gp;t(X,function(b){b=l(b.h.rk);for(var c=b.next();!c.done;c=b.next())c=c.value,0>a.vn.indexOf(c.id)&&"1"!==xb("dism_msg"+c.id)&&(a.vn.push(c.id),a.Mq(c))})}p(Ls,G);Ls.prototype.Mq=function(a){var b=this,c=document.createElement("div");c.innerHTML=a.cx;c.style.backgroundColor="#cccccc";c.style.fontSize="12px";c.style.padding="3px";c.style.margin="5px 0";c.style.borderRadius="2px";c.style.lineHeight="16px";var d=document.createElement("a");d.style.color=F.Bd;d.textContent=kf;d.style.cursor="pointer";var e=document.createElement("span");e.textContent=" (";var f=document.createElement("span");f.textContent=")";c.appendChild(e);c.appendChild(d);c.appendChild(f);this.element.appendChild(c);e={};f=l(c.getElementsByTagName("a"));for(var g=f.next();!g.done;e={uh:e.uh},g=f.next())e.uh=g.value,e.uh.style.color=F.Bd,e.uh.onmouseenter=function(h){return function(){h.uh.style.textDecoration="underline"}}(e),e.uh.onmouseleave=function(h){return function(){h.uh.style.textDecoration=""}}(e);z("click",d,function(){b.element.removeChild(c);b.vn.splice(b.vn.indexOf(a.id),1);Ab("dism_msg"+a.id,"1",5184E3)})};var Ms="1"===Fk().signup_notice;function Ns(){G.call(this);var a=this;this.element.style.backgroundColor="#f7f6a8";this.element.style.fontSize="12px";this.element.style.padding="3px 10px";this.element.style.boxSizing="border-box";this.element.style.display="none";this.element.style.width="auto";this.element.style.height="auto";var b=document.createElement("a");b.innerText=Od;b.onclick=function(){U("Subscribe")};this.element.appendChild(b);this.element.appendChild(document.createTextNode(" -- totally free, no email needed"));Ms&&t(X,function(c){window.self!==window.top&&(b.onclick=function(d){d.preventDefault();ll("/accounts/register/?next="+encodeURIComponent(window.location.pathname)+"?b="+c.h.a)});b.href="/accounts/register/?next="+encodeURIComponent(window.location.pathname)+"?b="+c.h.a;a.element.style.display=c.i.Sb?"block":"none"})}p(Ns,G);function Os(a){G.call(this);var b=this;this.gb=a;this.Gi=!0;this.jo=!1;this.ce=new q("possibleQualityLevelsChanged");this.oe=new q("videoOfflineChange");this.Wp=0;this.cg=!1;this.stopped=this.muted=!0;this.url="";this.nn=0;this.Ha=new Ma;this.Pp=!0;Hn(new Gn("JpegPushPlayer"));this.element.style.background="#333333 url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/cam_notice_background.jpg) center center / cover";this.element.className="videoPlayerDiv";this.element.style.position="static";this.od=document.createElement("img");this.od.style.width="100%";this.od.style.height="100%";this.od.style["object-fit"]="contain";this.od.style.backgroundColor="black";this.od.onload=function(){b.od.style.display="inline";b.cg=!1};this.od.onerror=function(){b.od.style.display="none";b.nn-=100;b.cg=!1};this.element.appendChild(this.od);kb()||(this.requestAnimationFrame=$a(),Ps(this,0))}p(Os,G);function Qs(a){a.nn=Date.now();void 0!==a.N&&A("get_edge_hls_url_ajax/",{room_slug:a.N,jpeg:"1"}).then(function(b){var c=new L(b.responseText),d=P(c,"success");"offline"===cn(N(c,"room_status"))?(w(a.oe,!0),a.stop()):(w(a.oe,!1),c.Cd("url"),c.Cd("hidden_message"),T(c),d?a.url=N(c,"cbjpeg_url",!1):x("Unable to refresh JPEG stream",{error:b.responseText},"VIDEO_"))}).catch(function(b){x("Unable to refresh JPEG stream",{error:b},"VIDEO_")})}
function Ps(a,b){5E3<Date.now()-a.nn&&Qs(a);a.stopped||""===a.url||kb()?a.od.style.visibility="hidden":(0===a.Wp||140<b-a.Wp)&&!a.cg&&(a.cg=!0,a.Wp=b,a.od.src=a.url+"&f="+Math.random(),"visible"!==a.od.style.visibility&&(a.od.style.visibility="visible"));a.requestAnimationFrame.call(window,function(c){Ps(a,c)})}k=Os.prototype;k.Rf=function(a){var b=this;this.stopped=!1;Oa(this.Ha);La(t(a.i.event.Qb,function(c){void 0!==b.gb.zf.get(c.ua)||b.uc?b.stop():b.stopped=!1}),this.Ha);this.N=a.h.a;this.url="https://cbjpeg.stream.highwebmedia.com/stream?room="+this.N;void 0!==this.S&&this.S.show()};k.Di=function(a){this.volume=a};k.Pf=function(){return this.muted?0:this.volume};k.ke=function(a){this.muted=a};k.stop=function(){this.od.style.visibility="hidden";this.stopped=!0};k.le=function(){};k.Md=function(){this.Pp=!1;void 0!==this.S&&this.S.show()};k.Ld=function(){this.Pp=!0;void 0!==this.S&&this.S.show()};k.vl=function(){return this.Pp};k.Ub=function(){return 0};k.Lh=function(){sj(this.element)};k.Ei=function(){};k.Yn=function(a){this.S=a};k.ue=function(){this.stop();Oa(this.Ha)};k.zk=function(){};function Rs(a){Rn.call(this,a,"HlsNativePlayer");this.ag=0;this.il=this.I;this.element.appendChild(this.I);Jn(this.Bo,this.I)}p(Rs,Rn);k=Rs.prototype;k.At=function(a,b){var c=this;bo(this,a);this.I.ontimeupdate=function(){var e=c.I.currentTime;5<e-c.ag&&(c.ag=e,bo(c,a,function(){c.ag=0}))};this.I.onclick=function(){c.play()};this.I.onpause=function(){};this.I.onplay=function(){};this.I.oncanplay=function(){c.Zf&&Xn(c)};this.I.oncanplaythrough=function(){c.play()};this.I.onseeking=function(){};this.I.onerror=function(e){x(e,{},"VIDEO_")};this.I.onvolumechange=function(){var e=c.I.volume,f=c.I.muted;0===e&&(f=!0);void 0!==c.S&&(c.S.Ol(f),c.S.ur(100*e))};z("enterpictureinpicture",this.I,function(){w(Qn,{active:!0})});z("leavepictureinpicture",this.I,function(){w(Qn,{active:!1,Fr:c.I.paused})});var d=this.I.webkitPresentationMode;z("webkitpresentationmodechanged",this.I,function(){var e=c.I.webkitPresentationMode;-1!==["inline","fullscreen"].indexOf(d)&&"picture-in-picture"===e?w(Qn,{active:!0}):"picture-in-picture"===d&&-1!==["inline","fullscreen"].indexOf(e)&&w(Qn,{active:!1,Fr:c.I.paused});d=e});""!==b?this.I.src=b:this.I.removeAttribute("src");this.I.load();this.I.style.display="inline";"oncanplaythrough"in window||this.play();""===b&&(this.stop(),Zn(this))};k.Di=function(a){this.I.volume=a/100};k.Pf=function(){return this.I.muted?0:100*this.I.volume};k.ke=function(a){this.I.muted=a;void 0!==this.S&&this.S.Ol(a);a?this.I.setAttribute("muted",""):this.I.removeAttribute("muted")};k.stop=function(){this.ag=0;this.I.style.display="none";this.I.pause();this.I.removeAttribute("src");this.I.load();Rn.prototype.stop.call(this)};k.Ue=function(){this.I.setAttribute("controls","")};k.Fk=function(){this.I.removeAttribute("controls")};k.Md=function(){this.Ue();void 0!==this.S&&this.S.j()};k.Ld=function(){this.Fk();void 0!==this.S&&this.S.show()};k.le=function(){};k.Ei=function(a,b){this.I.volume=a/100;0===a||b?(this.I.muted=!0,this.I.setAttribute("muted","")):(this.I.muted=!1,this.I.removeAttribute("muted"))};k.Ub=function(){return 0};k.Lh=function(){sj(this.I);this.Md()};k.hv=function(){this.Lh()};k.zk=function(){return this.I};var Ss=window.videojs;function Ts(a,b){b=void 0===b?!1:b;Rn.call(this,a,"VideoJsPlayer");var c=this;this.Cj=!1;this.ag=0;this.oa=!0;this.oq=!1;this.yg=document.createElement("div");this.Ec=!1;this.I.className="video-js vjs-default-skin";Ss.log.level("error");this.yg.style.position="absolute";this.yg.style.backgroundColor="#000000";this.yg.style.width="inherit";this.yg.style.height="inherit";var d=this;a={techOrder:["html5"],autoplay:!0,html5:{hlsjsConfig:{debug:!1,liveSyncDuration:3,liveSyncDurationCount:void 0,liveDurationInfinity:Infinity,liveMaxLatencyDuration:7,liveMaxLatencyDurationCount:void 0,liveBackBufferLength:30}},controlBar:{playToggle:!1,progressControl:!1,remainingTimeDisplay:!1,durationDisplay:!1,currentTimeDisplay:!1,timeDivider:!1}};b&&(a.techOrder=["chromecast","html5"],a.chromecast={requestTitleFn:function(){return document.title},requestSubtitleFn:function(){return""}},a.plugins={chromecast:{receiverAppID:"96BDEA07"}});this.element.onclick=function(){c.oq&&void 0!==c.S&&(c.vl()?c.Ld():c.Md(),c.oq=!1)};var e=Ss(this.I,a);this.L=e;if(void 0!==e){Jn(this.Bo,e);void 0!==Ss.Html5Hlsjs&&Ss.Html5Hlsjs.addHook("beforeinitialize",function(g,h){g===e&&c.Bo.Mv(h)});this.il=e;Us(this);e.on("volumechange",function(){d.Di(d.Pf(!1))});e.on("canplay",function(){d.play();d.Zf&&Xn(d)});e.on("canplaythrough",function(){d.play()});var f=this.ce;e.on("updateVideoControlQuality",function(g,h){g=[];h=l(h);for(var m=h.next();!m.done;m=h.next())m=m.value,g.push({label:m.label,Tj:m.selected,value:m.id});w(f,g)});e.on("enterpictureinpicture",function(){w(Qn,{active:!0})});e.on("leavepictureinpicture",function(){setTimeout(function(){w(Qn,{active:!1,Fr:e.paused()})},0)})}e.controls(this.Cj);window.videoJsPlayer=e}p(Ts,Rn);function Us(a){var b=0,c=setInterval(function(){10<=b&&clearInterval(c);void 0!==a.L&&void 0!==a.L.chromecastSessionManager&&(a.L.chromecastSessionManager.getCastContext().addEventListener("sessionstatechanged",function(d){if(void 0!==d.sessionState)switch(d.sessionState){case "SESSION_STARTED":case "SESSION_RESUMED":Vs(a);a.Ec||void 0===a.L||(a.L.off("canplay"),a.L.off("canplaythrough"));a.stop();setTimeout(function(){a.Ec=!0;Un(a,a.context);a.Di(a.Pf(!1));Ws(a);void 0!==a.L&&(a.L.tech_._ui._findTitleEl().style.visibility="hidden")},1E3);a.gb.j();Xs(a);break;case "SESSION_ENDED":setTimeout(function(){if(void 0!==a.L){a.Ec=!1;var e=a.Pf(!1);a.L.muted(a.oa);a.L.volume(e);Un(a,a.context);Ys(a);Zs(a)}},2500),a.yg.parentElement===a.element&&a.element.removeChild(a.yg),a.gb.show()}}),clearInterval(c));b+=1},1E3)}k=Ts.prototype;k.At=function(a,b){if(""===b)this.stop();else{var c=this;this.Ec?(Xs(this),this.gb.j(),Zn(this)):(this.gb.show(),bo(this,a));void 0!==this.L?(this.Ec?this.L.tech_.setSource({src:b,type:"application/x-mpegURL"}):this.Ec||(this.L.on("playing",function(){bo(c,a)}),this.L.on("waiting",function(){bo(c,a)}),this.L.on("timeupdate",function(){if(void 0!==c.L){var d=c.L.currentTime();5<d-c.ag&&(c.ag=d,bo(c,a,function(){c.ag=0}))}}),this.L.off("error"),this.L.on("error",function(d){if(void 0!==c.L){var e=c.L.error();null===e||2!==e.code&&4!==e.code||(c.Zf||Un(c,a),x(e.message,d,"VIDEO_"))}else x("Videojs error type undefined",d,"VIDEO_")}),this.L.src({src:b,type:"application/x-mpegURL"}),this.L.qualityPickerPlugin(),this.L.show(),this.L.muted(this.oa),this.I.style.display="inline"),this.il=this.L,Ys(this)):H("something went wrong")}};function Ws(a){if(a.Ec&&void 0!==a.L&&void 0!==a.L.chromecastSessionManager){var b=a.L.chromecastSessionManager.getCastContext().getCurrentSession();if(void 0!==b){var c=0;b.addMessageListener("urn:x-cast:com.highwebmedia.cast.media",function(d,e){a.Ec&&e.includes("PAUSED")?(clearTimeout(c),c=setTimeout(function(){Un(a,a.context)},2500)):a.Ec&&e.includes("BUFFERING")?(clearTimeout(c),c=setTimeout(function(){Un(a,a.context)},7500)):!a.Ec||e.includes("PLAYING")?clearTimeout(c):a.Ec&&e.includes("MEDIA_ERROR")&&Un(a,a.context)})}}}k.Di=function(a){void 0!==this.S&&void 0!==this.L&&(this.oa=0===a||this.L.muted(),this.S.ur(a),this.S.Ol(this.oa))};k.ke=function(a){this.oa=a;void 0!==this.S&&this.S.Ol(a);void 0!==this.L&&this.L.muted(a)};k.Ei=function(a,b){this.oa=b;void 0!==this.L&&(this.L.volume(a/100),this.L.muted(b))};k.Pf=function(a){return void 0!==this.L?(void 0===a||a)&&this.L.muted()?0:100*this.L.volume():0};k.stop=function(){this.ag=0;if(!this.Ec&&void 0!==this.L)this.L.off("timeupdate"),this.L.off("waiting"),this.L.off("playing"),this.L.pause(),Vs(this),this.L.src(),this.L.hide(),this.L.muted(this.oa);else if(this.Ec&&void 0!==this.L){this.L.pause();this.L.src();this.L.hide();return}Rn.prototype.stop.call(this)};function Xs(a){a.yg!==a.element.firstChild&&a.element.insertBefore(a.yg,a.element.firstChild)}
function Ys(a){a.Ec||void 0!==a.Ii||void 0===a.L||(a.Ii=a.L.tech(),a.Ii.on("loadedqualitydataTS",function(b,c){b=[];c=l(c.qualityData.video);for(var d=c.next();!d.done;d=c.next())d=d.value,b.push({label:d.label,Tj:d.selected,value:d.id});w(a.ce,b)}))}function Zs(a){a.Ec||void 0===a.L||(a.L.on("canplay",function(){a.play();a.Zf&&Xn(a)}),a.L.on("canplaythrough",function(){a.play()}))}
function Vs(a){a.Ec||void 0===a.Ii||(a.Ii.off("loadedqualitydataTS"),a.Ii.hlsProvider.dispose(),a.Ii.reset(),a.Ii=void 0)}k.le=function(a){void 0!==this.L&&this.L.selectQualityButton(a)};k.sp=function(){Rn.prototype.sp.call(this);void 0!==this.S&&(this.S.show(),this.oq=!0)};k.Md=function(){this.Cj=!0;void 0!==this.S&&this.S.j();void 0!==this.L&&this.L.controls(this.Cj)};k.Ld=function(){this.Cj=!1;void 0!==this.S&&this.S.show();void 0!==this.L&&this.L.controls(this.Cj)};k.Lh=function(){void 0!==this.L&&(this.L.requestFullscreen(),this.Md())};k.Ub=function(){return 0};k.vl=function(){return!this.Cj};k.zk=function(){return this.I};function $s(a,b,c){c=void 0===c?!1:c;G.call(this);this.pj=a;this.gb=b;this.hn=c;this.oe=new q("videoOfflineChange");a=at(this);this.xm(a);this.gb.oi=this.A.Gi;Wn(this);this.hc=document.createElement("img");this.hc.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/logo.svg";this.hc.className="cbLogo";this.hc.style.position="fixed";this.hc.style.width="90px";this.hc.style.top="8px";this.hc.style.right="8px";this.hc.style.userSelect="none";this.hc.style.msUserSelect="none";this.hc.style.msUserSelect="none";this.hc.setAttribute("draggable","false");this.element.appendChild(this.hc);this.io()}p($s,G);$s.prototype.io=function(){};function bt(){return(void 0===navigator.userAgent?0:/android/i.test(navigator.userAgent))||!Za()?"videojs":"hlsnative"}
function at(a){var b=Fk().player;if(void 0!==b)return"hls"===b&&(b=bt()),b;if(b=Ms)a:{b=navigator.userAgent.match(/Firefox\/([0-9]+)/);if(null!==b&&2===b.length&&(b=parseInt(b[1]),!isNaN(b)&&55<=b)){b=!0;break a}b=!1}return b||0>=swfobject.getFlashPlayerVersion().major?Za()||Qa.isSupported()?a.pj?bt():"jpeg":(Dn({eventName:"jpegFallback",hlsNativeSupported:Za(),hlsJsSupported:Cn.isSupported()}),"jpeg"):"flash"}
$s.prototype.xm=function(a){switch(a){case "flash":this.pj=!0;a=new Kn;break;case "videojs":a=new Ts(this.gb,this.hn);break;case "hlsnative":a=new Rs(this.gb);break;case "jpeg":this.pj=!1;a=new Os(this.gb);break;default:x("received unexpected player name: "+a);H("unknown player: "+a);return}this.A=this.D(a)};function ct(a,b,c){a.pj=!0;a.removeChild(a.A);var d="hlsnative"===bt()?new Rs(a.gb):new Ts(a.gb);z("loadeddata",d.I,function(){d.ke(!1)});d.Rf(b);Un(d,b);d.Di(100);d.ke(!1);d.Yn(c);a.A.vl()?d.Ld():d.Md();a.A=fj(a,d);Wn(a);a.io()}function Wn(a){t(a.A.oe,function(b){w(a.oe,b);var c=a.gb;c.uc=b;void 0!==c.ap&&dt(c,c.ap,c.ap.status)})}function et(a,b,c){var d=b/(c?.5625:.75);d>a&&(d=a,b=d*(c?.5625:.75));return[d,b]};var ft={height:0,name:"",Vf:"",width:0,Lr:""};function gt(a){var b=[],c=[],d=[];if(0>a.indexOf("%%%[emoticon "))a={rc:[a],ca:[]};else{for(var e=0;e<a.length;e+=1)if("%"===a[e])if("%%%[emoticon "===a.slice(e,e+13)){var f=e+a.slice(e,a.length).indexOf("]%%%");if("]%%%"===a.slice(f,f+4)){d.push(b.join(""));b=[];b:{e=a.slice(e,f+4);e=e.replace("%%%[emoticon ","").replace("]%%%","");e=e.split(/\|/);if(6===e.length){if(e={name:e[0],mo:e[1],width:ht(e[2])?Number(e[2]):80,height:ht(e[3])?Number(e[3]):80,Vf:e[4],Lr:e[5]},void 0!==e.mo&&it(e.mo))break b}else if(5===e.length&&(e={name:e[0],Vf:e[1],width:ht(e[2])?Number(e[2]):80,height:ht(e[3])?Number(e[3]):80,Lr:e[4]},it(e.Vf)))break b;e=void 0}void 0!==e?c.push(e):(x("Cannot parse emoticon: "+e),c.push(ft));e=f+4-1}}else b.push(a[e]);else b.push(a[e]);d.push(b.join(""));a={rc:d,ca:c}}this.Kr=a}gt.prototype.rc=function(){return this.Kr.rc};gt.prototype.ca=function(){return this.Kr.ca};function it(a){return null===a.match(/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/g)?(x("Invalid emoticon URL"),!1):!0}function ht(a){return isNaN(parseInt(a,10))?(x("Invalid dimension argument"),!1):!0};var jt;t(X,function(a){jt=a.i.a()});function kt(a){return new Promise(function(b,c){Ib("accounts/api/usermenu/"+a+"/"+jt+"/").then(function(d){d=new L(d.responseText);var e=P(d,"online"),f=N(d,"username"),g=S(d,"display_age",!1),h=N(d,"gender"),m=N(d,"image_url"),n=P(d,"can_silence"),r=P(d,"can_access"),v=P(d,"needs_supporter_to_pm");T(d);b({username:f,Cg:g,xk:h,oj:m,ii:e,gk:n,Sv:r,yn:v})}).catch(function(d){c(d)})})};var lt={inappropriate:Rg,rude:Sg,spam:Tg,other:Ug};function mt(a,b,c,d){d=void 0===d?!1:d;G.call(this);var e=this;this.username=a;this.un=b;this.i=c;this.kj=[];this.fj=[];this.Qp=!1;this.rm=new q("closeChatReportRequest");this.Pw=new q("ignoreReportedUser");this.element.style.position="static";this.element.style.color="#454545";this.element.style.fontFamily="UbuntuBold, Arial, Helvetica, sans-serif";this.element.style.fontSize="11px";this.form=document.createElement("form");b=document.createElement("div");a=document.createElement("div");this.wc=document.createElement("textarea");this.form.appendChild(b);this.form.style.width="100%";b.style.margin="6px";b.style.fontSize="13px";b.style.color="rgb(0, 91, 133)";b.innerText=Vg+" "+this.username;b={};for(var f in lt){c=document.createElement("label");b.re=document.createElement("input");var g=document.createElement("span");c.style.display="block";c.style.margin="6px 8px";b.re.type="radio";b.re.style.margin="0 4px 0 2px";b.re.name="chatReport";b.re.value=f;g.innerText=lt[f];d&&"rude"===f&&(b.re.style.display="inline-block",b.re.style.marginBottom="5px",g.style.display="inline-block",g.style.width="135px",g.style.verticalAlign="bottom");c.appendChild(b.re);c.appendChild(g);this.form.appendChild(c);c.onclick=function(h){return function(){e.am=h.re}}(b);this.kj.push(b.re);b={re:b.re}}a.style.margin="6px 8px";this.wc.draggable=!1;this.wc.style.resize="none";this.wc.style.boxSizing="border-box";this.wc.style.height="40px";this.wc.style.width="100%";this.wc.style.border="1px solid #b1b1b1";this.wc.maxLength=255;this.wc.oninput=function(){e.wc.value=e.wc.value.slice(0,255)};a.appendChild(this.wc);this.form.appendChild(a);this.kj.push(this.wc);this.aj=document.createElement("div");this.aj.style.margin="0 0 8px";this.aj.style.cssFloat="right";this.aj.style.fontFamily="UbuntuMedium, Arial, Helvetica, sans-serif";f=document.createElement("button");f.type="submit";f.innerText=Wg;f.style.fontSize="11px";f.style.color="#ffffff";f.style.padding="4px 6px 4px 6px";f.style.marginRight="8px";f.style.backgroundColor="#eb3404";Sa()&&(f.style.background="linear-gradient(#f66d51, #eb3404)");f.style.border="none";f.style.borderRadius="4px";f.style.boxSizing="border-box";f.style.cursor="pointer";f.style.display="inline-block";d=document.createElement("button");d.type="button";d.innerText=Bg;d.style.fontSize="11px";d.style.color="#ffffff";d.style.padding="4px 6px 4px 6px";d.style.marginRight="8px";d.style.backgroundColor="#383838";Sa()&&(d.style.background="linear-gradient(#8b8b8b, #686868)");d.style.border="none";d.style.borderRadius="4px";d.style.boxSizing="border-box";d.style.cursor="pointer";d.style.display="inline-block";this.aj.appendChild(d);this.aj.appendChild(f);this.form.appendChild(this.aj);this.kj.push(d);this.kj.push(f);this.hj=document.createElement("div");this.Gg=document.createElement("div");this.Mi=document.createElement("div");this.La=document.createElement("button");f=document.createElement("button");this.fj.push(this.La);this.fj.push(f);this.Mi.innerText=cd;this.Mi.style.margin="0 0 8px 0";this.Mi.style.textAlign="center";this.La.style.textAlign="center";this.La.style.fontSize="13px";this.La.style.display="block";this.La.style.margin="0 auto 8px";this.La.style.background="none";this.La.style.border="none";this.La.style.cursor="pointer";void 0!==this.i&&nt(this,this.i.Ng(this.username));f.innerText=zg;f.style.textAlign="center";f.style.fontSize="13px";f.style.display="block";f.style.margin="0 auto 8px";f.style.color="rgb(10, 90, 131)";f.style.background="none";f.style.border="none";f.style.cursor="pointer";ot(f);this.hj.style.display="none";this.Gg.style.fontSize="13px";this.Gg.style.fontFamily="Arial, Helvetica, sans-serif";this.Gg.appendChild(this.Mi);void 0!==this.i&&this.i.username()!==this.i.a()&&this.Gg.appendChild(this.La);this.Gg.appendChild(f);this.hj.appendChild(this.Gg);z("submit",this.form,function(h){h.preventDefault();e.wc.blur();void 0===e.am?H(We,e.Jm.bind(e)):"other"===e.am.value&&""===e.wc.value.trim()?H(Qg,e.vw.bind(e)):(e.Wq().then(function(m){m.success?(m=e.username,m=D(B("%(username)s has been reported"),{username:m},!0),e.Mi.innerText=m):e.Mi.innerText=Xg}).catch(function(m){e.Mi.innerText=403===m.Ud.status?Yg:Xg}),pt(e))});z("click",f,function(h){h.preventDefault();w(e.rm,!0)});z("click",d,function(h){h.preventDefault();w(e.rm,!1)});this.element.appendChild(this.form);this.element.appendChild(this.hj);this.jv=this.ny.bind(this);z("keydown",document.body,this.jv)}p(mt,G);function pt(a){var b=a.element.offsetWidth,c=a.element.offsetHeight;a.form.style.display="none";a.hj.style.display="block";a.hj.style.width=b+"px";a.hj.style.height=c+"px";a.Gg.style.padding=c/2-a.Gg.offsetHeight/2+"px 0 0";a.Qp=!0}k=mt.prototype;k.Wq=function(){var a=this;return new Promise(function(b,c){return A("chatmessages/report/"+a.un+"/",{spammer:a.username,category:void 0===a.am?"":a.am.value,additional_comments:a.wc.value}).then(function(d){d=new L(d.responseText);d={success:"success"===M(d,"result"),Fp:M(d,"html")};b(d)}).catch(function(d){c(d)})})};function qt(a){a.La.disabled=!0;a.La.style.cursor="default";a.La.style.textDecoration="none";a.La.onmouseenter=function(){};a.La.onmouseleave=function(){};a.La.onclick=function(){};a.La.style.color="#454545";var b=a.fj.indexOf(a.La);-1!==b&&a.fj.splice(b,1);a.La.blur()}function rt(a,b,c){if(document.activeElement instanceof HTMLElement){var d=b.indexOf(document.activeElement);-1===d?a.Jm():(c?(a=d-1,0>a&&(a+=b.length)):a=(d+1)%b.length,b[a].focus())}else a.Jm()}
function nt(a,b){void 0!==a.i&&(b?(a.La.innerText=Ec(a.username),qt(a)):(a.La.innerText=Fc(a.username),a.La.style.color="rgb(10, 90, 131)",ot(a.La),a.La.disabled=!1,a.La.onclick=function(){io()?a.La.innerText=Rf:(U("IgnoreUser",{username:a.username}),void 0!==a.i&&a.i.Cd(a.username),a.La.innerText=Ec(a.username),w(a.Pw,void 0));qt(a)}))}k.vw=function(){this.wc.focus()};k.Jm=function(){this.Qp?this.fj[0].focus():this.kj[0].focus()};k.sd=function(){qb("keydown",document.body,this.jv)};k.ny=function(a){a.stopPropagation();27===a.keyCode?w(this.rm,!1):9===a.keyCode&&(a.preventDefault(),this.Qp?rt(this,this.fj,a.shiftKey):rt(this,this.kj,a.shiftKey))};function ot(a){a.onmouseenter=function(){a.style.textDecoration="underline"};a.onmouseleave=function(){a.style.textDecoration="none"}};var st=new q("callUserMenuReposition"),tt;function ut(a){return a.Dc?"#DC5500":a.ld?"#DC0000":a.kd?"#090":a.ng?"#804baa":a.lg?"#be6aff":a.mg?"#009":a.nf?"#69A":"#494949"}function vt(a){if(a.Dc)return cj;if(a.ld)return bj;if(a.kd)return aj;if(a.ng)return Ti;if(a.lg)return Vi;if(a.mg)return Xi;if(a.nf)return Zi}function wt(a){if(!a.ld&&!a.Dc&&!a.kd){if(a.ng)return Ui;if(a.lg)return Wi;if(a.mg)return Yi;if(a.nf)return $i}}
function xt(a){return a.Dc?"#ff6200":a.ld?"#DC0000":a.kd?"#00ff00":a.ng?"#ad62e1":a.lg?"#d4a0ff":a.mg?"#8a98ff":a.nf?"#84c6dc":"#b3b3b3"}
function yt(a){a=a.toLowerCase();if(-1<["m","male"].indexOf(a))return"https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/gendericons/male.svg";if(-1<["f","female"].indexOf(a))return"https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/gendericons/female.svg";if(-1<["t","s","trans"].indexOf(a))return"https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/gendericons/trans.svg";if(-1<["c","couple"].indexOf(a))return"https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/gendericons/couple.svg";x("Could not set menu gender icon. Defaulting to male.");return"https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/gendericons/male.svg"}
function zt(a,b,c){function d(f){f.preventDefault();null===e.parentElement?x("Username span has no parent"):(U("OpenUserContextMenu",{username:a.username}),At(a,e.parentElement,f,c))}c=void 0===c?"":c;var e=document.createElement("span");e.style.color=ut(a);void 0!==b&&b||(e.setAttribute("data-purecolor",xt(a)),e.className="purecolor");e.style.fontWeight="bold";e.innerText=a.username;e.onmouseenter=function(){e.style.textDecoration="underline";e.style.cursor="pointer"};e.onmouseleave=function(){e.style.textDecoration="none";e.style.cursor="default"};z("click",e,d);z("contextmenu",e,d);return e}function Bt(a){9===a.keyCode&&void 0!==tt&&tt.sd()}function Ct(){void 0!==tt&&tt.sd()}function At(a,b,c,d){d=void 0===d?"":d;2===Dt&&(Dt=0,kt(a.username).then(function(e){tt=new Et(a,e,b,d);b.style.cursor="default";tt.position(c);tt.gk(e.gk,a.username);z("keydown",document,Bt);z(wj(),document,Ct)}).catch(function(e){Dt=2;x("Could not process user menu request: "+e)}))}var Ft,Gt,Ht;t(X,function(a){Ft=a.i.a();Gt=a.i.username();Ht=a.i;Dt=2});function Et(a,b,c,d){this.Nc={lightmode:{P:{backgroundColor:"#fff",border:"1px solid #f0f0f0",boxShadow:"0px 0px 10px rgba(0,0,0,0.35)",color:"#000",Cu:{backgroundColor:"#f0f0f0"}},O:{backgroundColor:"#f9f9f9",color:"#000"},sv:{hy:{color:"#49494F"}},links:{color:"#49494F",dt:"#F9E4D5",Iu:{Lg:"send-pvt-msg-d.svg"},gt:{Lg:"ignore-user-d.svg"},su:{Lg:"report-msg-d.svg"}}},darkmode:{P:{backgroundColor:"#303030",border:"1px solid #000",boxShadow:"0px 0px 10px rgba(0,0,0,0.35)",color:"#EDEDED",Cu:{backgroundColor:"#222"}},O:{backgroundColor:"#262626",color:"#EDEDED"},sv:{subLabel:{color:"#EDEDED"}},links:{color:"#EDEDED",dt:"#563E2E",Iu:{Lg:"send-pvt-msg.svg"},gt:{Lg:"ignore-user.svg"},su:{Lg:"report-msg.svg"}}}};this.d=b;this.Aa=c;this.message=d;It(this);Jt(this);Kt(this,a);d=vt(a);b=wt(a);if(void 0!==d){c=document.createElement("div");var e=document.createElement("span");c.style.padding="9px 10px";e.innerText=d;e.style.color="lightmode"===Lt?ut(a):xt(a);e.style.fontWeight="bold";e.style.display="block";c.appendChild(e);void 0!==b&&(d=document.createElement("span"),d.style.fontSize="10px",d.style.color=this.Nc[Lt].sv.hy.color,d.style.display="block",d.innerText=b,c.appendChild(d));this.tf.appendChild(c);this.tf.appendChild(Mt(this))}this.Go(a);this.P.style.display="block";Dt=1}
function It(a){Dt=0;a.P=document.createElement("div");a.tf=document.createElement("div");a.R=document.createElement("div");a.Aa.appendChild(a.P);a.Aa.appendChild(a.R);a.tf.style.backgroundColor="";a.P.appendChild(a.tf);a.P.style.boxShadow=a.Nc[Lt].P.boxShadow;a.P.style.textShadow="none";a.P.style.border=a.Nc[Lt].P.border;a.P.style.position="absolute";a.P.style.background=a.Nc[Lt].P.backgroundColor;a.P.style.borderRadius="4px";a.P.style.display="none";a.P.style.zIndex="100";a.P.style.top="0";a.P.style.fontWeight="normal";a.P.style.fontFamily="Tahoma, Arial, Helvetica, sans-serif";a.P.style.fontSize="12px";a.P.style.width="188px";a.P.style.color=a.Nc[Lt].P.color;a.P.onmouseenter=function(){a.P.style.cursor="default"}}function Jt(a){a.R=document.createElement("div");a.R.style.position="fixed";a.R.style.top="0";a.R.style.left="0";a.R.style.height="100%";a.R.style.width="100%";a.R.style.display="block";a.Aa.appendChild(a.R);a.R.onclick=function(){a.sd()};a.R.style.background="rgba(0, 0, 0, 0)"}
function Kt(a,b){var c=document.createElement("div");a.name=document.createElement("div");var d=document.createElement("a");if(a.d.ii){var e=document.createElement("div");a.rh=document.createElement("img");z("load",a.rh,function(){var h=e.getBoundingClientRect(),m=a.rh.getBoundingClientRect();h.height<m.height&&(a.rh.style.position="relative",a.rh.style.left="0px",a.rh.style.top=(h.height-m.height)/2+"px")});a.rh.src=a.d.oj;a.rh.style.width="100%";e.style.width="188px";e.style.height="75px";e.style.overflow="hidden";e.style.display="block";e.style.borderRadius="4px 4px 0px 0px";e.appendChild(a.rh);a.P.insertBefore(e,a.P.firstChild)}a.name.appendChild(d);d.innerText=b.username;d.style.color="lightmode"===Lt?ut(b):xt(b);d.style.fontWeight="bold";d.href="/"+b.username+"/";d.target="_blank";d.style.textDecoration="none";d.style.overflow="hidden";d.style.textOverflow="ellipsis";d.style.width="120px";d.style.display="inline-block";d.onmouseenter=function(){d.style.textDecoration="underline";d.style.cursor="pointer"};d.onmouseleave=function(){d.style.textDecoration="none";d.style.cursor="default"};z("click",a.name,function(h){U("ViewProfile",{username:b.username});h.stopPropagation();a.sd()});c.style.padding="9px 10px";c.style.color=a.Nc[Lt].O.color;c.style.fontWeight="bold";c.style.backgroundColor=a.Nc[Lt].O.backgroundColor;c.style.position="relative";c.appendChild(a.name);if(a.d.Sv){var f=document.createElement("img");f.src=yt(a.d.xk);f.style.display="inline-block";f.style.position="absolute";f.style.right="10px";f.style.top="9px";f.height=14;f.width=14;if(!isNaN(a.d.Cg)&&18<=a.d.Cg){var g=document.createElement("span");g.innerText=a.d.Cg.toString();g.style.fontSize="12px";g.style.fontWeight="bold";g.style.position="absolute";g.style.right="29px";g.style.top="9px";g.style.color=a.Nc[Lt].O.color;c.appendChild(g)}c.appendChild(f)}a.tf.appendChild(c);a.tf.appendChild(Mt(a))}
function Mt(a){var b=document.createElement("hr");b.style.backgroundColor=a.Nc[Lt].P.Cu.backgroundColor;b.style.height="1px";b.style.border="none";b.style.margin="0";return b}
Et.prototype.Go=function(a){if(Gt!==a.username)if(void 0===Ht)x("ignoreText: Chatconnection should be defined");else{var b=document.createElement("div");b.style.margin="5px 0px";b.style.fontSize="12px";var c=Nt(this,a.username);b.appendChild(c);Ft!==Gt&&(c=Ot(this,a.username),b.appendChild(c));""!==this.message&&(a=Pt(this,a.username,this.message),b.appendChild(a));this.tf.appendChild(b)}};Et.prototype.gk=function(a,b){var c=this;if(a){this.er=document.createElement("div");a=Qt(this);var d=Rt(this);d.innerText=qg;d.style.paddingLeft="20px";this.er.style.margin="5px 0px";a.appendChild(d);this.er.appendChild(a);a.onclick=function(){Aj("Silence "+b+"?",function(){U("SilenceUser",{username:b,to_user:b});A("roomsilence/"+b+"/"+Ft+"/",{}).then(function(){}).catch(function(e){x(e);H("Error silencing user "+b)})});c.sd()};this.tf.appendChild(Mt(this));this.tf.appendChild(this.er)}};Et.prototype.position=function(a){var b=this.Aa.offsetParent.getBoundingClientRect();a=a.target.getBoundingClientRect();var c=this.name.getBoundingClientRect().top-this.P.getBoundingClientRect().top,d=Math.max(document.documentElement.clientHeight,document.body.clientHeight),e=Math.max(document.documentElement.clientWidth,document.body.clientWidth);this.P.style.top=a.top-b.top-c+"px";this.P.style.left="-1px";this.P.offsetTop+this.P.offsetHeight>d-8?(this.P.style.top="",this.P.style.bottom="0px"):8>this.P.offsetTop&&(this.P.style.top="8px",this.P.style.bottom="");this.P.offsetLeft+this.P.offsetWidth>e-8?(this.P.style.left="",this.P.style.right="0px"):8>this.P.offsetLeft&&(this.P.style.left="8px",this.P.style.right="")};Et.prototype.sd=function(){void 0!==this.Dh&&this.Dh.sd();this.Aa.removeChild(this.P);this.Aa.removeChild(this.R);qb("keydown",document,Bt);qb(wj(),document,Ct);tt=void 0;Dt=2};function Nt(a,b){var c=Qt(a),d=document.createElement("img"),e=Rt(a);c.appendChild(d);c.appendChild(e);e.innerText=$e;d.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/"+a.Nc[Lt].links.Iu.Lg;d.style.padding="0px 4px 0 0";d.style.verticalAlign="bottom";var f=a.d.yn;z("click",c,function(g){a.sd();io('You must be logged in to send a private message. Click "OK" to login.')||(U("StartPrivateMessage",{username:b,to_user:b}),w(pn,{username:b,focus:!0,cr:f}),g.stopPropagation())});return c}
function Ot(a,b){var c=Ht,d=Qt(a),e=document.createElement("img"),f=Rt(a);c.Ng(b)?(f.style.paddingLeft="20px",f.innerText=Lf):(f.style.paddingLeft="0",f.innerText=Nf,e.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/"+a.Nc[Lt].links.gt.Lg,d.appendChild(e));d.appendChild(f);e.style.padding="0px 4px 0 0px";e.style.verticalAlign="bottom";z("click",d,function(){U("IgnoreUser",{username:b,to_user:b});c.Ng(b)?c.rr(b):c.Cd(b);a.sd()});return d}
function Pt(a,b,c){var d=Qt(a),e=document.createElement("img"),f=Rt(a);d.appendChild(e);d.appendChild(f);e.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/"+a.Nc[Lt].links.su.Lg;e.style.padding="0 4px 0 0";e.style.verticalAlign="middle";f.innerText=Of;z("click",d,function(){U("ReportChatUser",{username:b,to_user:b});a.P.removeChild(a.tf);a.Dh=new mt(b,c,Ht,!0);a.P.appendChild(a.Dh.element);w(st,void 0);a.Dh.Jm();t(a.Dh.rm,function(){a.sd()})});return d}
function Qt(a){var b=document.createElement("div");b.style.padding="3px 10px";b.style.whiteSpace="nowrap";b.style.fontWeight="normal";b.style.fontFamily="Tahoma, Arial, Helvetica, sans-serif";b.style.fontSize="12px";b.style.webkitTextSizeAdjust="none";b.style.color=a.Nc[Lt].links.color;St(a,b);return b}
function Rt(a){var b=document.createElement("span");b.style.fontWeight="normal";b.style.fontFamily="Tahoma, Arial, Helvetica, sans-serif";b.style.fontSize="12px";b.style.webkitTextSizeAdjust="none";b.style.color=a.Nc[Lt].links.color;return b}function St(a,b){var c=a.Nc[Lt].links.dt;b.onmouseenter=function(){b.style.background=c;b.style.cursor="pointer"};b.onmouseleave=function(){b.style.background="transparent";b.style.cursor="default"}}var Dt=2,Lt="lightmode";function Tt(a){var b="tipping/private_show_tokens_per_minute/"+a+"/";return new Promise(function(c,d){Ib(b).then(function(e){e=new L(e.responseText);c({Et:O(e,"private_show_minimum_minutes"),fu:S(e,"price"),ou:P(e,"recordings_allowed"),Gv:P(e,"allowed",!0,!1)});T(e)}).catch(function(e){d(e)})})}
function Ut(a){io(ph)||(U("RequestPrivateShow"),Tt(a.a()).then(function(b){if(b.Gv){var c=pc(a.a(),b.fu,b.Et,b.ou);Aj(c,function(){a.uu(b.fu,b.Et,b.ou).then(function(d){""!==d&&H(d)}).catch(function(d){"privatewatching"!==a.status&&(H(Zg),x("Error entering private show: "+d))});U("StartPrivateShow")})}else H(oh)}))}
function Vt(a){if(!io(qh)){U("RequestSpyShow");var b="tipping/spy_on_private_show_tokens_per_minute/"+a.a()+"/";Ib(b).then(function(c){var d=Number(c.responseText);isNaN(d)?x("isNaN on "+c.responseText):0===d?H(sh):Aj(D(B("Spy on private show for (%(price)s tokens per minute)"),{price:d},!0),function(){a.vu().then(function(e){""!==e&&H(e)}).catch(function(e){"privatespying"!==a.status&&(H($g),x("Error entering spy show: "+e))});U("StartSpyShow")})})}}
function Wt(a){io(rh)||(U("RequestGroupShow"),Ib("tipping/group_show_tokens_per_minute/"+a.a()+"/").then(function(b){var c=Number(b.responseText);isNaN(c)?x("isNaN on "+b.responseText):Aj(qc(a.a(),c),function(){a.tu(c).then(function(d){""!==d&&H(d)}).catch(function(d){"groupnotwatching"!==a.status&&(H(ah),x("Error entering group show: "+d))});U("StartGroupShow")})}))}
function Xt(a,b){Aj(dh,function(){U("LeavePrivateOrSpyShow");a.aq().then(function(c){void 0!==b&&b();""!==c&&H(c)})},function(){void 0!==b&&b()})}function Yt(a){Aj(dh,function(){U("LeaveGroupShow");a.Tk()})}function Zt(){A("tipping/private_show_decline/",{foo:"bar"}).then(function(){})}function $t(){A("tipping/group_show_decline/",{foo:"bar"}).then(function(){})};function au(a,b,c){this.red=a;this.green=b;this.blue=c;this.hm=this.Rm=this.Rn=10}function bu(a,b){var c=void 0===c?!1:c;for(b=Math.min(255,b);b>a.brightness()&&(!c||255!==a.red&&255!==a.green&&255!==a.blue);)a.red=Math.min(a.red+Math.max(1,.05*a.red),255),a.green=Math.min(a.green+Math.max(1,.05*a.green),255),a.blue=Math.min(a.blue+Math.max(1,.05*a.blue),255);a.red=Math.round(a.red);a.green=Math.round(a.green);a.blue=Math.round(a.blue)}
au.prototype.brightness=function(){return Math.round(this.Rn/(this.Rn+this.Rm+this.hm)*this.red+this.Rm/(this.Rn+this.Rm+this.hm)*this.green+this.hm/(this.Rn+this.Rm+this.hm)*this.blue)};var cu={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#ffa500",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};function du(a){var b=void 0===b?{red:200,green:200,blue:200}:b;var c=a.toLowerCase();if(/^[a-z]+$/.test(c)){var d=cu[c];void 0!==d&&(c=d)}if(/^#([a-fA-F0-9]{3}){1,2}$/.test(c))return b=c,4===b.length&&(b="#"+b[1]+b[1]+b[2]+b[2]+b[3]+b[3]),b=Number("0x"+b.substring(1)),{red:b>>16&255,green:b>>8&255,blue:b&255};if(0===c.indexOf("rgb")){a=a.match(/\d+(\.\d+)?%?/g);if(null===a||3>a.length||4<a.length)return b;a=[a[0],a[1],a[2]];b=[];for(c=0;3>c;c+=1)b[c]=-1!==a[c].indexOf("%")?Math.round(2.55*parseFloat(a[c])):Number(a[c]),0>b[c]?b[c]=0:255<b[c]&&(b[c]=255);return{red:b[0],green:b[1],blue:b[2]}}Nb('Cannot parse color: "'+a+'"');return b};function eu(){var a=void 0===a?"":a;var b=document.createElement("div");b.style.fontFamily="Tahoma,Arial,Helvetica,sans-serif";b.style.boxSizing="border-box";b.style.width="100%";b.style.paddingTop="3px";b.style.paddingBottom="3px";b.style.paddingLeft="5px";b.style.paddingRight="5px";b.style.fontSize="12px";b.style.overflowX="hidden";0<a.length&&b.setAttribute("data-nick",a);return b}function fu(a,b){return b.username===a?"Broadcaster ":b.ld?"Moderator ":b.kd?"Fan club member ":""}
function gu(a){a=du(a);a=new au(a.red,a.green,a.blue);var b=a.brightness();bu(a,255-b/3);return"rgb("+a.red+", "+a.green+", "+a.blue+")"};var hu=[];t(X,function(a){hu=a.h.bn});var iu=new q("previewEmoticon");function ju(){zm.call(this);var a=this;this.element.style.visibility="hidden";this.element.style.position="fixed";this.element.style.width="auto";this.element.style.height="auto";this.element.style.backgroundColor="#ffffff";this.element.style.borderRadius="6px";this.element.style.padding="10px";this.element.style.fontSize="12px";this.element.style.fontFamily="UbuntuRegular, Helvetica, Arial, sans-serif";this.element.style.zIndex="1003";this.element.style.textAlign="center";this.element.style.boxShadow="0 0 18px rgba(0, 0, 0, 0.4)";this.R.style.backgroundColor="#000000";this.R.style.opacity="0.4";this.R.style.zIndex="1002";var b=document.createElement("img");b.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/close.svg";b.style.position="absolute";b.style.width="10px";b.style.top="9px";b.style.right="9px";b.style.cursor="pointer";b.style.opacity="0.5";b.onclick=function(){a.j()};b.onmouseenter=function(){b.style.opacity="1"};b.onmouseleave=function(){b.style.opacity="0.5"};this.element.appendChild(b);this.pd=document.createElement("img");this.pd.style.verticalAlign="middle";this.pd.style.padding="10px";z("load",this.pd,function(){a.element.style.visibility="visible";a.hb();a.u()});this.element.appendChild(this.pd);this.qd=document.createElement("div");this.qd.innerText="REPORT EMOTICON";this.qd.style.color=F.Bd;this.qd.style.cursor="pointer";this.qd.onclick=function(){a.qd.style.display="none";a.xf.style.display="block";a.u()};this.qd.onmouseenter=function(){a.qd.style.textDecoration="underline"};this.qd.onmouseleave=function(){a.qd.style.textDecoration="none"};this.element.appendChild(this.qd);this.xf=document.createElement("div");this.xf.style.display="none";this.element.appendChild(this.xf);var c=document.createElement("span");c.innerText="Choose a category:";c.style.marginRight="6px";this.xf.appendChild(c);var d=document.createElement("select");c=l(ku);for(var e=c.next();!e.done;e=c.next()){e=e.value;var f=document.createElement("option");f.innerText=e.label;f.value=e.value;d.appendChild(f)}this.xf.appendChild(d);c=document.createElement("span");c.innerText="CANCEL";c.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";c.style.fontSize="12px";c.style.textShadow="#585858 1px 1px 0";c.style.color="#ffffff";c.style.padding="2px 6px";c.style.backgroundColor="#898989";Sa()&&(c.style.background="linear-gradient(180deg, #7b7b7b 0%, #898989 50%, #585858 60%, #616161 100%)");c.style.borderRadius="4px";c.style.boxSizing="border-box";c.style.cursor="pointer";c.style.display="inline-block";c.style.marginLeft="6px";c.onclick=function(){a.qd.style.display="block";a.xf.style.display="none";a.u()};this.xf.appendChild(c);c=document.createElement("span");c.innerText="REPORT";c.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";c.style.fontSize="12px";c.style.textShadow="#bc2b1d 1px 1px 0";c.style.color="#ffffff";c.style.padding="2px 6px";c.style.backgroundColor="#ef6352";Sa()&&(c.style.background="linear-gradient(180deg, #ff4d30 0%, #ef6352 50%, #f2240f 60%, #e63125 100%)");c.style.borderRadius="4px";c.style.boxSizing="border-box";c.style.cursor="pointer";c.style.display="inline-block";c.style.marginLeft="6px";c.onclick=function(){A("emoticon_report_abuse/"+a.sk.Ic+"/",{category:d.value}).then(function(){hu.push(a.sk.Ic);a.xf.style.display="none";a.mh.style.display="block";a.u()}).catch(function(h){x("Error reporting emoticon: "+h)})};this.xf.appendChild(c);this.mh=document.createElement("div");this.mh.style.display="none";this.element.appendChild(this.mh);c=document.createElement("span");c.innerText="EMOTICON REPORTED - ";this.mh.appendChild(c);var g=document.createElement("span");g.innerText="UNDO";g.style.color=F.Bd;g.style.cursor="pointer";g.onclick=function(){A("emoticon_report_abuse/"+a.sk.Ic+"/",{category:d.value}).then(function(){var h=hu.indexOf(a.sk.Ic,0);0<=h&&hu.splice(h,1);a.mh.style.display="none";a.qd.style.display="block";a.u()}).catch(function(h){x("Error reporting emoticon: "+h)})};g.onmouseenter=function(){g.style.textDecoration="underline"};g.onmouseleave=function(){g.style.textDecoration="none"};this.mh.appendChild(g);t(this.Xb,function(){a.j()})}p(ju,zm);ju.prototype.show=function(a){this.sk=a;this.pd.src=this.sk.url;this.qd.style.display="none";this.xf.style.display="none";this.mh.style.display="none";0<=hu.indexOf(a.Ic)?this.mh.style.display="block":this.qd.style.display="block";this.u()};ju.prototype.u=function(){this.element.style.left=(document.documentElement.clientWidth-this.element.offsetWidth)/2+"px";this.element.style.top=(document.documentElement.clientHeight-this.element.offsetHeight)/2+"px"};ju.prototype.j=function(){this.Ua();this.element.style.visibility="hidden"};var ku=[{label:"Just ignore this emoticon",value:"ignore"},{label:"Offensive",value:"offensive"},{label:"Disgusting",value:"disgusting"},{label:"Fake Tip",value:"fake_tip"},{label:"Advertising",value:"advertising"}];var lu=!1,mu,nu,ou;t(X,function(a){lu=a.h.la.Pj;mu=a.h.ml;nu=a.i;ou=a.h.bn});t(Tk,function(a){lu=a.Pj});function pu(a){var b=lu,c=new gt(a);a=document.createElement("span");a.className="emoticonImage";a.innerText=c.rc()[0];for(var d={Ib:1};d.Ib<c.rc().length;d={Ib:d.Ib},d.Ib+=1){if(!b||0<=ou.indexOf(c.ca()[d.Ib-1].name)){var e=document.createElement("span");e.style.color="lightskyblue";e.innerText=":"+c.ca()[d.Ib-1].name;e.style.cursor="pointer";e.onclick=function(g){return function(){var h={Ic:c.ca()[g.Ib-1].name,url:c.ca()[g.Ib-1].Vf};w(iu,h)}}(d);a.appendChild(e)}else{e=document.createElement("img");var f=c.ca()[d.Ib-1].mo;e.src=void 0!==f?f:c.ca()[d.Ib-1].Vf;e.title=":"+c.ca()[d.Ib-1].name;e.style.cursor="pointer";e.onclick=function(g){return function(){var h={Ic:c.ca()[g.Ib-1].name,url:c.ca()[g.Ib-1].Vf};w(iu,h)}}(d);e.name=c.ca()[d.Ib-1].name;e.height=c.ca()[d.Ib-1].height;e.width=c.ca()[d.Ib-1].width;a.appendChild(e)}""!==c.rc()[d.Ib]&&(e=document.createElement("span"),e.innerText=c.rc()[d.Ib],a.appendChild(e))}return a}
function qu(a){var b=ru(a.vb.username),c=document.createElement("div");c.style.width="100%";c.style.display="inline-block";c.style.padding="2px";c.style.padding="0";var d=zt(a.vb,void 0!==a.backgroundColor,a.un);d.style.paddingRight="4px";c.appendChild(d);c.style.marginRight="4px";var e=pu(a.message),f=void 0!==a.Xe?a.Xe:"#494949";e.style.color=f;void 0!==a.font&&(d.style.fontFamily=a.font,e.style.fontFamily=a.font);e.setAttribute("data-purecolor",gu(f));e.className="purecolor";void 0!==a.backgroundColor&&(c.style.background=a.backgroundColor);c.appendChild(e);b.appendChild(c);return b}
function su(a){var b=ru();b.style.padding="1px 5px";var c=document.createElement("div");c.style.display="inline-block";if(void 0!==a.background)c.style.background=a.background,c.style.overflow="hidden",c.style.marginTop="1px",c.style.textShadow="none","#ff8b45"===a.background&&(c.style.padding="0px 4px");else{var d=gu(void 0!==a.qa?a.qa:"#aaaaaa");c.setAttribute("data-purecolor",d);c.className="purecolor"}c.style.color=void 0!==a.qa?a.qa:"#494949";c.style.fontWeight=void 0!==a.weight?a.weight:"normal";b.appendChild(tu(c,a.V,void 0!==a.background));return b}
function tu(a,b,c){b=l(b);for(var d=b.next();!d.done;d=b.next()){var e=document.createElement("div");d=l(d.value);for(var f=d.next();!f.done;f=d.next())switch(f=f.value,f.Xc){case 1:e.appendChild(uu(f));break;case 0:e.appendChild(zt(f.bd,c));break;case 2:e.appendChild(vu(f.message));break;case 4:e.appendChild(wu("join group show",function(){"grouprequesting"===nu.status?H("You are already requesting to join this group show."):Wt(nu)}));break;case 3:e.appendChild(wu("spy private show",function(){"privatespying"!==nu.status&&Vt(nu)}));break;default:x("Unknown roomNotice type for: "+JSON.stringify(f))}a.appendChild(e)}return a}function wu(a,b){var c=document.createElement("a");c.style.color="#85FFFF";c.style.textDecoration="underline";c.innerText=a;c.onclick=b;return c}function vu(a){var b=document.createElement("a");b.href="/tag/"+a+"/"+mu;b.style.color="#0a5a83";b.style.textDecoration="none";b.innerText="#"+a;return b}
function xu(a){var b=ru();b.innerText=a;b.setAttribute("data-purecolor",gu("#aaaaaa"));b.className="purecolor";return b}
function yu(a,b){var c=ru(),d=document.createElement("span");d.innerText=rc(a);c.appendChild(d);for(a=0;a<b.length;a+=1)d=document.createElement("a"),d.href=b[a].Qr,d.target="_blank",d.innerText=b[a].Jo,d.style.color="#0a5a83",d.style.textDecoration="none",c.appendChild(d),a<b.length-1&&(d=document.createElement("span"),d.innerText=", ",c.appendChild(d));c.setAttribute("data-purecolor",gu("#aaaaaa"));c.className="purecolor";return c}
function zu(a){function b(e){var f=document.createElement("span");f.innerText=e;return f}var c=ru();c.setAttribute("data-purecolor",gu("#aaaaaa"));c.className="purecolor";c.appendChild(b(""+xc));c.appendChild(document.createElement("br"));c.appendChild(b(yc+" "));var d=wu(Cc,function(){});d.href="/supporter/upgrade/";d.target="_blank";d.style.color="#0a5a83";d.onclick=function(){U("SupporterPageOpened",{source:"chat"})};c.appendChild(d);c.appendChild(b(" "+Dc(a)+"."));return c}
function ru(a){a=void 0===a?"":a;var b=document.createElement("div");b.style.color="#494949";b.style.fontFamily="Tahoma,Arial,Helvetica,sans-serif";b.style.boxSizing="border-box";b.style.paddingTop="2px";b.style.paddingBottom="3px";b.style.paddingLeft="5px";b.style.paddingRight="5px";0<a.length&&b.setAttribute("data-nick",a);return b}
function uu(a){var b=document.createElement("span");!1!==a.xq?b=pu(a.message):b.innerText=a.message;b.style.color=void 0!==a.qa?a.qa:"";b.style.backgroundColor=void 0!==a.background?a.background:"";b.style.fontWeight=void 0!==a.weight?a.weight:"";return b};var Au={"/tip":function(a){var b={};if(0<a.length){var c=Number(a[0]);isNaN(c)?b.message=a.join(" "):(a.shift(),b.amount=c,0<a.length&&(b.message=a.join(" ")))}return{gq:b,messageType:1}},"/debug":function(){return{messageType:2}}};function Bu(a){if("/"===a.trim().charAt(0)){a:{var b=a.match(/(\S+)/g);if(null!==b){var c=b.shift();if(Object.prototype.hasOwnProperty.call(Au,c)){b=Au[c](b);break a}}b={messageType:0}}if(0!==b.messageType)return b}return{messageType:0,gq:a}};function Cu(a,b){var c=Du;b=void 0===b?c.qg:b;c.qg=a;w(c.fd,{cu:b,Ih:a})}function Eu(){var a=Du;y()&&window.localStorage.setItem(a.Tu,JSON.stringify({isTheaterMode:"theater"===a.qg}))}function Z(){return Du.qg}var Du=new function(){this.Tu="isTheaterMode";this.fd=new q("changeVideoMode",{Je:17});this.qg="split"};var Fu,Gu=[40,37,39,38,13,27,32,9],Hu=new q("videoModeChanged",{Je:20});t(Du.fd,function(){w(Hu,void 0)});function Iu(a){jj.call(this);var b=this;this.config=a;this.isVisible=!1;this.cache=new Map;this.Ha=new Ma;this.element.style.visibility="hidden";this.element.style.width="auto";this.element.style.height="auto";this.element.style.backgroundColor="#ffffff";this.element.style.border="1px solid #acacac";this.element.style.borderBottom="none";this.element.style.fontFamily="Helvetica, Arial, sans-serif";this.element.style.cursor="pointer";t(this.Xb,function(){b.j()});this.bg=document.createElement("span");this.bg.style.position="fixed";this.bg.style.visibility="hidden";this.bg.style.width="auto";this.bg.style.fontSize="12px";this.bg.style.fontFamily="Helvetica, Arial, sans-serif";document.body.appendChild(this.bg);this.de=document.createElement("div");this.de.style.display="none";this.de.style.width="260px";this.de.style.height="110px";this.de.style.lineHeight="110px";this.de.style.borderBottom="1px solid #acacac";this.de.style.textAlign="center";this.de.onclick=function(){void 0!==b.selectedIndex&&w(iu,b.ca[b.selectedIndex])};this.element.appendChild(this.de);var c=document.createElement("div");c.innerText="VIEW / REPORT EMOTICON";c.style.color=F.Bd;c.style.fontSize="10px";c.style.position="relative";c.style.top="102px";c.style.lineHeight="0";c.onmouseenter=function(){c.style.textDecoration="underline"};c.onmouseleave=function(){c.style.textDecoration="none"};this.de.appendChild(c);this.pd=document.createElement("img");this.pd.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/loading.png";this.pd.style.maxWidth="240px";this.pd.style.maxHeight="80px";this.pd.style.verticalAlign="middle";this.pd.style.padding="10px 10px 16px 10px";this.de.appendChild(this.pd);this.list=document.createElement("div");this.list.style.width="260px";this.list.style.height="180px";this.list.style.overflowY="scroll";this.element.appendChild(this.list);z("keyup",this.config.Cc,function(d){Ju(b,d)});z("keydown",this.config.Cc,function(d){if(b.isVisible){13===d.keyCode&&b.j();38===d.keyCode&&(d.preventDefault(),Ku(b,!0));40===d.keyCode&&(d.preventDefault(),Ku(b,!1));if(9===d.keyCode||39===d.keyCode||32===d.keyCode)d.preventDefault(),b.j(),b.config.Cc.value+=" ";if(27===d.keyCode||37===d.keyCode)d.preventDefault(),b.j(),null!==b.config.Cc.selectionStart&&(b.config.Cc.value=b.config.Cc.value.substring(0,b.config.Cc.selectionStart))}});this.Ha.add(t(X,function(d){b.delay=parseInt(d.h.la.Em);Fu=d.h.bn}));this.Ha.add(t(Tk,function(d){b.delay=parseInt(d.Em)}));this.Ha.add(t(Hu,function(){b.j()}))}p(Iu,jj);Iu.prototype.dj=function(){Oa(this.Ha)};Iu.prototype.u=function(){this.element.style.left=Math.min(this.bg.offsetWidth+this.config.zt,this.config.Cc.clientWidth-this.config.xu)+"px"};function Ju(a,b){if(0<=a.delay&&-1===Gu.indexOf(b.keyCode)){var c=a.config.Cc.value.match(/(^|.+\s):([\w-]+)$/);null!==c?(a.prefix=c[2],void 0!==a.cache[a.prefix]?(a.ca=a.cache[a.prefix],Lu(a,c[1])):(clearTimeout(a.hw),a.hw=setTimeout(function(){Mu(a.prefix).then(function(d){d=new L(d.responseText);N(d,"slug");var e=vk(d,"emoticons"),f=[];e=l(e);for(var g=e.next();!g.done;g=e.next())g=g.value,f.push({Ic:g.slug,url:g.url,element:Nu,hh:g.score});T(d);a.ca=f;a.cache[a.prefix]=a.ca;Lu(a,c[1])}).catch(function(d){x("Error loading emoticon autocomplete: "+
d)})},100))):a.j()}}function Ou(a){for(;null!==a.list.firstChild;)a.list.removeChild(a.list.firstChild);a.selectedIndex=void 0;a.de.style.display="none"}
function Lu(a,b){Ou(a);a.ca=a.ca.map(function(d){var e=void 0===d.hh?0:d.hh;d.Ic===a.prefix?d.hh=e+1E5:0===d.Ic.indexOf(a.prefix)&&(d.hh=e+9E3);return d});a.ca=a.ca.sort(function(d,e){return(void 0===d.hh?0:d.hh)-(void 0===e.hh?0:e.hh)});for(var c=0;c<a.ca.length;c+=1)Pu(a,a.ca[c],c);c=0>=a.list.children.length?0:a.list.children.item(a.list.children.length-1).offsetTop;a.list.scrollTop=c;a.isVisible||(a.bg.innerText=b+":",a.show())}
function Pu(a,b,c){var d=document.createElement("div");d.innerText=b.Ic;d.style.padding="2px 8px";0<=Fu.indexOf(b.Ic)&&(d.style.display="none");d.onclick=function(){a.du=void 0===a.selectedIndex?a.prefix:a.ca[a.selectedIndex].Ic;a.selectedIndex=c;Qu(a,!1);a.config.Cc.focus()};a.list.appendChild(d);b.element=d}function Ru(a){a=l(a.ca);for(var b=a.next();!b.done;b=a.next())b.value.element.style.backgroundColor="#ffffff"}
function Ku(a,b){a.du=void 0===a.selectedIndex?a.prefix:a.ca[a.selectedIndex].Ic;Ru(a);a.selectedIndex=void 0===a.selectedIndex?b?a.ca.length-1:0:a.selectedIndex+(b?-1:1);0>a.selectedIndex?a.selectedIndex=a.ca.length-1:a.selectedIndex>=a.ca.length&&(a.selectedIndex=0);Qu(a,!0)}
function Qu(a,b){void 0!==a.selectedIndex&&(a.pd.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/loading.png",a.pd.src=a.ca[a.selectedIndex].url,a.de.style.display="block",Ru(a),a.ca[a.selectedIndex].element.style.backgroundColor="#cccccc",b&&(a.list.scrollTop=a.selectedIndex*a.list.firstChild.clientHeight-a.list.clientHeight/2),a.config.Cc.value=a.config.Cc.value.replace(new RegExp(a.du+"$"),a.ca[a.selectedIndex].Ic),a.config.Cc.setSelectionRange(a.bg.innerText.length+a.prefix.length,a.config.Cc.value.length))}Iu.prototype.show=function(){var a=this;0<=this.delay&&setTimeout(function(){a.element.style.visibility="visible";a.hb();a.W();a.isVisible=!0},this.delay)};Iu.prototype.j=function(){this.Ua();this.element.style.visibility="hidden";this.isVisible=!1;Ou(this)};function Mu(a){var b=new XMLHttpRequest;return new Promise(function(c,d){b.onload=function(){Hb(b.status)?c(b):d(new Fb(b))};b.onerror=function(){d(new Fb(b))};b.open("GET","https://emote.highwebmedia.com/autocomplete?slug="+a+"&_="+Date.now());b.withCredentials=!1;b.timeout=6E4;b.send()})}var Nu=document.createElement("div");function Su(){var a=document.createElement("div");a.style.boxSizing="border-box";a.style.overflow="auto";a.style.paddingRight="5px";return a}function Tu(){var a=document.createElement("div");a.style.width="100%";Sq(a);a.style.cursor="text";a.style.backgroundColor="#ffffff";a.style.paddingBottom="4px";return a}function Uu(){var a=document.createElement("form");a.style.display="inline-block";a.style.boxSizing="border-box";return a}
function Vu(){var a=document.createElement("div");a.style.height="28px";a.style.boxSizing="border-box";a.style.border="1px solid #acacac";a.style.borderRadius="4px 4px 0 0";a.style.backgroundColor="#ffffff";a.style.fontSize="12px";a.style.overflow="hidden";return a}
function Wu(){var a=document.createElement("input");a.style.outline="none";a.style.border="none";a.style.margin="6px";a.style.boxSizing="border-box";a.style.fontSize="12px";a.style.fontFamily="Helvetica, Arial, sans-serif";a.autocomplete="off";return a}
function Xu(){var a=document.createElement("span");a.innerText=pe;a.style.lineHeight="1.2";a.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";a.style.fontSize="12px";a.style.textShadow="#bc2b1d 1px 1px 0";a.style.color="#ffffff";a.style.padding="3px 5px";a.style.backgroundColor="#eb3404";Sa()&&(a.style.background="linear-gradient(180deg, #ff4d30 0%, #ef6352 50%, #f2240f 60%, #e63125 100%)");a.style.borderRadius="4px";a.style.boxSizing="border-box";a.style.cursor="pointer";a.style.display="inline-block";return a}function Yu(){var a=document.createElement("img");a.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ico-smile.gif";a.style.cursor="pointer";a.style.display="inline-block";a.style.marginRight="6px";a.style.verticalAlign="text-bottom";a.style.paddingRight="5px";a.style.width="15px";return a}
function Zu(a){G.call(this);var b=this;this.mi=a;this.ck=new q("addMessageHtml",{wf:!1});this.Lq=new q("removeMessageHtml",{wf:!1});this.Da=Tu();this.cb=Su();this.Ke=0;this.Ha=new Ma;this.element.style.position="static";this.element.style.boxSizing="border-box";this.element.style.padding="5px 0 0 5px";this.element.style.fontSize="12px";this.cb.appendChild(this.Da);this.element.appendChild(this.cb);var c=Uu();this.da=Vu();this.J=Wu();this.Ta=Yu();this.Pb=Xu();c.appendChild(this.J);this.da.appendChild(c);this.da.appendChild(this.Ta);this.da.appendChild(this.Pb);z("mousedown",this.da,function(d){if(d.target===b.da||d.target===c)b.J.focus(),d.preventDefault()});z("click",this.Pb,function(){b.sl()});z("click",this.Ta,function(){w(on,b.Ta)});z("submit",c,function(d){d.preventDefault();b.sl()});this.element.appendChild(this.da);this.Ha.add(t(X,function(d){b.element.style.fontSize=d.h.la.fontSize}));this.Ha.add(t(Tk,function(d){b.element.style.fontSize=d.fontSize}));this.tk=this.D(new Iu({Cc:this.J,zt:10,xu:207}))}p(Zu,G);k=Zu.prototype;k.dj=function(){Oa(this.Ha);this.tk.dj()};k.sl=function(){if(!io('You must be logged in to send a message. Click "OK" to login.')){this.sa();var a=this.J.value;this.J.value="";if(""!==a.trim()){var b=Bu(a);switch(b.messageType){case 2:this.mi.dl();break;case 1:this.mi.cl(b.gq);break;default:this.mi.al(a)}}this.J.blur()}};k.u=function(){this.da.style.width=this.element.clientWidth-10+"px";this.J.style.width=Math.max(0,this.da.clientWidth-18-Math.ceil(this.Pb.offsetWidth)-Math.ceil(this.Ta.offsetWidth)-4)+"px";this.sa();this.tk.element.style.bottom=this.da.offsetHeight+2+"px"};function $u(a){return a.cb.scrollTop<=a.cb.scrollHeight-(a.cb.offsetHeight+20)}k.sa=function(){this.cb.scrollTop=this.cb.scrollHeight-this.cb.offsetHeight};k.ja=function(a){var b=$u(this);this.Da.appendChild(a);for(var c=this.Da.childElementCount-1E3;0<c;--c){var d=this.Da.firstElementChild;null!==d&&this.Da.removeChild(d)}b||this.sa();w(this.ck,{eq:function(){return a.cloneNode(!0)}});this.Ke+=1;return a};k.Un=function(a){this.Da.removeChild(a)};k.yk=function(){return this.Ke};k.wn=function(a){return this.Ke-a};k.Tm=function(a){for(var b=[],c=l(this.Da.childNodes),d=c.next();!d.done;d=c.next())d=d.value,d.getAttribute("data-nick")===a&&b.push(d);a=l(b);for(b=a.next();!b.done;b=a.next())this.Da.removeChild(b.value)};k.clear=function(){for(this.Ke=0;null!==this.Da.firstChild;)this.Da.removeChild(this.Da.firstChild)};k.Sc=function(){this.J.focus()};k.df=function(){this.J.blur()};k.Kq=function(a){w(this.Lq,a)};function av(){Rl.call(this);var a=this;this.M=0;this.element.style.overflow="";this.w=new Zu({dl:function(){bv(a.i)},cl:function(b){w(Rk,b)},al:function(b){a.i.Xq(b);a.w.J.blur()}});this.D(this.w);t(X,function(b){a.i=b.i;a.w.ja(xu("Rules: No spamming. Do not insist the cam hosts to do as you please. Do not announce other rooms or websites that would conflict with this room. Avoid any argumentative and/or rude posts related to the cam viewing. Do not attempt to post your e-mail address in the public chat."));a.w.ja(xu("To go to next room, press CTRL+/. To send a tip, press CTRL+S or type \"/tip 25\". To disable emoticons or adjust autocomplete settings, click the 'Gear' tab above."));0<b.h.Xi.length&&a.w.ja(yu(b.h.a,b.h.Xi));Sl(a)});t(Wk,function(){a.w.clear()})}p(av,Rl);k=av.prototype;k.u=function(){Rl.prototype.u.call(this);this.w.sa()};k.sa=function(){this.w.sa()};k.Jg=function(){return 99<this.M?oe+" (99+)":0<this.M?oe+" ("+this.M+")":oe};k.Of=function(){return"chat-tab-default"};k.Sc=function(){this.w.Sc()};k.df=function(){this.w.df()};k.Og=function(){return document.activeElement===this.w.J};function cv(a){Tl(a)||(a.M+=1);a.Db()}k.show=function(){Rl.prototype.show.call(this);this.M=0;this.Db();this.w.sa();this.w.J.focus()};k.Tm=function(a){for(var b=[],c=l(this.w.Da.childNodes),d=c.next();!d.done;d=c.next())d=d.value,d.getAttribute("data-nick")===a&&b.push(d);a=l(b);for(b=a.next();!b.done;b=a.next())this.w.Da.removeChild(b.value)};k.Rh=function(){return this.w.J.value};k.Ci=function(a){this.w.J.value=a};k.Ig=function(){return this.w.J};k.rd=function(a,b){Rl.prototype.rd.call(this,a,b);U("FocusTab",{location:"chat"})};function dv(){this.xe=[]}dv.prototype.te=function(a){this.remove(a);this.xe.unshift(a)};function ev(a,b){a.remove(b);a.xe.push(b)}dv.prototype.remove=function(a){a=this.xe.indexOf(a);-1!==a&&this.xe.splice(a,1)};function fv(){this.Kh=new dv;this.Jh=new dv}fv.prototype.te=function(a){this.Jh.remove(a);this.Kh.te(a)};function gv(a){var b=a.Kh.xe.shift();void 0!==a.Xa&&a.Jh.te(a.Xa);return a.Xa=b}function hv(a){for(;;){var b=a.Jh.xe.pop();if(void 0===b)break;ev(a.Kh,b)}void 0!==a.Xa&&(ev(a.Kh,a.Xa),a.Xa=void 0)}fv.prototype.remove=function(a){this.Jh.remove(a);this.Kh.remove(a);this.Xa===a&&(this.Xa=void 0)};function iv(a,b){a.te(b);gv(a)};function jv(a){var b=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),e=document.createElement("img");e.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/icon-close-off.png";e.height=16;e.width=16;d.style.padding="5px 5px 0 10px";d.style.verticalAlign="top";d.style.display="inline-block";d.style.overflow="hidden";c.innerText=a.Bi.bd+" "+(0===a.Bi.M?"":"("+a.Bi.M+")");c.style.whiteSpace="nowrap";c.style.textOverflow="ellipsis";c.style.overflow="hidden";c.style.padding="5px 5px 5px 15px";c.style.display="inline-block";c.style.width=a.size-16-5-10-20+"px";b.style.color="#0a5a83";b.style.width=a.size+"px";b.onmouseenter=function(){e.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/icon-close-on.png";b.style.background="#7E7E7E";b.style.cursor="pointer";b.style.color="#e1e1e1"};b.onmouseleave=function(){e.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/icon-close-off.png";b.style.background="#e1e1e1";b.style.cursor="default";b.style.color="#0a5a83"};z("click",c,function(){a.onClick()});z("click",e,function(){a.rq()});b.appendChild(c);d.appendChild(e);b.appendChild(d);return b}
function kv(a){Rl.call(this);var b=this;this.Zp=a;this.M=0;this.jl=new q("incomingPm");this.Na=new Map;this.ya=new fv;this.element.style.overflow="";t(pn,function(c){b.Yd();void 0===b.Na.get(c.username)&&b.Jk(c.username,!1,c.cr);iv(b.ya,c.username);b.Db();b.hg();c.focus&&Sl(b)});t(X,function(c){b.i=c.i});t(Wk,function(){for(var c=l(b.Na.keys()),d=c.next();!d.done;d=c.next())b.ze(d.value)});t(qn,function(c){b.ze(c)})}p(kv,Rl);k=kv.prototype;k.sa=function(){var a=lv(this);void 0!==a&&a.w.sa()};k.Jg=function(){return 99<this.M?"PM (99+)":0<this.M?"PM ("+this.M+")":"PM"};k.Rh=function(){var a=lv(this);return void 0===a?"":a.w.J.value};k.Ci=function(a){var b=lv(this);void 0!==b&&(b.w.J.value=a)};k.rd=function(a){var b=this;U("FocusTab",{location:"PM",unread:this.M});if(1===this.Na.size)Sl(this),this.Yd(),iv(this.ya,this.Na.keys().next().value),this.hg();else{var c=document.createElement("div"),d=document.createElement("div"),e=document.createElement("div"),f=document.createElement("span"),g=document.createElement("img");g.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/red-arrow-down.gif";g.height=6;g.style.padding="0 0 2px 4px";f.innerText=ye;f.style.padding="0 5px 0 5px";f.style.whiteSpace="nowrap";f.style.fontFamily="UbuntuRegular, Helvetica, Arial, sans-serif";f.style.fontSize="12px";f.style.fontWeight="bold";f.style.color=F.Ja;e.style.minWidth="150px";e.appendChild(g);e.appendChild(f);f=document.createElement("hr");f.style.margin="4px";c.appendChild(e);c.appendChild(f);c.style.border="1px solid #6B6B6B";c.style.fontSize="12px";c.style.position="absolute";c.style.background="#e1e1e1";c.style.borderRadius="4px";c.style.display="none";c.style.padding="6px 0 6px 0";c.style.maxHeight="300px";c.style.overflow="auto";c.style.fontFamily="UbuntuRegular, Helvetica, Arial, sans-serif";var h=function(){document.body.removeChild(c);document.body.removeChild(d);X.removeListener(h)};t(X,h,!1);e=[];f=l(this.Na.keys());for(g=f.next();!g.done;g=f.next())e.push(g.value);f=e.sort();e={};f=l(f);for(g=f.next();!g.done;e={$j:e.$j},g=f.next())e.$j=g.value,g=this.Na.get(e.$j),void 0===g?x("can't find pmsession"):c.appendChild(jv({Bi:g,rq:function(m){return function(){b.ze(m.$j);h()}}(e),onClick:function(m){return function(){Sl(b);b.Yd();iv(b.ya,m.$j);b.hg();h()}}(e),size:250}));a=a.getBoundingClientRect();c.style.top=a.top+window.scrollY+"px";c.style.left=a.left+window.scrollX+"px";c.style.zIndex="999";document.body.appendChild(c);c.style.display="block";d.style.position="fixed";d.style.height="100%";d.style.width="100%";d.style.top="0";d.style.left="0";d.style.zIndex="998";d.onclick=h;document.body.insertBefore(d,c);window.document.documentElement.clientHeight<c.offsetTop+c.offsetHeight&&(c.style.height=window.document.documentElement.clientHeight-
a.top-18+"px");window.document.documentElement.clientWidth<c.offsetLeft+c.offsetWidth+8&&(c.style.left=window.document.documentElement.clientWidth-c.offsetWidth+window.scrollX-8+"px")}};k.rj=function(){return 0===this.Na.size};k.Of=function(){return"pm-tab-default"};k.Sc=function(){var a=lv(this);void 0===a?x("session undefined"):a.w.Sc()};k.df=function(){var a=lv(this);void 0===a?x("session undefined"):a.w.df()};k.Og=function(){var a=lv(this);return void 0===a?(x("session undefined"),!1):document.activeElement===a.w.J};k.u=function(){Rl.prototype.u.call(this);var a=lv(this);void 0!==a&&a.w.sa()};k.Jk=function(a,b,c){var d=this,e=this.Na.get(a);void 0===e?(e=eu(),e.innerHTML=sc(a),e.style.textAlign="center",e.style.width="auto",e.style.borderBottom="1px solid #acacac",e.style.margin="0 10px 5px 5px",e.style.display="none",e.style.color="#cfcfcf",e={w:new Zu({cl:function(f){w(Rk,f)},dl:function(){bv(d.i)},al:function(f){U("SendPrivateMessage",{username:a});d.ya.te(a);d.i.Vq(f,a)}}),M:0,gi:0,bd:a,kk:e},this.Na.set(a,e),e.w.ja(xu(Jf+" "+a)),e.w.ja(xu(vc())),!b&&c&&e.w.ja(zu(a)),e.w.element.style.display="none",this.D(e.w)):e.kk.style.display="";!0===b&&w(this.jl,{username:a,gn:1>e.gi});return e};k.ja=function(a,b,c){this.ya.te(c);var d=this.Jk(c,b!==this.i.username(),!1);this.i.username()===b||Tl(this)&&this.ya.Xa===c?iv(this.ya,c):(this.M+=1,d.M+=1,d.gi+=1,this.Db());return a=d.w.ja(a)};k.Aq=function(a){if(Tl(this)){var b=lv(this);void 0!==b&&b.w.ja(a)}};function lv(a){if(void 0!==a.ya.Xa)return a.Na.get(a.ya.Xa)}function mv(a){a.Yd();if(void 0===gv(a.ya))return!1;a.hg();return!0}
function nv(a){a.Yd();var b=a.ya,c=b.Jh.xe.shift();void 0!==b.Xa&&b.Kh.te(b.Xa);b.Xa=c;if(void 0===c)return!1;a.hg();return!0}k.ze=function(a){var b=this.Na.get(a);if(void 0!==b){var c=Tl(this)&&this.ya.Xa===a;this.ya.remove(a);b.w.dj();this.removeChild(b.w);this.Na.delete(a);c&&(mv(this)||this.Zp());this.M-=b.M;this.Db();w(qn,b.bd)}};k.Eh=function(){var a=lv(this);void 0===a?x("cannot close current tab"):this.ze(a.bd)};k.hg=function(){if(void 0===this.ya.Xa)x("no currentpmsession");else{var a=this.Na.get(this.ya.Xa);void 0===a?x("no pm session"):(a.w.element.style.display="block",a.w.W(),a.w.J.focus(),0<a.M&&(this.M-=a.M,a.M=0,this.Db()),w(Xk,a.bd),a.w.ja(a.kk))}};k.Yd=function(){var a=lv(this);void 0!==a&&(a.w.element.style.display="none")};k.Ig=function(){var a=lv(this);if(void 0!==a)return a.w.J};function ov(){var a=document.createElement("div");a.style.width="100%";a.style.boxSizing="border-box";a.style.overflow="auto";return a}function pv(){var a=document.createElement("div");a.style.width="100%";Sq(a);a.style.cursor="text";return a}function qv(){var a=document.createElement("form");a.style.display="inline-block";a.style.boxSizing="border-box";return a}
function rv(){var a=document.createElement("div");a.style.height="27px";a.style.backgroundColor="#ffffff";a.style.boxSizing="border-box";a.style.position="absolute";a.style.bottom="0";a.style.fontSize="12px";return a}function sv(){var a=document.createElement("input");a.style.outline="none";a.style.border="none";a.style.margin="6px";a.style.boxSizing="border-box";a.style.fontFamily="Helvetica, Arial, sans-serif";a.autocomplete="off";return a}
function tv(){var a=document.createElement("span");a.innerText=pe;a.style.fontSize="12px";a.style.color="#ffffff";a.style.padding="5px 8px 4px";a.style.marginRight="6px";a.style.backgroundColor="#eb3404";Sa()&&(a.style.background="linear-gradient(#f66d51, #eb3404)");a.style.borderRadius="4px";a.style.boxSizing="border-box";a.style.cursor="pointer";a.style.display="inline-block";return a}function uv(a){w(Lk,{});a.stopPropagation();a.preventDefault()}
function vv(){var a=document.createElement("span");a.innerText=qe;a.style.fontSize="12px";a.style.color="#ffffff";a.style.padding="5px 8px 4px";a.style.marginRight="2px";a.style.backgroundColor="#53843a";Sa()&&(a.style.background="linear-gradient(#87c667, #53843a)");a.style.borderRadius="4px";a.style.boxSizing="border-box";a.style.cursor="pointer";a.style.display="inline-block";z("mousedown",a,function(b){b.stopPropagation()});z("click",a,uv);t(X,function(b){a.style.display=!0===b.h.Mb?"inline-block":"none"});return a}function wv(){var a=document.createElement("img");a.width=15;a.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ico-smile.gif";a.style.cursor="pointer";a.style.display="inline-block";a.style.marginRight="6px";a.style.verticalAlign="text-bottom";return a}
function xv(a){G.call(this);var b=this;this.mi=a;this.ck=new q("addMessageHtml",{wf:!1});this.Lq=new q("removeMessageHtml",{wf:!1});this.Da=pv();this.cb=ov();this.Es=new q("formSubmitted");this.Ke=0;this.ym=new Map;this.Ha=new Ma;this.element.style.fontSize="12px";this.element.style.overflow="";this.cb.appendChild(this.Da);this.element.appendChild(this.cb);var c=qv();this.da=rv();this.J=sv();this.Ta=wv();this.Pb=tv();this.ih=vv();c.appendChild(this.J);this.da.appendChild(c);this.da.appendChild(this.Ta);this.da.appendChild(this.Pb);this.Ta.onload=function(){b.W()};z("mousedown",this.da,function(d){if(d.target===b.da||d.target===c)b.J.focus(),d.preventDefault()});z("submit",c,function(d){d.preventDefault();b.sl()});z("click",this.Pb,function(d){d.stopPropagation();b.sl()});z("click",this.Ta,function(d){d.stopPropagation();w(on,b.Ta)});this.da.appendChild(this.ih);this.element.appendChild(this.da);this.Ha.add(t(X,function(d){b.element.style.fontSize=d.h.la.fontSize}));this.Ha.add(t(Tk,function(d){b.element.style.fontSize=d.fontSize}));this.tk=this.D(new Iu({Cc:this.J,zt:2,xu:167}))}p(xv,G);k=xv.prototype;k.dj=function(){Oa(this.Ha);this.tk.dj()};k.sl=function(){if(!io('You must be logged in to send a message. Click "OK" to login.')){this.sa();var a=this.J.value;this.J.value="";if(""!==a.trim()){var b=Bu(a);switch(b.messageType){case 2:this.mi.dl();break;case 1:this.mi.cl(b.gq);break;default:this.mi.al(a)}}w(this.Es,a)}};k.u=function(){var a=$u(this);yv(this);this.da.style.width=this.element.clientWidth+"px";var b=this.da.clientWidth-18-6-Math.ceil(this.ih.offsetWidth+this.Pb.offsetWidth+this.Ta.offsetWidth)-4;b=Math.max(0,b);this.J.style.width=b+"px";a||this.sa();this.tk.element.style.bottom=this.da.offsetHeight+"px"};function yv(a){a.cb.style.height=Math.max(0,a.element.clientHeight-27)+"px"}k.sa=function(){this.cb.scrollTop=this.cb.scrollHeight;this.cb.scrollLeft=0};k.ja=function(a,b){var c=this.cb.scrollTop,d=$u(this);this.Da.appendChild(a);if(d)yv(this),this.cb.scrollTop=c;else{for(c=this.Da.childElementCount-1E3;0<c;--c)d=this.Da.firstElementChild,null!==d&&this.Da.removeChild(d);yv(this);this.sa()}void 0!==b&&this.ym.set(a,b);w(this.ck,{eq:function(){return void 0!==b?b():a.cloneNode(!0)}});this.Ke+=1;return a};k.Un=function(a){this.ym.delete(a);this.Da.removeChild(a)};k.yk=function(){return this.Ke};k.wn=function(a){return this.Ke-a};function zv(a){for(var b={},c=l(a.Da.childNodes),d=c.next();!d.done;b={Ul:b.Ul},d=c.next())b.Ul=d.value,w(a.ck,{eq:function(e){return function(){var f=a.ym.get(e.Ul);return void 0!==f?f():e.Ul.cloneNode(!0)}}(b),Ix:!1})}k.Sc=function(){this.J.focus()};k.Kq=function(a){w(this.Lq,a)};k.j=function(){this.Da.style.opacity="0"};k.show=function(){this.Da.style.opacity="1"};k.clear=function(){for(this.Ke=0;null!==this.Da.firstChild;)this.Da.removeChild(this.Da.firstChild);this.ym.clear()};var Av=new q("userCountUpdate");function Bv(){function a(){void 0!==b.parent&&b.parent.hk(0)}Rl.call(this);var b=this;this.Wj=0;this.Ql=[];this.element.style.overflow="hidden";this.element.style.fontFamily="Tahoma, Helvetica, Arial, sans-serif";this.element.style.boxSizing="border-box";this.element.style.paddingLeft="5px";this.element.style.position="static";this.Fa=document.createElement("div");this.Fa.style.width="100%";this.Fa.style.overflowX="hidden";this.Fa.style.overflowY="scroll";this.Fa.style.padding="6px";this.Fa.style.boxSizing="border-box";this.element.appendChild(this.Fa);this.da=Vu();var c=Uu();this.J=Wu();this.Ta=Yu();this.Ta.style.top="1px";this.J.onclick=a;this.J.onfocus=a;this.Pb=Xu();this.Pb.onclick=a;c.appendChild(this.J);this.da.appendChild(c);this.da.appendChild(this.Ta);this.da.appendChild(this.Pb);this.element.appendChild(this.da);this.Hh();z("click",this.Ta,function(){w(on,b.Ta)});var d=["privatewatching","groupwatching"];t(X,function(e){b.If=e.i;t(b.If.event.Qb,function(f){(0<=d.indexOf(f.Jd)||0<=d.indexOf(f.ua))&&setTimeout(function(){b.refresh(!1)},2E3)});t(b.If.event.Kj,function(f){b.Wj=f;w(Av,b.Wj)});void 0!==e.h.Cn&&b.clear(e.h.Cn)});z("click",this.Ta,function(){w(on,b.Ta)})}p(Bv,Rl);k=Bv.prototype;k.wi=function(){for(;null!==this.Fa.firstChild;)this.Fa.removeChild(this.Fa.firstChild)};k.Hh=function(){var a=document.createElement("div");a.innerText=Xe+"...";a.style.margin="8px 0";a.style.color=F.xc;this.Fa.style.fontSize="12px";this.Fa.appendChild(a)};k.Zo=function(){var a=this,b=document.createElement("div");b.style.margin="6px";b.style.cssFloat="right";var c=document.createElement("span");c.innerText=Ze;c.style.cursor="pointer";c.style.color="#0a5a83";c.onmouseenter=function(){c.style.textDecoration="underline"};c.onmouseleave=function(){c.style.textDecoration="none"};z("click",c,function(d){a.wi();a.Hh();a.refresh(!1);d.preventDefault()});b.appendChild(c);this.Fa.appendChild(b)};k.clear=function(a){this.Wj=a;w(Av,this.Wj);this.wi();this.Hh();this.u()};k.refresh=function(a){var b=this;a=void 0===a?!0:a;void 0!==this.If&&this.If.kp().then(function(c){b.Wj=c.lh;w(Av,c.lh);if(!a){b.wi();b.Zo();b.Ql=c.pg;for(var d=l(b.Ql),e=d.next();!e.done;e=d.next()){e=e.value;var f=document.createElement("div");f.style.width="100%";f.style.margin="2px 0";f.appendChild(zt(e));b.Fa.appendChild(f)}d=document.createElement("div");d.style.color=F.xc;d.innerText="+"+c.Hf+" anonymous user"+(1===c.Hf?"":"s");d.style.width="100%";d.style.margin="2px 0";d.style.whiteSpace="nowrap";b.Fa.appendChild(d);b.u()}}).catch(function(c){x("Error retrieving user list: "+c)})};k.u=function(){this.da.style.width=this.element.clientWidth-10+"px";this.J.style.width=Math.max(0,this.da.clientWidth-18-Math.ceil(this.Pb.offsetWidth)-Math.ceil(this.Ta.offsetWidth)-4)+"px";this.Fa.style.height=this.element.clientHeight-28-4+1+"px"};k.Jg=function(){return se+" ("+this.Wj+")"};k.Of=function(){return"users-tab-default"};k.Sc=function(){this.J.focus()};k.df=function(){this.J.blur()};k.Og=function(){return document.activeElement===this.J};k.sa=function(){this.Fa.scrollTop=this.Fa.scrollHeight-this.Fa.offsetHeight};k.Rh=function(){return this.J.value};k.Ci=function(a){this.J.value=a};k.Ig=function(){return this.J};k.rd=function(a,b){Rl.prototype.rd.call(this,a,b);U("FocusTab",{location:"userlist"});this.refresh(!1)};var Cv=new Set;function Dv(){for(var a=[],b=l(Cv),c=b.next();!c.done;c=b.next())a.push(c.value);y()&&window.localStorage.setItem("ignorelist",JSON.stringify({pg:a}))}
function Ev(){Ib("api/ignored_user_list/").then(function(a){y()&&(window.localStorage.setItem("ignorelist",a.responseText),window.localStorage.setItem("ignorelistlastfetch",Date.now().toString()));try{Cv=new Set(JSON.parse(a.responseText).users)}catch(b){x("Cannot parse ignore list: "+b)}}).catch(function(a){x("Network error retrieving ignore list: "+a)})};var Fv;t(X,function(a){Fv=a.i});function Gv(){zm.call(this);var a=this;this.element.style.visibility="hidden";this.element.style.position="fixed";this.element.style.width="410px";this.element.style.height="307px";this.element.style.backgroundColor="#ffffff";this.element.style.borderRadius="6px";this.element.style.padding="10px";this.element.style.fontSize="12px";this.element.style.boxShadow="0 0 18px rgba(0, 0, 0, 0.4)";this.R.style.backgroundColor="#000000";this.R.style.opacity="0.4";var b=document.createElement("img");b.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/close.svg";b.style.position="absolute";b.style.width="14px";b.style.height="14px";b.style.top="10px";b.style.right="10px";b.style.cursor="pointer";b.style.opacity="0.5";b.onclick=function(){a.j()};b.onmouseenter=function(){b.style.opacity="1"};b.onmouseleave=function(){b.style.opacity="0.5"};this.element.appendChild(b);var c=document.createElement("div");c.innerText=Kf;c.style.color="#0C6A93";c.style.fontSize="15px";c.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";this.element.appendChild(c);c=document.createElement("div");c.innerText=Qf;c.style.color=F.Xe;c.style.margin="10px 0";this.element.appendChild(c);c=document.createElement("div");c.style.display="inline-block";c.style.marginRight="10px";var d=document.createElement("div");d.innerText=Pf;d.style.color="#0C6A93";d.style.fontFamily="UbuntuRegular, Helvetica, Arial, sans-serif";d.style.fontWeight="bold";c.appendChild(d);this.Bc=document.createElement("select");this.Bc.multiple=!0;this.Bc.style.border="1px solid #b1b1b1";this.Bc.style.borderRadius="4px";this.Bc.style.marginTop="4px";this.Bc.style.width="200px";this.Bc.style.height="200px";this.Bc.style.padding="2px";this.Bc.onchange=function(){for(var e=a.Bc.selectedOptions.length,f=[].concat(ca(a.Bc.selectedOptions)),g=0;g<e;g+=1){var h=f[g];h.selected=!1;a.Jc.appendChild(h)}};c.appendChild(this.Bc);this.element.appendChild(c);c=document.createElement("div");c.style.display="inline-block";d=document.createElement("div");d.innerText=Mf;d.style.color="#0C6A93";d.style.fontFamily="UbuntuRegular, Helvetica, Arial, sans-serif";d.style.fontWeight="bold";c.appendChild(d);this.Jc=document.createElement("select");this.Jc.multiple=!0;this.Jc.style.border="1px solid #b1b1b1";this.Jc.style.borderRadius="4px";this.Jc.style.marginTop="4px";this.Jc.style.width="200px";this.Jc.style.height="200px";this.Jc.style.padding="2px";this.Jc.onchange=function(){for(var e=a.Jc.selectedOptions.length,f=[].concat(ca(a.Jc.selectedOptions)),g=0;g<e;g+=1){var h=f[g];h.selected=!1;a.Bc.appendChild(h)}};c.appendChild(this.Jc);this.element.appendChild(c);c=document.createElement("div");c.style.textAlign="right";d=document.createElement("span");d.innerText=Ke;d.style.display="inline-block";d.style.color="#ffffff";d.style.backgroundColor="#ff7002";Sa()&&(d.style.background="linear-gradient(180deg, #ff9735 0%, #ff9e36 50%, #ff7002 60%)");d.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";d.style.fontSize="14px";d.style.textShadow="#f18112 1px 1px 0px";d.style.padding="5px 15px 5px 15px";d.style.marginTop="10px";d.style.borderRadius="4px";d.style.cursor="pointer";d.onclick=function(){for(var e=l(a.Jc.options),f=e.next();!f.done;f=e.next())Fv.rr(f.value.value);a.j()};c.appendChild(d);this.element.appendChild(c);t(this.Xb,function(){a.j()})}p(Gv,zm);Gv.prototype.u=function(){this.element.style.left=(document.documentElement.clientWidth-this.element.offsetWidth)/2+"px";this.element.style.top=(document.documentElement.clientHeight-this.element.offsetHeight)/2+"px"};Gv.prototype.show=function(){for(;null!==this.Bc.firstChild;)this.Bc.removeChild(this.Bc.firstChild);for(;null!==this.Jc.firstChild;)this.Jc.removeChild(this.Jc.firstChild);for(var a=l(Cv),b=a.next();!b.done;b=a.next()){b=b.value;var c=document.createElement("option");c.innerText=b;c.value=b;this.Bc.appendChild(c)}this.element.style.visibility="visible";this.hb();this.W()};Gv.prototype.j=function(){this.Ua();this.element.style.visibility="hidden"};function Hv(a,b,c){jj.call(this);var d=this;this.En=b;this.bl=c;this.nb=document.createElement("input");this.$t=!1;this.au=new q("pickerImgLoaded");this.ir=a;this.element.style.visibility="hidden";this.element.style.width="auto";this.element.style.height="auto";this.element.style.opacity="0";Rq(this.element,"opacity 250ms");z("keydown",this.element,function(e){27===e.keyCode&&d.j()});t(this.Xb,function(){d.j()});Iv(this);Jv(this)}p(Hv,jj);function Iv(a){var b=document.createElement("canvas");b.style.cursor="crosshair";b.style.border="1px solid #000001";a.element.appendChild(b);var c=document.createElement("img");"https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/colorPicker.png?v=1".startsWith("/")||c.setAttribute("crossorigin","anonymous");c.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/colorPicker.png?v=1";c.onload=function(){b.width=c.width;b.height=c.height;b.onclick=function(){a.cn=a.nb.value;a.En(a.nb.value);a.j()};b.onmousemove=function(e){var f=b.getContext("2d");if(null!==f&&0<e.offsetX&&0<e.offsetY&&e.offsetX<b.clientWidth&&e.offsetY<b.clientHeight){var g=f.getImageData(e.offsetX,e.offsetY,1,1).data;e=a.nb;f=g[0];var h=g[1];g=g[2];(255<f||255<h||255<g||0>f||0>h||0>g)&&x("Invalid rgb color value: r: "+f+", g: "+h+", b: "+g);e.value="#"+("000000"+(f<<16|h<<8|g).toString(16)).slice(-6)}else a.nb.value=a.cn;a.bl(a.nb.value)};b.onmouseleave=function(){a.nb.value=a.cn;a.bl(a.nb.value)};var d=b.getContext("2d");null!==d&&d.drawImage(c,0,0,c.width,c.height);a.nb.style.width=b.width-8+"px";a.$t=!0;w(a.au,void 0)}}function Jv(a){a.nb.type="text";a.nb.style.display="block";a.nb.style.border="1px solid #000000";a.nb.style.padding="2px 4px";a.nb.style.position="relative";a.nb.style.top="-3px";a.nb.style.fontSize="12px";a.nb.oninput=function(){a.bl(a.nb.value)};z("keydown",a.nb,function(b){13===b.keyCode&&(a.En(a.nb.value),a.j())});a.element.appendChild(a.nb)}
Hv.prototype.u=function(){this.element.style.left=this.ir.offsetLeft+"px";this.element.style.top=this.ir.offsetTop+this.ir.offsetHeight+2+"px"};Hv.prototype.show=function(a){this.cn=a;if(this.$t)this.Uu();else this.au.once(this.Uu.bind(this))};Hv.prototype.Uu=function(){this.nb.value=this.cn;this.element.style.opacity="1";this.element.style.visibility="visible";this.hb();this.W()};Hv.prototype.j=function(){var a=this;this.Ua();this.element.style.opacity="0";setTimeout(function(){a.element.style.visibility="hidden"},250)};function Kv(a,b){G.call(this);var c=this;this.jb=document.createElement("input");this.button=document.createElement("div");this.onChange=function(){};void 0!==a&&(this.jb.checked=a,Lv(this),this.onChange());void 0!==b&&(this.onChange=b);this.element.appendChild(this.jb);this.element.appendChild(this.button);this.jb.type="checkbox";this.jb.style.position="absolute";this.jb.style.opacity="0";this.jb.style.margin="0";this.jb.style.padding="0";this.jb.style.width="100%";this.jb.style.height="100%";this.jb.style.border="none";this.jb.style.zIndex="-1";this.element.style.transition="border 0.4s ease 0s, box-shadow 0.4s ease 0s, background-color 1.4s ease 0s";this.element.style.width="50px";this.element.style.height="30px";this.element.style.borderRadius="20px";this.element.style.lineHeight="30px";this.element.style.position="relative";this.element.style.userSelect="none";this.element.style["-webkit-tap-highlight-color"]="transparent";this.element.style.display="inline-block";this.element.style.verticalAlign="middle";this.element.style.cursor="pointer";this.element.style.boxSizing="content-box";this.button.style.backgroundColor="white";this.button.style.height="30px";this.button.style.width="30px";this.button.style.top="0";this.button.style.borderRadius="100%";this.button.style.display="block";this.button.style.background="white";this.button.style.boxShadow="0 1px 4px rgba(0, 0, 0, 0.6)";this.button.style.transition="left 0.2s";this.button.style.overflow="hidden";this.button.style.position="relative";this.element.onclick=function(d){d.target!==c.jb&&(c.toggle(),c.jb.focus(),d.preventDefault())};this.jb.onchange=function(){c.jb.checked=c.jb.checked;Lv(c);c.onChange()};Lv(this)}p(Kv,G);Kv.prototype.toggle=function(){this.jb.checked=!this.jb.checked;this.onChange();Lv(this)};function Lv(a){a.jb.checked?(a.element.style.backgroundColor="rgb(246, 115, 0)",a.element.style.boxShadow="rgb(246, 115, 0) 0 0 0 16px inset",a.element.style.border="1px solid rgb(246, 115, 0)",a.button.style.left="20px"):(a.element.style.backgroundColor="rgb(233, 233, 233)",a.element.style.boxShadow="rgb(233, 233, 233) 0 0 0 16px inset",a.element.style.border="1px solid rgb(223, 223, 223)",a.button.style.left="0")}Kv.prototype.checked=function(){return this.jb.checked};function Mv(){}Mv.prototype.gy=function(a,b){a.innerText=b;a.style.fontWeight="bold";a.style.fontSize="12px";a.style.margin="14px 0 8px";a.style.backgroundColor=""};function Nv(a,b){b.style.margin="4px 0 7px 4px"}function Ov(a,b,c){b.innerText=c;b.style.fontSize="12px";b.style.display="inline-block";b.style.marginBottom="5px"}
function Pv(a,b){b.style.display="block";b.style.fontSize="12px";b.style.marginTop="0";b.style.border="1px solid #b1b1b1";b instanceof HTMLSelectElement&&(b.style.height="24px",b.style.width="100%")};function Qv(){G.call(this);var a=this;this.Pg=this.Tc=!1;this.form=document.createElement("form");this.Ch=document.createElement("input");this.ef=document.createElement("span");this.jj=document.createElement("select");this.Lm=document.createElement("select");this.Fm=document.createElement("select");this.xl=new Kv(!1,this.Hc.bind(this));this.Xm=document.createElement("select");this.An=document.createElement("select");this.Bn=document.createElement("select");this.gv=document.createElement("label");this.Zc=new tn({xb:16,Qs:"rgb(246, 115, 0)",os:"#cccccc",ys:"rgb(246, 115, 0)"});this.Fd=document.createElement("label");this.Wo=new q("chatSettingsSavedRequest");this.element.style.width="100%";this.element.style.overflow="auto";this.element.style.boxSizing="border-box";this.element.style.padding="11px";this.element.style.fontSize="12px";this.form.style.marginBottom="40px";this.form.style.maxWidth="400px";this.element.appendChild(this.form);var b=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),e=document.createElement("div"),f=document.createElement("div");this.form.appendChild(b);this.form.appendChild(c);this.form.appendChild(d);this.form.appendChild(e);this.form.appendChild(f);Rv(this);Rv(this);Rv(this);Rv(this);Rv(this);b.appendChild(Sv(this,Ai));b.appendChild(Tv(this));b.appendChild(Uv(this));b.appendChild(Vv(this));c.appendChild(Sv(this,Bi));c.appendChild(Wv(this));c.appendChild(Xv(this,document.createElement("label"),Kc,this.Fm,[{label:"Turn Off Autocomplete",value:"-1"},{label:"No Delay - 0s",value:"0"},{label:"Short - 0.5s",value:"500"},{label:"Medium - 1s",value:"1000"},{label:"Long - 1.5s",value:"1500"}]));d.appendChild(Sv(this,Ci));d.appendChild(Xv(this,document.createElement("label"),Lc,this.Xm,[{label:"Dark Purple (Tipped 1000 recently)",value:"darkpurple"},{label:"Light Purple (Tipped 250 recently)",value:"lightpurple"},{label:"Dark Blue (Tipped 50 recently)",value:"darkblue"},{label:"Light Blue (Owns or purchased tokens)",value:"lightblue"}]));e.appendChild(Sv(this,Di));e.appendChild(Xv(this,document.createElement("label"),Fi,this.An,Yv()));e.appendChild(Xv(this,document.createElement("label"),Gi,this.Bn,Yv()));f.appendChild(Sv(this,Ei));f.appendChild(Zv(this));f.appendChild($v(this));t(Tk,function(g){aw(a,g)});t(X,function(g){aw(a,g.h.la);a.N=g.h.a;a.Tc=g.h.Tc;a.Pg=g.h.Pg;a.Tc?(e.style.display="block",a.An.value=bw(a.la.Re),a.Bn.value=bw(a.la.Se)):e.style.display="none"})}p(Qv,G);function cw(a){void 0!==a.um&&a.um.j();void 0!==a.Fj&&a.Fj.j()}function dw(a,b){a.Ch.value=b;a.ef.style.color=b;a.ef.style.backgroundColor=b}k=Qv.prototype;k.Xt=function(a){io('You must be logged in to change chat color. Click "OK" to login.')?a.preventDefault():this.Pg?(void 0===this.um&&(this.um=this.D(new Hv(this.ef,this.En.bind(this),this.bl.bind(this)))),this.um.show(this.Ch.value)):(H("You must be a supporter to change chat color"),a.preventDefault())};k.En=function(a){dw(this,a);this.Hc()};k.bl=function(a){dw(this,a)};function Xv(a,b,c,d,e){var f=document.createElement("div");Nv(Rv(a),f);a.form.appendChild(f);f.appendChild(b);f.appendChild(d);if(void 0!==e&&d instanceof HTMLSelectElement){e=l(e);for(var g=e.next();!g.done;g=e.next()){g=g.value;var h=document.createElement("option");h.innerText=g.label;h.value=g.value;d.appendChild(h)}}Ov(Rv(a),b,c);Pv(Rv(a),d);f.onclick=function(m){io('You must be logged in to change chat settings. Click "OK" to login.')?m.preventDefault():d.focus()};d.onmousedown=function(m){io('You must be logged in to change chat settings. Click "OK" to login.')&&m.preventDefault()};z("change",d,function(){a.Hc()});return f}function Tv(a){var b=Xv(a,document.createElement("label"),Gc,a.ef);a.form.appendChild(b);b.appendChild(a.Ch);a.ef.style.width="20px";a.ef.style.height="20px";a.ef.style.border="1px solid "+F.Ja;a.ef.style.cursor="pointer";a.ef.style.verticalAlign="middle";a.ef.onmousedown=a.Xt.bind(a);b.onclick=a.Xt.bind(a);a.Ch.type="hidden";return b}
function Uv(a){function b(d){io('You must be logged in to change font family. Click "OK" to login.')?d.preventDefault():a.Pg||(d.preventDefault(),a.jj.blur(),H("You must be a supporter to change font family"))}var c=Xv(a,document.createElement("label"),Hc,a.jj,[{label:"Default",value:"default"},{label:"Arial",value:"Arial, Helvetica"},{label:"Bookman Old Style",value:"Bookman Old Style"},{label:"Comic Sans",value:'"Comic Sans MS", cursive'},{label:"Courier",value:'"Courier New"'},{label:"Lucida",value:"Lucida"},{label:"Palantino",value:"Palantino"},{label:"Tahoma",value:"Tahoma, Geneva"},{label:"Times New Roman",value:'"Times New Roman"'}]);a.jj.onmousedown=b.bind(a);c.onclick=b.bind(a);return c}function Vv(a){for(var b=[],c=9;20>=c;c+=1)b.push({label:c+"pt",value:c+"pt"});return Xv(a,document.createElement("label"),Ic,a.Lm,b)}function Wv(a){var b=Xv(a,document.createElement("label"),Jc,a.xl.element);a.xl.element.style.display="block";return b}
function Zv(a){var b=Xv(a,a.gv,Mc,a.Zc.element);ew(a);a.Dk(a.Zc.mf());t(a.Zc.zo,function(c){a.Dk(c)});t(a.Zc.Ao,a.Dk.bind(a));t(a.Zc.yo,function(c){a.Dk(c);a.Hc();U("ChangeTipVolume",{volume:c})});b.onclick=function(){};a.Zc.element.onmousedown=function(){};return b}k.Dk=function(a){this.gv.innerText=Mc+" ("+Math.round(a)+"%)"};function $v(a){var b=document.createElement("div");Nv(Rv(a),b);a.form.appendChild(b);b.appendChild(a.Fd);a.Fd.innerText=""+Nc;a.Fd.style.marginTop="16px";a.Fd.style.color="#0a5a83";a.Fd.style.cursor="pointer";a.Fd.onclick=function(){io('You must be logged in to edit ignored users. Click "OK" to login.')||(void 0===a.Fj&&void 0===a.Fj&&(a.Fj=new Gv),void 0!==a.Fj&&a.Fj.show())};a.Fd.onmouseenter=function(){a.Fd.style.textDecoration="underline"};a.Fd.onmouseleave=function(){a.Fd.style.textDecoration="none"};return b}function Sv(a,b){var c=document.createElement("div");Rv(a).gy(c,b);return c}
k.Hc=function(){var a=this;if(io('You must be logged in to change chat settings. Click "OK" to login.'))w(Tk,this.la);else{var b={color:this.Ch.value};A("choose_viewer_chat_color/",b).catch(function(c){a.Ch.value=a.la.op;x("Error saving user chat color: "+c)});b.font_family=decodeURIComponent(this.jj.value);b.font_size=this.Lm.value;b.show_emoticons=""+this.xl.checked();b.emoticon_autocomplete_delay=this.Fm.value;b.highest_token_color=this.Xm.value;b.viewer_tip_volume=""+Math.round(this.Zc.mf());this.Tc&&(b.enter_notify=this.An.value,b.leave_notify=this.Bn.value,this.la.Re=bn(this.An.value),this.la.Se=bn(this.Bn.value));A("api/viewerchatsettings/"+this.N+"/",b).then(function(){w(a.Wo,void 0);a.la.op=a.Ch.value;a.la.fontFamily=decodeURIComponent(a.jj.value);a.la.fontSize=a.Lm.value;a.la.Pj=a.xl.checked();a.la.Em=a.Fm.value;a.la.$s=a.Xm.value;a.la.$e=Math.round(a.Zc.mf());w(Tk,a.la)}).catch(function(c){x("Error saving user chat settings: "+c)})}};function ew(a){a.Zc.element.style.display="inline-block";a.Zc.element.style.border="none";a.Zc.element.style.verticalAlign="top";a.Zc.element.style.height="16px";a.Zc.element.style.width="100%"}k.u=function(){this.Zc.Ad()};function Rv(a){void 0===a.fs&&(a.fs=new Mv);return a.fs}function aw(a,b){a.la=b;dw(a,a.la.op);a.jj.value=a.la.fontFamily;a.Lm.value=a.la.fontSize;b=a.xl;b.jb.checked=a.la.Pj;Lv(b);a.Fm.value=a.la.Em;a.Xm.value=a.la.$s;wn(a.Zc,a.la.$e);a.Dk(a.la.$e)}
function Yv(){return[{label:"All Registered Users",value:"orga"},{label:"Mods, Fans, and Users With Tokens",value:"orgb"},{label:"Mods and Fans",value:"org"},{label:"No Users",value:"none"}]}function bw(a){switch(a){case 0:return"orga";case 1:return"orgb";case 2:return"org";case 3:return"none";default:return x("Invalid enter/leave setting: "+a),"orgb"}};function fw(){function a(){cw(b.rb);void 0!==b.parent&&b.parent.hk(0)}Rl.call(this);var b=this;this.rb=new Qv;this.element.style.color=F.Ja;this.element.style.fontSize="12px";this.element.style.fontFamily="Tahoma, Arial, Helvetica, sans-serif";this.element.style.boxSizing="border-box";this.da=Vu();this.da.style.position="absolute";this.da.style.left="5px";this.da.style.bottom="3px";var c=Uu();this.J=Wu();this.Ta=Yu();this.Ta.style.top="1px";this.J.onclick=a;this.J.onfocus=a;this.Pb=Xu();this.Pb.onclick=a;c.appendChild(this.J);this.da.appendChild(c);this.da.appendChild(this.Ta);this.da.appendChild(this.Pb);this.element.appendChild(this.da);var d=document.createElement("div");d.innerText=ne;d.style.position="absolute";d.style.top="30px";d.style.right="10px";d.style.fontFamily="UbuntuRegular, Helvetica, Arial, sans-serif";d.style.color="#000000";d.style.backgroundColor="#d8deea";d.style.border="1px solid #acacac";d.style.borderRadius="4px";d.style.padding="8px 12px";d.style.opacity="0";this.element.appendChild(d);z("click",this.Ta,function(){w(on,b.Ta)});t(Du.fd,function(){"split"===Z()&&(fj(b,b.rb),b.rb.element.style.margin="0",b.rb.Fd.style.color="#0a5a83")});var e;t(this.rb.Wo,function(){clearTimeout(e);Rq(d,"250ms");d.style.opacity="1";e=setTimeout(function(){Rq(d,"1000ms");d.style.opacity="0"},3E3)})}p(fw,Rl);k=fw.prototype;k.u=function(){"split"===Z()&&(this.da.style.width=this.element.clientWidth-10+"px",this.J.style.width=Math.max(0,this.da.clientWidth-18-Math.ceil(this.Pb.offsetWidth)-Math.ceil(this.Ta.offsetWidth)-4)+"px",this.rb.element.style.height=this.element.clientHeight-28-4+1+"px")};k.Jg=function(){return"&nbsp;"};k.rp=function(){return"url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ico-preferences.png)"};k.Of=function(){return"settings-tab-default"};k.Sc=function(){this.J.focus()};k.df=function(){this.J.blur()};k.Og=function(){return document.activeElement===this.J};k.sa=function(){this.rb.element.scrollTop=this.rb.element.scrollHeight-this.rb.element.offsetHeight};k.Rh=function(){return this.J.value};k.Ci=function(a){this.J.value=a};k.Ig=function(){return this.J};k.rd=function(a,b){Rl.prototype.rd.call(this,a,b);U("FocusTab",{location:"chatSettings"})};function gw(){var a=this;this.Pn=new Map;this.Nr=function(b){a.Pn.set(b,(new Date).getTime())};this.ru=function(b){a.Pn.delete(b)};setInterval(function(){for(var b=(new Date).getTime(),c=l(a.Pn),d=c.next();!d.done;d=c.next())d=d.value,5E3<b-d[1]&&a.ru(d[0])},5E3);t(Xk,function(b){a.ru(b)})}function hw(a,b){var c=a.Pn.get(b);if(void 0!==c&&5E3>(new Date).getTime()-c)return a.Nr(b),!1;a.Nr(b);return!0};function iw(){Il.call(this);var a=this;this.Rb.style.padding="1px 3px 0 3px";this.Rb.style.backgroundColor="#7f7f7f";this.Rb.style.boxSizing="border-box";this.Rb.style.borderBottom="";this.window.style.width="";this.window.style.position="";this.element.style.display="inline-block";this.element.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";this.element.style.backgroundColor="#ffffff";this.element.style.borderRadius="4px 4px 0 0";this.element.style.border="1px solid #acacac";this.element.style.margin="0 0 6px 8px";this.element.style.boxSizing="border-box";this.element.style.overflow="";Pl(this,{position:"",lineHeight:"1.2",height:"13px",borderRadius:"4px 4px 0 0",textDecoration:"none",fontSize:"11px",marginRight:"2px",padding:"3px 8px",backgroundRepeat:"no-repeat",backgroundPosition:"center",minWidth:"16px"});Ql(this,{color:"#dc5500"});this.Y=Jl(this,new av);this.tv=Jl(this,new Bv);this.za=Jl(this,new kv(function(){Ol(a,a.Y)}));this.Zn=Jl(this,new fw);Ol(this,this.Y);t(X,function(c){c.h.userName!==c.h.a&&w(pn,{username:c.h.a,focus:!1,cr:c.h.yn});t(c.i.event.yi,function(d){cv(a.Y);a.Y.w.ja(qu(d))});t(c.i.event.U,function(d){a.Y.w.ja(su(d));d.X&&a.za.Aq(su(d))});t(c.i.event.si,function(d){a.za.ja(qu(d),d.vb.username,d.uq)});t(c.i.event.Gj,function(d){a.Y.Tm(d.username);a.Y.w.Kq(d.username);a.za.ze(d.username)});t(c.i.event.Qb,function(d){"notconnected"===d.Jd&&a.Bg===a.tv&&a.tv.refresh(!1)});t(c.i.event.fk,function(d){c.i.Wi&&a.Y.w.ja(xu("DEBUG: "+d))})});t(rn,function(c){c?a.Y.w.ja(xu("Debug mode enabled. Type /debug again to disable.")):a.Y.w.ja(xu("Debug mode disabled."))});t(Av,function(){a.Db()});var b=new gw;t(this.za.jl,function(c){c.gn&&hw(b,c.username)&&a.Y.w.ja(su({V:[[{Xc:1,message:"New private conversation from "+c.username+" "},{Xc:1,message:"(Press TAB to cycle through your conversations)",qa:"#cd0000",weight:"700"}]],X:!1}))});t(pn,function(){setTimeout(function(){a.W()},0)})}p(iw,Il);k=iw.prototype;k.u=function(){var a=this;Il.prototype.u.call(this);var b=this.element.clientHeight-28-this.Rb.offsetHeight-8;this.Y.w.cb.style.height=b+"px";setTimeout(function(){var c=lv(a.za);void 0!==c&&(c.w.cb.style.height=b+"px")},0)};k.hk=function(a){var b="";void 0!==this.Bg&&(b=this.Bg.Rh());a>=this.children().length?x("invalid tab index"):(this.Bg=this.children()[a],this.Bg.Ci(b),Nl(this))};k.wb=function(){return Il.prototype.wb.call(this)};k.children=function(){return Il.prototype.children.call(this)};k.ep=function(){cw(this.Zn.rb);if(Il.prototype.wb.call(this)===this.Y){if(!this.za.rj()){Ol(this,this.za);var a=this.za;a.Yd();hv(a.ya);mv(this.za)||x("no pmSessions")}}else 0<this.Y.M?Ol(this,this.Y):mv(this.za)||Ol(this,this.Y);this.W()};function jw(a){cw(a.Zn.rb);if(Il.prototype.wb.call(a)===a.Y){if(!a.za.rj()){Ol(a,a.za);var b=a.za;b.Yd();for(b=b.ya;;){var c=b.Kh.xe.pop();if(void 0===c)break;ev(b.Jh,c)}void 0!==b.Xa&&(ev(b.Jh,b.Xa),b.Xa=void 0);nv(a.za)||x("no pmSessions")}}else nv(a.za)||Ol(a,a.Y)}k.Eh=function(){Il.prototype.wb.call(this)===this.za&&this.za.Eh()};var kw=new q("emoticonAdded");function lw(a){function b(f,g){var h=document.createElement("img");h.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/emoticons/"+f+"."+(void 0===g?"gif":g);h.style.margin="1px";h.style.cursor="pointer";h.onclick=function(){mw(c,f);c.j()};d.appendChild(h)}jj.call(this);var c=this;this.ha=a;this.element.style.visibility="hidden";this.element.style.width="356px";this.element.style.height="146px";this.element.style.backgroundColor="#ffffff";this.element.style.border="2px solid #0b5d81";this.element.style.borderRadius="4px";this.element.style.top="";this.element.style.right="0";this.element.style.overflow="";this.element.appendChild(Lj("313px"));z("keydown",document.documentElement,function(f){27===f.keyCode&&c.j()});a=document.createElement("div");a.innerText=Le;a.style.color="#0b5d81";a.style.backgroundColor="#e0e0e0";a.style.fontSize="15px";a.style.fontFamily="UbuntuBold, Arial, Helvetica, sans-serif";a.style.fontWeight="bold";a.style.padding="6px";this.element.appendChild(a);var d=document.createElement("div");d.style.width="100%";d.style.padding="8px";d.style.boxSizing="border-box";this.element.appendChild(d);b("lmao");b("oo","png");b("kissy","png");b("gangsta","png");b("yawn");b("innocent");b("help");b("rofl");b("bow");b("upset");b("what");b("hearts");b("yes");b("thumbsup");b("hello");b("crazy");b("smoke");b("bounce");b("angel");b("woot");b("wink");b("thumbup");b("thumbdown");b("smile");b("ohmy");b("mellow");b("roll");b("huh");b("drool");b("cry");b("cool");b("confused");b("curse");b("blush");var e=document.createElement("a");e.innerHTML=Me+" &#9656;";e.href="/emoticons/";e.style.fontSize="13px";e.style.cssFloat="right";e.style.color="#dc5500";e.style.cursor="pointer";e.style.margin="12px 4px";e.onmouseenter=function(){e.style.textDecoration="underline"};e.onmouseleave=function(){e.style.textDecoration="none"};e.onclick=function(){ll(e.href,"_blank","height=615, width=850");c.j();return!1};d.appendChild(e);t(this.Xb,function(){c.j()})}p(lw,jj);function mw(a,b){a=a.ha.wb().Ig();":"===b[0]&&(b=b.slice(1));void 0!==a&&(a.value=""===a.value?":"+b+" ":a.value+" :"+b+" ",w(kw,void 0))}lw.prototype.u=function(){if(void 0===this.jp)this.j();else{var a=this.ha.wb().Ig();void 0!==a&&(this.element.style.bottom=a.offsetHeight+20+"px",this.element.style.left=this.jp.offsetLeft+this.jp.offsetWidth-this.element.offsetWidth+25+"px")}};lw.prototype.show=function(a){this.jp=a;this.hb();this.u();this.element.style.visibility="visible"};lw.prototype.j=function(){this.Ua();this.element.style.visibility="hidden"};function nw(a){if(void 0===a)return ow();a={name:N(a,"name",!1),jy:N(a,"template",!1),As:O(a,"row1_label",!1),Fu:O(a,"row2_label",!1),cv:O(a,"row3_label",!1),Bs:O(a,"row1_value",!1),Gu:O(a,"row2_value",!1),dv:O(a,"row3_value",!1)};return ow(a)}
function ow(a){var b=document.createElement("tr"),c=document.createElement("tr"),d=document.createElement("tr");if(void 0!==a){var e=a.jy,f=[],g=[];if(""!==a.As){var h=document.createElement("th");h.style.padding="2px";h.innerText=a.As;f.push(h);b.appendChild(h);h=document.createElement("td");h.innerText=a.Bs;b.appendChild(h);g.push(h);h.style.width="50%";h.style.paddingLeft="10px"}else h=document.createElement("td"),h.innerText=a.Bs,h.colSpan=2,g.push(h),b.appendChild(h),h.style.textAlign="center";""!==a.Fu?(h=document.createElement("th"),h.style.padding="2px",h.style.fontWeight="bold",h.innerText=a.Fu,f.push(h),c.appendChild(h),h=document.createElement("td"),h.innerText=a.Gu,g.push(h),c.appendChild(h),h.style.width="50%",h.style.paddingLeft="10px"):(h=document.createElement("td"),h.innerText=a.Gu,h.colSpan=2,g.push(h),c.appendChild(h),h.style.textAlign="center");""!==a.cv?(h=document.createElement("th"),h.style.padding="2px",h.innerText=a.cv,f.push(h),d.appendChild(h),h=document.createElement("td"),h.innerText=a.dv,g.push(h),d.appendChild(h),h.style.width="50%",h.style.paddingLeft="10px"):(h=document.createElement("td"),h.innerText=a.dv,h.colSpan=2,g.push(h),d.appendChild(h),h.style.textAlign="center");a=l(f);for(h=a.next();!h.done;h=a.next())h=h.value,h.style.overflow="hidden",h.style.display="block",h.style.cssFloat="right",h.style.color="#494949";a=l(g);for(h=a.next();!h.done;h=a.next())h.value.style.color="#494949";if("3_rows_of_labels"===e)f[0].style.display="block",f[0].style.color="#057205",f[0].style.margin="0px auto",f[0].style.height="16px",f[0].style.fontWeight="bold";else if("3_rows_11_21_31"===e||"3_rows_11_22_32"===e)g[0].style.color="#0b5d81",g[0].style.fontWeight="bold"}else e=document.createElement("td"),b.appendChild(e.cloneNode()),c.appendChild(e.cloneNode()),d.appendChild(e.cloneNode());b.style.backgroundColor="#d5ebf8";b.style.height="33.3333%";c.style.backgroundColor="#f2f9fd";c.style.height="33.3333%";d.style.backgroundColor="#d5ebf8";d.style.height="33.3333%";e=document.createElement("table");e.style.fontSize="11px";e.style.lineHeight="1.7em";e.style.width="100%";e.style.height="100%";e.style.borderCollapse="collapse";e.style.margin="0 auto";e.style.color="#000000";e.appendChild(b);e.appendChild(c);e.appendChild(d);return e};function pw(a){a=new L(a);return{color:O(a,"color",!1),filename:O(a,"filename",!1),fontFamily:O(a,"font-family",!1),fontSize:O(a,"font-size",!1),fontStyle:O(a,"font-style",!1),fontWeight:O(a,"font-weight",!1),height:O(a,"height",!1),oj:O(a,"image_url",!1),xt:O(a,"type",!1),left:O(a,"left",!1),maxWidth:O(a,"max-width",!1),opacity:O(a,"opacity",!1),text:O(a,"text",!1),textAlign:O(a,"text-align",!1),top:O(a,"top",!1),width:O(a,"width",!1)}}
function qw(a){var b=new L(a);a={backgroundColor:O(b,"background-color",!1),color:O(b,"color",!1),textAlign:O(b,"text-align",!1),fontStyle:O(b,"font-style",!1),fontWeight:O(b,"font-weight",!1)};var c=uk(b,"col_1",!1);""!==c&&(a.O=rw(c));b=uk(b,"col_2",!1);""!==b&&(a.data=rw(b));return a}
function rw(a){a=new L(a);return{backgroundColor:O(a,"background-color",!1),color:O(a,"color",!1),left:O(a,"left",!1),textAlign:O(a,"text-align",!1),fontStyle:O(a,"font-style",!1),fontWeight:O(a,"font-weight",!1),value:O(a,"value",!1),width:O(a,"width",!1)}}
function sw(a){var b=document.createElement("span");b.style.position="absolute";b.style.whiteSpace="nowrap";b.style.overflow="hidden";b.style.textOverflow="ellipsis";b.style.lineHeight="normal";b.style.color=a.color;b.style.fontFamily=a.fontFamily;b.style.fontSize=a.fontSize;b.style.fontStyle=a.fontStyle;b.style.fontWeight=a.fontWeight;b.style.left=a.left;b.style.maxWidth=a.maxWidth;b.innerText=a.text;b.style.textAlign=a.textAlign;b.style.top=a.top;b.style.width=a.width;return b}
function tw(a){var b=document.createElement("img");b.style.position="absolute";b.alt=a.filename;b.style.height=a.height;b.src=a.oj;b.style.left=a.left;b.style.top=a.top;b.style.width=a.width;return b}
function uw(a){var b=document.createElement("div");b.style.height="23px";b.style.lineHeight="23px";b.style.width="270px";if(void 0!==a){b.style.backgroundColor=a.backgroundColor;b.style.color=a.color;b.style.fontStyle=a.fontStyle;b.style.fontWeight=a.fontWeight;b.style.textAlign=a.textAlign;if(void 0!==a.O){var c=vw(a.O);b.appendChild(c)}void 0!==a.data&&(a=vw(a.data),b.appendChild(a))}return b}
function vw(a){var b=document.createElement("div");b.style.position="absolute";b.style.whiteSpace="nowrap";b.style.overflow="hidden";b.style.textOverflow="ellipsis";b.style.position="absolute";b.style.backgroundColor=a.backgroundColor;b.style.color=a.color;b.style.fontStyle=a.fontStyle;b.style.fontWeight=a.fontWeight;b.style.textAlign=a.textAlign;b.innerText=a.value;b.style.width=a.width;b.style.left=a.left;return b};function ww(){G.call(this);var a=this;this.Jn=new q("panelUpdated");this.Kg=!1;this.element.style.display="inline-block";this.element.style.paddingLeft="5px";this.element.style.paddingTop="3px";this.element.style.paddingRight="5px";this.element.style.paddingBottom="3px";this.element.style.position="";this.element.style.width="270px";this.element.style.height="69px";this.element.style.textShadow="none";this.element.style.fontSize="11px";this.element.style.lineHeight="1.7em";t(X,function(b){xw(a,b.i.a());t(b.i.event.Sn,function(){xw(a,b.i.a())});t(b.i.event.pm,function(){xw(a,b.i.a())})});this.yh=nw();this.element.appendChild(this.yh)}p(ww,G);function xw(a,b){Ib("api/panel_context/"+b+"/").then(function(c){0<a.element.children.length&&a.element.removeChild(a.yh);if(""===c.responseText)a.Kg=!1,a.yh=nw();else{a.Kg=!0;c=new L(c.responseText);var d=N(c,"template",!1);switch(d){case "image_template":N(c,"name",!1);N(c,"template",!1);d=pk(c,"layers");if(void 0!==d&&d instanceof Array&&0!==d.length){var e=[];d=l(d);for(var f=d.next();!f.done;f=d.next())e.push(pw(JSON.stringify(f.value)))}d=uk(c,"table",!1);if(0!==d.length){d=new L(d);var g={backgroundColor:O(d,"background-color",!1),color:O(d,"color",!1),textAlign:O(d,"text-align",!1),fontStyle:O(d,"font-style",!1),fontWeight:O(d,"font-weight",!1)};f=uk(d,"row_1",!1);""!==f&&(g.Ex=qw(f));f=uk(d,"row_2",!1);""!==f&&(g.Gx=qw(f));d=uk(d,"row_3",!1);""!==d&&(g.Fx=qw(d))}d=document.createElement("div");d.style.position="absolute";d.style.height="69px";d.style.width="270px";d.style.backgroundColor="white";d.style.overflow="hidden";d.style.font="1em 'UbuntuRegular', Arial, Helvetica, sans-serif";if(void 0!==e)for(e=l(e),f=e.next();!f.done;f=e.next())f=f.value,"text"===f.xt?d.appendChild(sw(f)):"image"===f.xt&&d.appendChild(tw(f));if(void 0!==g){e=g;g=document.createElement("div");g.style.height="69px";g.style.width="270px";g.style.backgroundColor=e.backgroundColor;g.style.color=e.color;g.style.fontStyle=e.fontStyle;g.style.fontWeight=e.fontWeight;g.style.textAlign=e.textAlign;e=l([e.Ex,e.Gx,e.Fx]);for(f=e.next();!f.done;f=e.next())f=f.value,f=void 0!==f?uw(f):uw(),g.appendChild(f);d.appendChild(g)}a.yh=d;break;case "3_rows_11_21_31":case "3_rows_11_22_32":case "3_rows_12_21_31":case "3_rows_12_22_31":case "3_rows_of_labels":a.yh=nw(c);break;default:a.Kg=!1,a.yh=nw(),u("template of type ("+d+"): is not supported")}T(c)}a.element.appendChild(a.yh);w(a.Jn,void 0)}).catch(function(c){x("Error fetching app panel ("+c+")")})};var yw=new q("switchedToHLS");new q("openTipCalloutRequest");new q("loadRoomRequest");new q("userPanelRequest");new q("sendMessageInputFocus");new q("sendMessageInputBlur");new q("userMenuPmClicked");var zw;t(X,function(a){zw=a.i.a()});var Aw={"---":"---",underage:Eg,advertising:Fg,abusive:Gg,intoxicated:Hg,"large toy":Ig,"offline payments":Jg,"public broadcast":Kg,"service uniform":Lg,sleeping:Mg,gender:Ng,other:Og};function Bw(){G.call(this);var a=this;this.sm=new q("closeReportAbuseRequest");this.element.style.color="#454545";this.element.style.fontFamily="UbuntuBold, Arial, Helvetica, sans-serif";this.element.style.fontSize="11px";var b=document.createElement("form"),c=document.createElement("div");this.wg=document.createElement("label");this.wg.style.color=F.Ja;this.wg.style.margin="6px";this.wg.htmlFor="abuse-category";this.wg.innerText=Cg;c.appendChild(this.wg);this.ye=document.createElement("select");this.ye.id="abuse-category";this.ye.style.margin="6px";this.ye.style.boxSizing="border-box";for(var d in Aw){var e=document.createElement("option");e.value=d;e.innerText=Aw[d];this.ye.appendChild(e)}c.appendChild(this.ye);b.appendChild(c);c=document.createElement("div");c.style.paddingTop="6px";d=document.createElement("label");d.style.margin="6px";d.htmlFor="abuse-comments";d.innerText=Pg;c.appendChild(d);this.Oc=document.createElement("textarea");this.Oc.id="abuse-comments";this.Oc.maxLength=255;this.Oc.style.width="100%";this.Oc.style.resize="none";this.Oc.style.margin="6px";this.Oc.style.padding="4px";this.Oc.style.border="1px solid #4b4c4b";this.Oc.style.borderRadius="4px";this.Oc.style.boxSizing="border-box";this.Oc.style.display="block";c.appendChild(this.Oc);b.appendChild(c);this.bj=document.createElement("div");this.bj.style.cssFloat="right";this.bj.style.fontFamily="UbuntuMedium, Arial, Helvetica, sans-serif";c=document.createElement("span");c.innerText=Wg;c.style.color="#ffffff";c.style.padding="3px 6px 4px 5px";c.style.marginRight="6px";c.style.backgroundColor="#eb3404";Sa()&&(c.style.background="linear-gradient(#f66d51, #eb3404)");c.style.borderRadius="4px";c.style.boxSizing="border-box";c.style.cursor="pointer";c.style.display="inline-block";d=document.createElement("span");d.innerText=Bg;d.style.color="#ffffff";d.style.padding="3px 6px 4px 5px";d.style.marginRight="6px";d.style.backgroundColor="#383838";Sa()&&(d.style.background="linear-gradient(#8b8b8b, #686868)");d.style.borderRadius="4px";d.style.boxSizing="border-box";d.style.cursor="pointer";d.style.display="inline-block";this.bj.appendChild(d);this.bj.appendChild(c);b.appendChild(this.bj);z("click",c,function(f){f.preventDefault();"other"===a.ye.value&&""===a.Oc.value?H("Please add a description of the abuse being reported."):"---"===a.ye.value?H("Please choose a category."):(a.Wq().then(function(g){g.success?H("Your abuse report has been submitted."):void 0!==g.Fp&&H(g.Fp)}).catch(function(g){403===g.Ud.status?H(g.Ud.responseText):H("Error sending abuse report ("+g+")")}),w(a.sm,void 0))});z("click",d,function(){w(a.sm,void 0)});this.element.appendChild(b)}p(Bw,G);Bw.prototype.u=function(){this.ye.style.width=Math.max(0,this.element.clientWidth-12-(this.wg.offsetWidth+2*this.wg.offsetLeft))+"px";this.Oc.style.width=Math.max(0,this.element.clientWidth-12)+"px";this.Oc.style.height=Math.max(0,this.element.clientHeight-(this.bj.offsetHeight+4*this.wg.offsetHeight+6+10))+"px"};Bw.prototype.Wq=function(){var a=this;return new Promise(function(b,c){return A("abuse/report/"+zw+"/",{category:a.ye.value,additional_comments:a.Oc.value}).then(function(d){d=new L(d.responseText);var e={success:"success"===N(d,"result"),Fp:M(d,"html")};T(d);b(e)}).catch(function(d){c(d)})})};function Cw(){jj.call(this);var a=this;this.element.style.visibility="hidden";this.element.style.width="350px";this.element.style.height="203px";this.element.style.backgroundColor="#ffffff";this.element.style.border="2px solid #0b5d81";this.element.style.borderRadius="4px";this.element.style.overflow="";z("keydown",this.element,function(b){27===b.keyCode&&a.j()});this.element.appendChild(Kj("#0b5d81","#e0e0e0","304px"));this.O=document.createElement("div");this.O.innerText=ue;this.O.style.color="#0b5d81";this.O.style.backgroundColor="#e0e0e0";this.O.style.fontSize="15px";this.O.style.fontFamily="UbuntuBold, Arial, Helvetica, sans-serif";this.O.style.padding="6px";this.element.appendChild(this.O);t(this.Xb,function(){a.j()})}p(Cw,jj);Cw.prototype.show=function(a){var b=this;this.Ff=this.D(new Bw);t(this.Ff.sm,function(){b.j()});this.Qe=a;this.hb();this.u();this.Ff.element.style.height=Math.max(0,this.element.clientHeight-this.O.clientHeight)+"px";this.element.style.visibility="visible";this.Ff.ye.focus();this.W()};Cw.prototype.u=function(){void 0===this.Qe?this.j():(this.element.style.top=this.Qe.offsetHeight-4+"px",this.element.style.left=this.Qe.offsetLeft+this.Qe.offsetWidth-this.element.offsetWidth-5+"px")};Cw.prototype.j=function(){this.removeChild(this.Ff);this.Ua();this.element.style.visibility="hidden"};function Dw(a){G.call(this);var b=this;this.C=a;this.state={videoWidth:500,videoHeight:300};this.Wf=!1;Ew(this);this.element.style.display="inline-block";this.element.style.width="8px";this.element.style.boxSizing="border-box";z("mousedown",this.element,function(c){c.preventDefault();b.C.element.onmousemove=function(d){d=d.pageX-a.Qa.element.getBoundingClientRect().left-b.element.offsetWidth/2;b.Ad(d);b.C.W()};b.C.element.onmouseup=function(){Fw(b)};b.C.element.onmouseleave=function(){Fw(b)};b.Wf=!0});z("touchmove",this.element,function(c){c.preventDefault();1===c.targetTouches.length&&(b.C.element.ontouchmove=function(){var d=c.targetTouches.item(0);null!==d&&(d=d.pageX-a.Qa.element.getBoundingClientRect().left-b.element.offsetWidth/2,b.Ad(d),b.C.W())},b.C.element.ontouchend=function(){Fw(b)},b.Wf=!0)});this.element.onmouseenter=function(){b.element.style.backgroundImage='url("https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/resize.gif")'};this.element.onmouseleave=function(){b.Wf||(b.element.style.backgroundImage='url("https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/resize_arrows.gif")')};setTimeout(function(){b.element.style.cursor=Gw(b);b.element.style.background='#e0e0e0 url("https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/resize_arrows.gif") no-repeat left center';b.Ad();Fw(b)},0);t(Du.fd,function(){"split"===Z()&&(Ew(b),b.Ad())})}p(Dw,G);Dw.prototype.Ad=function(a){a=void 0===a?this.state.videoWidth:a;a=Math.max(a,502);a=Math.min(Hw(this),a);var b=Z();switch(b){case "split":this.C.Qa.element.style.width=a+"px";var c=a*(this.C.Qa.b.bb?.5625:.75)+this.C.Qa.b.A.Ub();this.C.Qa.b.element.style.height=c+"px";this.C.ha.element.style.height=c+Iw(this.C.Qa)+"px";this.element.style.height=c+Iw(this.C.Qa)+"px";this.C.ha.element.style.width=this.C.element.clientWidth-a-this.element.offsetWidth-2*this.C.ah+"px";break;case "theater":this.C.Qa.element.style.width=this.C.element.clientWidth-2*this.C.ah+"px";break;case "fullscreen":this.C.Qa.element.style.width=window.innerWidth+"px";break;case "videoonly":break;default:x("Unexpected VideoMode: "+b)}this.state.videoWidth=a;"split"===b&&(a=Gw(this),this.element.style.cursor=a,this.C.element.style.cursor=a)};function Fw(a){"split"===Z()&&(a.Hc(),a.C.element.onmousemove=function(){},a.C.element.onmouseup=function(){},a.C.element.onmouseleave=function(){},a.C.element.ontouchend=function(){},a.C.element.ontouchmove=function(){},a.C.element.style.cursor="",a.element.style.backgroundImage='url("https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/resize_arrows.gif")',a.Wf=!1)}function Hw(a){return"split"===Z()?a.C.element.clientWidth-250:a.C.element.clientWidth-2*a.C.ah}
function Gw(a){var b=a.C.Qa.element.offsetWidth;return 500>=b?"e-resize":b>=Hw(a)?"w-resize":"ew-resize"}
function Ew(a){if(y()){var b=window.localStorage.getItem("defaultVideoWidth");if(null!==b){b=JSON.parse(b);a.state={videoWidth:b.videoWidth,videoHeight:b.videoHeight};return}}if("split"===Z()){b=window.innerWidth;if(Hw(a)>b/2){var c=b/2;b=c*(a.C.Qa.b.bb?.5625:.75)}else b=window.innerHeight-166,c=b/(a.C.Qa.b.bb?.5625:.75);b>window.innerHeight-166&&(b=window.innerHeight-166,c=b/(a.C.Qa.b.bb?.5625:.75));500>c&&(c=500);a.state.videoWidth=c}}
Dw.prototype.Hc=function(){y()&&window.localStorage.setItem("defaultVideoWidth",JSON.stringify({videoWidth:this.state.videoWidth,videoHeight:this.state.videoHeight}))};Dw.prototype.u=function(){this.Ad();this.Wf||Fw(this)};function Jw(a){var b=this;this.config=a;this.ic=new ww;this.ic.element.style.width="270px";this.ic.element.style.position="relative";this.So=this.Kg=!1;t(X,function(){b.Kg=!1;b.So=!1;b.em=void 0;b.ae=void 0;setTimeout(function(){b.So=!0;b.Kg&&Kw(b)},2E3)});t(this.ic.Jn,function(){b.Kg=!0;b.So&&Kw(b)})}
function Kw(a){if(a.ic.Kg){if(void 0!==a.ae){for(var b=0;b<a.ae.children.length;b+=1)a.ae.removeChild(a.ae.children.item(b));a.ae.appendChild(a.ic.element.cloneNode(!0))}void 0===a.em?(a.config.ja(a.ic.element,function(){return Lw(a)}),a.em=a.config.yk()):(b=a.ic.element.offsetTop-a.config.Fw(),(0>b||b>a.config.Ew()-30)&&20<a.config.wn(a.em)&&(a.config.Un(a.ic.element),a.config.ja(a.ic.element,function(){return Lw(a)}),a.em=a.config.yk()))}}
function Lw(a){void 0!==a.ae&&null!==a.ae.parentNode&&a.ae.parentNode.removeChild(a.ae);a.ae=document.createElement("div");a.ae.appendChild(a.ic.element.cloneNode(!0));return a.ae};function Mw(a,b){function c(){if("split"===Z())d.ic.element.style.padding="0",w(d.ic.Jn,void 0);else{for(;null!==d.Mc.firstChild;)d.Mc.removeChild(d.Mc.firstChild);d.ic.element.style.padding="3px 5px";f?Kw(b.aa.ha.Y.Ho):setTimeout(function(){Kw(b.aa.ha.Y.Ho)},2E3)}}G.call(this);var d=this;this.b=a;this.$p=!1;this.element.style.position="relative";this.element.style.display="inline-block";this.element.style.backgroundColor="#ffffff";this.element.style.borderRadius="4px 4px 0 0";this.element.style.boxSizing="border-box";this.element.style.minWidth="500px";this.element.style.height="auto";this.element.style.fontFamily="UbuntuRegular, Helvetica, Arial, sans-serif";this.element.style.fontSize="11px";this.element.style.overflow="visible";var e;this.qc=document.createElement("a");this.qc.href="#";this.qc.innerText=ve;this.qc.style.color="#0c6a93";this.qc.style.fontSize="10px";this.qc.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";this.qc.style.textDecoration="none";this.qc.style.padding="8px 6px 12px 0";this.qc.style.cssFloat="right";this.qc.onmouseenter=function(){d.qc.style.textDecoration="underline"};this.qc.onmouseleave=function(){d.qc.style.textDecoration="none"};this.qc.onclick=function(C){C.preventDefault();void 0===e&&(e=d.D(new Cw));e.show(d.qc)};this.element.appendChild(this.qc);this.Ob=document.createElement("div");this.Ob.style.color=F.Ja;this.Ob.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";this.Ob.style.height="22px";this.Ob.style.lineHeight="24px";this.Ob.style.overflow="hidden";this.Ob.style.fontSize="12px";this.Ob.style.padding="4px 0 4px 9px";this.Ob.onmouseenter=function(){d.Ob.clientHeight<d.Ob.scrollHeight-2&&(d.Eb.style.visibility="visible",d.Eb.style.top=d.Ob.offsetTop+d.Ob.offsetHeight+2+"px")};this.Ob.onmouseleave=function(){d.Eb.style.visibility="hidden"};this.Eb=document.createElement("div");this.Eb.style.visibility="hidden";this.Eb.style.fontFamily="UbuntuRegular, Arial, Helvetica, sans-serif";this.Eb.style.color=F.zu;this.Eb.style.fontSize="12px";this.Eb.style.boxSizing="border-box";this.Eb.style.zIndex="999";this.Eb.style.position="absolute";this.Eb.style.borderRadius="4px";this.Eb.style.border="1px solid black";this.Eb.style.background="white";this.Eb.style.padding="10px";this.Eb.style.width="500px";this.Eb.style.height="auto";this.Eb.style.lineHeight="16px";this.element.appendChild(this.Ob);this.element.appendChild(this.Eb);this.b.D(b);this.D(this.b);this.Mc=document.createElement("span");this.Mc.style.width="270px";this.Mc.style.height="69px";this.Mc.style.display="inline-block";this.Mc.style.verticalAlign="top";this.Mc.style.margin="0";this.element.appendChild(this.Mc);this.ic=b.aa.ha.Y.Ho.ic;t(this.ic.Jn,function(){if("split"===Z()){for(;null!==d.Mc.firstChild;)d.Mc.removeChild(d.Mc.firstChild);d.Mc.appendChild(d.ic.element.cloneNode(!0))}});var f=!1;setTimeout(function(){f=!0},2E3);t(Du.fd,function(C){C=C.Ih;"split"===C?(d.Mc.style.display="inline-block",d.ud.style.display="inline-block"):(d.Mc.style.display="none",d.ud.style.display="none");d.element.style.border="split"===C||"theater"===C?"1px solid #acacac":"none";"fullscreen"===C?(d.Ob.style.display="none",d.qc.style.display="none"):(d.Ob.style.display="block",d.qc.style.display="inline");c()});t(Uk,function(){c()});this.ud=document.createElement("div");this.ud.style.height="69px";this.ud.style.width="230px";this.ud.style.boxSizing="border-box";this.ud.style.fontSize="11px";this.ud.style.color=F.Ja;this.ud.style.overflow="hidden";this.ud.style.display="inline-block";this.ud.style.verticalAlign="top";this.ud.style.margin="0";this.element.appendChild(this.ud);a=document.createElement("div");a.style.display="block";a.style.boxSizing="border-box";a.style.width="100%";a.style.height="100%";a.style.padding="2px 10px";this.ud.appendChild(a);var g=document.createElement("div");g.style.display="block";g.style.height="19px";g.style.borderBottom="1px solid #000000";a.appendChild(g);var h=document.createElement("span");h.innerText=Oe;g.appendChild(h);this.Ia=document.createElement("span");this.Ia.innerText="0";this.Ia.style.fontSize="15px";this.Ia.style.fontFamily="UbuntuBold, Helvetica, Arial, sans-serif";g.appendChild(this.Ia);this.Jl=document.createElement("span");this.Jl.innerText=" tokens";g.appendChild(this.Jl);g=document.createElement("div");g.style.display="inline-block";g.style.verticalAlign="top";g.style.width="130px";g.style.textOverflow="ellipsis";g.style.overflow="hidden";g.style.whiteSpace="nowrap";a.appendChild(g);var m=Nw(kd);m.style.margin="2px 0 0 0";m.href="/tipping/purchase_tokens/";m.onclick=function(){ll("/tipping/purchase_tokens/","_blank","height=615, width=850");return!1};m.onmouseenter=function(){m.style.textDecoration="underline"};m.onmouseleave=function(){m.style.textDecoration="none"};g.appendChild(m);this.oc=Nw(pd);this.oc.style.display="none";g.appendChild(this.oc);this.zd=document.createElement("div");this.zd.style.display="none";this.zd.style.overflow="hidden";this.zd.style.textOverflow="ellipsis";this.zd.style.lineHeight="1.3";this.zd.style.maxWidth="130px";g.appendChild(this.zd);this.He=document.createElement("a");this.He.style.maxWidth="90px";this.He.style.marginRight="2px";this.He.style.display="inline-block";this.He.style.overflow="hidden";this.He.style.textOverflow="ellipsis";this.He.style.verticalAlign="bottom";this.zd.appendChild(this.He);this.Sm=document.createElement("span");this.zd.appendChild(this.Sm);this.Qf=document.createElement("div");this.Qf.style.display="none";this.Qf.style.width="135px";g.appendChild(this.Qf);this.Th=document.createElement("div");this.Th.style.display="none";this.Qf.appendChild(this.Th);this.Sh=Nw(Cd);this.Sh.style.display="none";this.Sh.style.maxWidth="87px";this.Sh.style.marginRight="2px";this.Sh.style.verticalAlign="top";this.Th.appendChild(this.Sh);F.Ac&&(this.Sh.style.display="inline-block");var n=document.createElement("span");n.style.display="inline-block";n.style.verticalAlign="top";this.Th.appendChild(n);this.Ak=Nw(Ad);this.Qf.appendChild(this.Ak);this.Bk=Nw(Ed);this.Qf.appendChild(this.Bk);var r=0,v=0,E=document.createElement("div");E.innerText=ed;E.style.display="none";E.style.marginTop="10px";a.appendChild(E);this.ul=document.createElement("span");this.ul.style.display="none";a.appendChild(this.ul);var J=new Ma;t(X,function(C){if(void 0===C.h.Mb||void 0===C.h.we||void 0===C.h.ve)x("Dossier is missing context.");else{v=C.h.Lt;r=C.h.Mt;d.Ob.innerText=C.h.Ea;d.Eb.innerText=C.h.Ea;var K=isNaN(C.h.Ia)?0:C.h.Ia;d.Ia.innerText=""+K;d.Jl.innerText=" "+Xb(K,!1);d.Mb=C.h.Mb;var R=!0===C.h.we,ba=!0===C.h.ve;d.Mb?(d.K.style.display="inline-block",E.style.display="none",t(C.i.event.yf,function(Q){v=Q.iq;n.innerText="( "+r+" / "+v+" )"}),t(C.i.event.yf,function(Q){R=Q.we;ba=Q.ve;Ow(d,R,C.i,C.i.status);F.Ac&&Pw(d,ba,C.i,C.i.status)}),t(C.i.event.Qb,function(Q){if(d.b.A.Gi){var W=function(){Ow(V,R,C.i,Q.ua);F.Ac&&Pw(V,ba,C.i,Q.ua);"groupnotwatching"===Q.ua&&"groupwatching"===Q.Jd&&--r;if(ba){var da="( "+r+" / "+v+" )";n.innerText=da;V.Sm.innerText=da}},V=d;jn(C,Q)?W():kn(C,Q).then(W)}}),t(C.i.event.mj,function(Q){var W=Q.Ni;void 0===W&&(W=v);r=Q.Ze;Q="( "+Q.Ze+" / "+W+" )";n.innerText=Q;d.Sm.innerText=Q}),t(C.i.event.Kj,function(Q){"groupwatching"===C.i.status&&(r=Q-1,d.Sm.innerText="( "+r+" / "+v+" )")})):(d.K.style.display="none",Ow(d,!1,C.i,C.h.fb),F.Ac&&Pw(d,!1,C.i,C.h.fb),E.style.display="block");La(t(yw,function(){Ow(d,R,C.i,C.h.fb);F.Ac&&Pw(d,ba,C.i,C.h.fb)}),J);La(t(C.i.event.Il,function(Q){d.Ob.innerText=Q;d.Eb.innerText=Q}),J);f=!1;setTimeout(function(){f=!0},2E3)}});t(rq,function(C){d.Ia.innerText=""+C.ka;d.Jl.innerText=" "+Xb(C.ka,!1)});this.K=document.createElement("span");this.K.innerText=Wc;this.K.title=Wc;this.K.style.overflow="hidden";this.K.style.lineHeight="1.4";this.K.style.height="21px";this.K.style.maxWidth="80px";this.K.style.fontSize="12px";this.K.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";this.K.style.textShadow="#588d3d 1px 1px 0px";this.K.style.color="#ffffff";this.K.style.margin="11px 0px 11px 0px";this.K.style.textOverflow="ellipsis";this.K.style.padding="3px 10px 3px";this.K.style.backgroundColor="#53843a";Sa()&&(this.K.style.background="linear-gradient(180deg, #73aa58 0%, #73aa58 50%, #568a3d 60%)");this.K.style.borderRadius="4px";this.K.style.boxSizing="border-box";this.K.style.cursor="pointer";this.K.style.display="none";a.appendChild(this.K);this.K.onclick=function(){w(Rk,{})};t(Wk,function(){Oa(J)})}p(Mw,G);function Nw(a){var b=document.createElement("a");b.innerText=a;b.title=a;b.style.lineHeight="1.3";b.style.display="block";b.style.maxWidth="130px";b.style.overflow="hidden";b.style.textOverflow="ellipsis";b.style.color="#0a5a83";b.style.textDecoration="none";b.style.cursor="pointer";b.onmouseenter=function(){b.style.textDecoration="underline"};b.onmouseleave=function(){b.style.textDecoration="none"};return b}
function Ow(a,b,c,d){a.oc.innerText=pd;var e=["privaterequesting","privatewatching","privatespying"];if(b||-1!==e.indexOf(d))switch(a.oc.style.display="block",a.oc.onclick=function(){Ut(c)},b=function(f){f.preventDefault();a.$p||(a.$p=!0,Xt(c,function(){a.$p=!1}))},d){case "privaterequesting":a.oc.innerText=vd;a.oc.style.maxWidth="130px";a.oc.onclick=b;break;case "privatenotwatching":a.oc.innerText=qd;a.oc.style.maxWidth="130px";a.oc.onclick=function(){Vt(c)};break;case "privatewatching":case "privatespying":a.oc.innerText=xd;a.oc.style.maxWidth="100px";a.oc.onclick=b;break;case "grouprequesting":case "groupnotwatching":case "groupwatching":case "offline":case "away":case "hidden":case "notconnected":a.oc.style.display="none";a.oc.style.maxWidth="130px";break;case "public":break;default:u("unexpected status for updatePrivateState: "+d)}else a.oc.style.display="none"}
function Pw(a,b,c,d){var e=["grouprequesting","groupwatching"];if(b||-1!==e.indexOf(d))switch(a.Qf.style.display="inline-block",a.Sh.onclick=function(){Wt(c)},b=function(){Yt(c)},d){case "grouprequesting":a.Ak.onclick=b;a.He.innerText=Bd;a.Th.style.display="none";a.zd.style.display="block";a.Ak.style.display="block";a.Bk.style.display="none";a.He.style.color=F.Ja;break;case "groupwatching":a.Bk.onclick=b;a.He.innerText=zd;a.Th.style.display="none";a.zd.style.display="block";a.Ak.style.display="none";a.Bk.style.display="block";a.He.style.color=F.Ja;break;case "privaterequesting":case "privatenotwatching":case "privatewatching":case "privatespying":case "offline":case "away":case "hidden":case "notconnected":a.zd.style.display="none";a.Qf.style.display="none";break;case "groupnotwatching":case "public":a.Th.style.display="block";a.zd.style.display="none";a.Ak.style.display="none";a.Bk.style.display="none";break;default:u("unexpected status for updateGroupState: "+d)}else a.Qf.style.display="none",a.zd.style.display="none"}function Iw(a){return a.Ob.offsetHeight+a.ud.offsetHeight+4};function Qw(a,b){G.call(this);var c=this;this.ah=4;this.b=a;this.H=b;this.element.style.position="static";this.element.style.display="block";this.element.style.height="auto";this.element.style.backgroundColor="#e0e0e0";this.element.style.border="1px solid #acacac";this.element.style.borderRadius="4px";this.element.style.padding="4px";this.element.style.margin="8px 0 17px 32px";this.element.style.overflow="visible";this.element.style.boxSizing="border-box";this.Hd=document.createElement("div");this.Hd.innerText=Sf;this.Hd.style.display="none";this.Hd.style.color="#0b5d81";this.Hd.style.fontFamily="UbuntuRegular, Arial, Helvetica, sans-serif";this.Hd.style.fontSize="12px";this.Hd.style.fontWeight="bold";this.Hd.style.margin="13px 0";this.element.appendChild(this.Hd);this.fc=document.createElement("div");this.fc.style.width="100%";this.fc.style.height="auto";this.fc.style.backgroundColor="#e0e0e0";this.element.appendChild(this.fc);this.Qa=this.D(new Mw(this.b,this.H),this.fc);this.Hj=this.D(new Dw(this),this.fc);this.ha=this.D(new iw,this.fc);t(on,function(e){d?w(Sk,!0):"split"===Z()&&(void 0===c.Yc&&(c.Yc=c.D(new lw(c.ha),c.ha.element)),c.Yc.show(e))});var d=!0;t(X,function(e){d=e.i.Sb})}p(Qw,G);Qw.prototype.qp=function(){void 0===this.Yc&&(this.Yc=this.D(new lw(this.ha),this.ha.element));return this.Yc};Qw.prototype.u=function(){var a=this.Qa.element.offsetHeight;this.ha.element.style.width=this.element.clientWidth-this.Qa.element.offsetWidth-16+"px";this.ha.element.style.height=a+"px"};var Rw=window.$;function Sw(a,b){G.call(this);var c=this;this.a=a;this.xs=this.dr=!1;this.element.style.position="static";this.element.style.height="auto";a=document.createElement("div");if(void 0!==b.js){var d=document.createElement("div");d.id="deletion_admin_notice";d.style.margin="10px";d.innerHTML=b.js;a.appendChild(d)}void 0!==b.eu&&(d=document.createElement("div"),d.style.color="#503d08",d.style.background="rgba(247, 255, 0, 0.23)",d.style.padding="5px",d.style.width="500px",d.textContent="Previously known as "+
b.eu,a.appendChild(d));this.element.appendChild(a);a=document.createElement("div");this.element.appendChild(a);d=document.createElement("a");d.href="#";d.style.color="#0a5a83";d.style.marginRight="15px";d.textContent="Show/Hide Admin Info";d.onclick=function(f){f.preventDefault();Tw(c)};a.appendChild(d);this.wh=document.createElement("div");this.wh.id="admin-info-section";this.wh.style.display="none";this.wh.textContent="Loading admin information...";this.element.appendChild(this.wh);for(d=0;d<b.fr.length;d+=1){var e=Uw(this,b.fr[d]);a.appendChild(e);d!==b.fr.length-1&&(e=document.createElement("span"),e.style.margin="0 2px",e.textContent="|",a.appendChild(e))}b.Kv&&Tw(this)}p(Sw,G);function Uw(a,b){var c=document.createElement("a");c.href=b.href;c.textContent=b.text;c.style.color="#0a5a83";"View Stream Status"===b.text&&(c.onclick=function(d){d.preventDefault();d=window.open("/view_user_obs_overlay/"+a.a+"/?graph=1","obs_info","status=0,toolbar=0,menubar=0,directories=0,resizable=1,scrollbars=1,height=600,width=750");null!==d&&d.focus()});return c}function Tw(a){a.dr?(a.wh.style.display="none",a.dr=!1):(a.xs||(Vw(a),a.xs=!0),a.wh.style.display="block",a.dr=!0)}
function Vw(a){Ib("ax/room_info/"+a.a+"/").then(function(b){Rw(a.wh).html(b.responseText)})};function Ww(a,b,c){function d(){e.pc.element.style.visibility="visible";var n=l(et(window.innerWidth,window.innerHeight,e.b.bb)),r=n.next().value;n=n.next().value;e.b.element.style.height="100%";e.b.element.style.top="0";e.b.element.style.left="0";e.b.A.element.style.top="0";e.b.A.element.style.left="0";e.b.A.element.style.width=r+"px";e.b.A.element.style.height=n+"px";e.H.element.style.visibility="visible";e.H.element.style.position="absolute";e.H.element.style.top="0px";e.H.element.style.left="0";e.H.element.style.height=n-32+"px";e.ha.element.style.display="none";e.Hj.element.style.display="none";e.b.S.element.style.display="block";e.W()}Qw.call(this,a,b);var e=this;this.pc=c;this.ah=4;a=document.createElement("div");a.style.backgroundColor="#cccccc";a.style.fontSize="12px";a.style.padding="3px";a.style.margin="5px 0";a.style.borderRadius="2px";a.style.color=F.Ja;a.style.lineHeight="16px";b=document.createElement("span");this.Ye=document.createElement("a");this.Ye.href="#";this.Ye.innerText="Theater Mode";this.Ye.id="video-mode";this.Ye.style.color="#0a5a83";this.Ye.style.textDecoration="none";this.Ye.onclick=function(n){n.preventDefault();n="split";"split"===Z()&&(n="theater");Cu(n);Eu();U("ChangeVideoMode",{videoMode:n})};b.appendChild(this.Ye);a.appendChild(b);b=document.createElement("span");b.style.display="none";c=document.createElement("span");c.innerText="|";c.style.color=F.Ja;c.style.margin="0 4px";b.appendChild(c);c=document.createElement("a");c.href="#";c.innerText="Interactive Full Screen";c.style.color="#0a5a83";c.id="fvm-link";c.style.textDecoration="none";c.onclick=function(n){n.preventDefault();Xw(e.b.S);U("ChangeVideoMode",{videoMode:"fullscreen"})};b.appendChild(c);a.appendChild(b);uj()&&!gb()&&(b.style.display="inline");this.lq=a;this.element.appendChild(a);var f=document.createElement("div");f.style.backgroundColor="#cccccc";f.style.fontSize="12px";f.style.padding="3px";f.style.margin="5px 0";f.style.borderRadius="2px";f.style.color=F.Ja;f.style.lineHeight="16px";f.style.display="none";this.element.appendChild(f);var g;t(X,function(n){void 0!==g&&(e.removeChild(g),g=void 0);void 0!==n.h.fo?(f.style.display="block",g=e.D(new Sw(n.h.a,n.h.fo),f)):f.style.display="none"});this.Od=document.createElement("div");this.Od.style.backgroundColor="#cccccc";this.Od.style.fontSize="12px";this.Od.style.padding="3px";this.Od.style.margin="5px 0";this.Od.style.borderRadius="2px";this.Od.style.color=F.Ja;this.Od.style.lineHeight="16px";a=document.createElement("span");a.innerText=F.Up?Uf:Tf;this.Od.appendChild(a);this.element.appendChild(this.Od);var h=document.createElement("a");h.innerText=Vf;h.href="https://www.surveymonkey.com/r/6NS9RJ5";h.target="_blank";h.style.color="#0a5a83";h.onmouseenter=function(){h.style.textDecoration="underline"};h.onmouseleave=function(){h.style.textDecoration="none"};this.Od.appendChild(h);this.rk=this.D(new Ls);this.Cx=this.D(new Gs);var m=!0;t(Du.fd,function(n){void 0!==e.Yc&&"split"!==Z()&&e.Yc.j();if(m||Z()!==n.cu)switch(n.Ih){case "split":e.element.style.padding=e.ah+"px";e.element.style.marginTop="8px";e.element.style.marginLeft="32px";e.b.A.element.style.top="0";e.H.element.style.top="0";e.H.element.style.visibility="hidden";e.H.element.style.position="fixed";e.pc.element.style.visibility="hidden";e.ha.element.style.display="inline-block";e.Hj.element.style.display="inline-block";e.b.A instanceof Os||(e.b.S.element.style.display="none");e.W();e.Ye.innerText="Theater Mode";break;case "theater":e.element.style.marginTop="5px";e.element.style.marginLeft="8px";e.b.A.element.style.top="0";e.H.element.style.top="0";e.H.element.style.visibility="visible";e.H.element.style.position="absolute";e.pc.element.style.visibility="visible";e.pc.sa();e.ha.element.style.display="none";e.Hj.element.style.display="none";e.b.S.element.style.display="block";e.Hj.Ad(e.element.clientWidth);e.W();e.Ye.innerText="Split Mode";break;case "fullscreen":d();setTimeout(function(){"fullscreen"===Z()&&d()},500);break;default:x("Unexpected VideoMode: "+n.Ih)}m=!1;setTimeout(function(){e.W()},300)})}p(Ww,Qw);Ww.prototype.u=function(){if("theater"===Z()){var a=Yw(this.b)[1];this.H.element.style.height=a-32+"px"}this.Hj.Ad()};function Zw(a){var b=Du;var c=b.qg;y()&&null!==window.localStorage.getItem(b.Tu)&&(b=window.localStorage.getItem("isTheaterMode"),null!==b&&(c=JSON.parse(b).isTheaterMode?"theater":"split"));b=c;"split"===b?(c="theater",a.Ye.innerText="Theater Mode"):(c="split",a.Ye.innerText="Split Mode");Cu(b,c)};function $w(){G.call(this);var a=this;this.Ui={header:new ax,rightTop:new ax,rightMiddle:new ax,rightBottom:new ax,footerLeft:new ax,footerMiddle:new ax,footerRight:new ax};t(X,function(b){if(!b.h.hn&&!b.h.Pg&&""!==b.h.cm.header){for(var c in a.Ui)if(a.Ui.hasOwnProperty(c)){for(var d=a.Ui[c];null!==d.element.firstChild;)d.element.removeChild(d.element.firstChild);d.Ti=document.createElement("ins");d.Ti.style.display="inline-block";d.Ti.style.width="100%";d.Ti.style.height="100%";d.Ti.className="adsbyxa";d.element.appendChild(d.Ti);""!==b.h.cm[c]&&a.Ui[c].Ti.setAttribute("data-ad-zone",b.h.cm[c])}window.xadqueue=[];void 0!==window.xadgo&&window.xadgo()}})}p($w,G);function ax(){G.call(this);this.element.style.display="inline-block";this.element.style.position="relative";this.element.className="ad"}p(ax,G);function bx(a){switch(a){case "rightTop":return"top_skyscraper";case "rightMiddle":return"mid_skyscraper";case "rightBottom":return"tbot_skyscraper";case "footerLeft":return"left_footer";case "footerMiddle":return"mid_footer";case "footerRight":return"right_footer";default:return x("Unexpected ad zone for track: "+a),""}};function cx(a){function b(g){var h=document.createElement("div"),m=a.Ui[g];m.element.style.width="160px";m.element.style.height="600px";m.element.style.margin="10px 13px 6px 13px";h.appendChild(m.element);var n=document.createElement("a");n.href="https://exoticads.com/aff/in/mrps/agBmX/?track="+bx(g);n.innerHTML=bf;n.style.display="block";n.style.color="#d90c5f";n.style.fontSize="12px";n.style.textAlign="center";n.style.textDecoration="none";n.onmouseenter=function(){n.style.textDecoration="underline"};n.onmouseleave=function(){n.style.textDecoration="none"};h.appendChild(n);return h}G.call(this);var c=this;this.element.style.position="static";this.element.style.width="186px";this.element.style.height="auto";this.element.style.backgroundColor="#e0e0e0";this.element.style.border="1px solid #acacac";this.element.style.borderRadius="4px";this.element.style.paddingBottom="16px";this.element.style.margin="8px 20px 16px 0";this.element.style.display="none";this.element.className="ad";var d=document.createElement("a");d.href="/supporter/upgrade/";d.style.display="block";d.style.backgroundColor="#fc760c";d.style.padding="2px 4px";var e=document.createElement("img");e.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/close_icon.png";d.appendChild(e);var f=document.createElement("span");f.innerText=af;f.style.color="#ffffff";f.style.fontSize="14px";f.style.fontWeight="bold";f.style.textDecoration="none";f.style.marginLeft="8px";f.onmouseenter=function(){f.style.textDecoration="underline"};f.onmouseleave=function(){f.style.textDecoration="none"};d.appendChild(f);this.element.appendChild(d);this.element.appendChild(b("rightTop"));this.element.appendChild(b("rightMiddle"));this.element.appendChild(b("rightBottom"));t(Du.fd,function(g){c.element.style.marginTop="split"===g.Ih?"8px":"5px"})}p(cx,G);function dx(a){function b(f){var g=document.createElement("div");g.style.display="inline-block";g.style.maxWidth="33%";g.style.width="33%";var h=a.Ui[f];h.element.style.width="100%";h.element.style.maxWidth="300px";h.element.style.height="250px";h.element.style.margin="2px 3px 4px 3px";g.appendChild(h.element);var m=document.createElement("a");m.href="https://exoticads.com/aff/in/mrps/agBmX/?track="+bx(f);m.innerHTML=bf;m.style.display="block";m.style.color="#d90c5f";m.style.fontSize="12px";m.style.textAlign="center";m.style.textDecoration="none";m.onmouseenter=function(){m.style.textDecoration="underline"};m.onmouseleave=function(){m.style.textDecoration="none"};g.appendChild(m);return g}G.call(this);this.element.style.position="relative";this.element.style.height="auto";this.element.style.padding="32px";this.element.style.textAlign="center";this.element.style.display="none";this.element.style.width="auto";this.element.className="ad";this.Fa=document.createElement("div");this.Fa.style.display="inline-block";this.Fa.style.width="100%";this.Fa.style.maxWidth="918px";this.Fa.style.borderRadius="4px";this.Fa.style.backgroundColor="#ffffff";var c=document.createElement("a");c.href="/supporter/upgrade/";c.style.display="block";c.style.backgroundColor="#fc760c";c.style.padding="2px 4px";c.style.textAlign="left";var d=document.createElement("img");d.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/close_icon.png";c.appendChild(d);var e=document.createElement("span");e.innerText=af;e.style.color="#ffffff";e.style.fontSize="14px";e.style.fontWeight="bold";e.style.textDecoration="none";e.style.marginLeft="8px";e.onmouseenter=function(){e.style.textDecoration="underline"};e.onmouseleave=function(){e.style.textDecoration="none"};c.appendChild(e);this.Fa.appendChild(c);this.Fa.appendChild(b("footerLeft"));this.Fa.appendChild(b("footerMiddle"));this.Fa.appendChild(b("footerRight"));this.element.appendChild(this.Fa)}p(dx,G);function ex(a,b){var c=document.createElement("div");c.innerText=a;c.style.color="#72C0FF";c.style.cursor="pointer";c.style.paddingTop="5px";c.onmouseenter=function(){c.style.textDecoration="underline"};c.onmouseleave=function(){c.style.textDecoration="none"};c.style.pointerEvents="auto";c.onclick=function(d){b(d)};return c}
function fx(a){a=void 0===a?!0:a;G.call(this);var b=this;this.bu=a;this.Aj=ex("More Rooms",function(d){w(mn,void 0);d.stopPropagation()});this.zf=new Map;this.Uc=ex("",function(){});this.Xx=!0;this.Lk=!1;this.element.style.display="none";this.element.style.position=this.bu?"fixed":"absolute";this.element.style.height="auto";this.element.style.width="auto";this.element.style.boxSizing="border-box";this.element.style.padding="0 50px";this.element.style.left="0";this.element.style.textAlign="center";this.element.style.pointerEvents="none";this.element.style.zIndex="1";this.O=document.createElement("div");this.O.style.fontSize="32px";this.O.style.lineHeight="32px";this.O.style.color="#72c0ff";this.O.style.marginBottom="20px";this.element.appendChild(this.O);this.body=document.createElement("div");this.body.style.fontSize="16px";this.body.style.color="#ffffff";this.text=document.createElement("span");this.body.appendChild(this.text);this.Aj.style.display="none";this.body.appendChild(this.Aj);this.Uc.style.display="none";this.body.appendChild(this.Uc);this.element.appendChild(this.body);var c=new Ma;t(X,function(d){b.ap=d.i;La(t(d.i.event.Qb,function(e){dt(b,d.i,e.ua)}),c);La(t(d.i.event.Vm,function(e){b.nj=e}),c);La(t(yw,function(){b.oi=!0;dt(b,d.i,d.h.fb)}),c);void 0!==d.h.nj?b.nj=d.h.nj:x("hiddenMessage is not defined.");dt(b,d.i,d.h.fb)});t(Wk,function(){Oa(c);b.nj="";b.uc=!1});this.zf.set("away",function(){b.O.innerText="Performer Is Away";b.text.innerText="You may continue chatting while you wait for the broadcaster to return.";b.Uc.style.display="none";gx(b,!0);b.element.style.display="block"});this.zf.set("groupnotwatching",function(d){b.O.innerText="Group Show In Progress";b.text.innerText="You may continue chatting while you wait for the broadcaster to return from the group show. If a goal had been set when the broadcaster returns it will continue where it left off.";void 0===b.oi?x("unexpected"):!0===b.oi&&(b.Uc.innerText="JOIN THIS GROUP SHOW",b.Uc.style.display="block",b.Uc.onclick=function(){Wt(d)},b.Uc.style.display="block");gx(b,!0);b.element.style.display="block"});this.zf.set("privatenotwatching",function(d){b.O.innerText="Private Show In Progress";b.text.innerText="You may continue chatting while you wait for the broadcaster to return from the private show. If a goal had been set when the broadcaster returns it will continue where it left off.";void 0===b.oi?x("unexpected"):!0===b.oi&&(b.Uc.innerText="SPY ON THIS PRIVATE SHOW",b.Uc.style.display="block",b.Uc.onclick=function(){Vt(d)},b.Uc.style.display="block");gx(b,!0);b.element.style.display="block"});this.zf.set("hidden",function(){b.O.innerText="Cam is Hidden";b.text.innerText=b.nj;b.Uc.style.display="none";gx(b,!1);b.element.style.display="block"});this.zf.set("offline",function(){b.O.innerText="Offline";b.text.innerText="The member you are trying to view is currently offline. Please wait or choose another member to view.";b.Uc.style.display="none";b.element.style.display="block";gx(b,!0)});this.zf.set("passwordprotected",function(){b.O.innerText="Password Required";b.text.innerText="The broadcaster has set a password which is required for viewing. If you know the password, refresh this page to enter it.";b.Uc.style.display="none";gx(b,!0);b.element.style.display="block";vj()&&tj()})}p(fx,G);fx.prototype.j=function(){this.element.style.visibility="hidden"};fx.prototype.show=function(){this.element.style.visibility=""};fx.prototype.u=function(){if(void 0!==this.parent){var a=this.parent.element.getBoundingClientRect(),b=document.documentElement.clientWidth,c=document.documentElement.clientHeight;a.width<=b?(this.element.style.width=a.width+"px",this.bu&&(this.element.style.left=a.left+"px")):(this.element.style.width=b+"px",this.element.style.left="0");this.element.style.top=a.height<=c?"fixed"===this.parent.element.style.position?a.top+.5*a.height-.5*this.element.offsetHeight+"px":.5*a.height-.5*this.element.offsetHeight+
"px":.5*c-.5*this.element.offsetHeight+"px";this.element.style.maxHeight=a.height+"px"}};function dt(a,b,c){a.uc&&(c="offline");var d=a.zf.get(c);if(void 0!==d)d(b),a.W();else switch(a.Lk||(a.Aj.style.display="none",a.element.style.display="none"),c){case "public":case "privaterequesting":case "privatewatching":case "privatespying":case "grouprequesting":case "groupwatching":case "notconnected":break;default:u("unexpected status: "+c)}}
function gx(a,b){var c=a.Lk&&!a.uc;a.Aj.style.display=void 0!==b&&!b||c||!a.Xx?"none":"block"};function hx(a,b){function c(g){g!==d.state.volume&&(d.state.volume=g,d.state.oa=0===d.state.volume,ix(d),d.qh(),d.Hc())}G.call(this);var d=this;this.b=a;this.state={volume:60,oa:!0};this.visible=this.Ws=this.Pi=this.qj=this.Mb=!1;a=Fk().disable_sound;void 0!==a&&"true"===a.toLowerCase()||"1"===a?(this.state.volume=0,this.state.oa=!0):y()&&(a=window.localStorage.getItem("videoControls"),null!==a?(a=JSON.parse(a),this.state={volume:a.volume,oa:this.b.A.jo?a.isMuted:!0}):this.state.oa=!this.b.A.jo);this.Ur=window.navigator.userAgent;this.element.style.bottom="0";this.element.style.left="0";this.element.style.height="auto";this.element.style.paddingTop="4px";Sa()?this.element.style.background="linear-gradient(180deg, rgba(50, 50, 50, 0) 0%, rgba(50, 50, 50, 0.4) 66%, rgba(50, 50, 50, 0.7) 100%)":this.element.style.backgroundColor="rgba(50, 50, 50, 0.7)";var e;this.Sa=document.createElement("img");this.Sa.style.height="24px";this.Sa.style.width="24px";this.Sa.style.margin="0 6px 2px 6px";this.Sa.style.cursor="pointer";this.Sa.style.cssFloat="left";this.Sa.onclick=function(){d.b.pj||-1<d.Ur.indexOf("MSIE 10.0")||-1<d.Ur.indexOf("MSIE 9.0")?(U("ToggleMute",{newState:!d.state.oa}),U("ChangeVolume",{volume:d.state.volume}),d.state.oa?d.Nl():d.Yk(),d.Ue()):void 0===e?x("unexpected switch to hls",{},"VIDEO_"):(U("ForceHLS"),ct(d.b,e,d),d.Nl(),w(Qk,void 0))};this.element.appendChild(this.Sa);this.ib=this.D(new tn({xb:12,cf:50}));this.ib.element.style.margin="6px 5px 0 0";this.ib.element.style.cssFloat="left";t(this.ib.zo,function(g){d.b.A.ke(!1);c(g)});t(this.ib.Ao,c);t(this.ib.yo,function(g){c(g);0===d.state.volume&&d.b.A.ke(!0);U("ChangeVolume",{volume:g});d.Hc()});this.Hb=jx("");this.Hb.style.cssFloat="left";this.Hb.onclick=function(){b.show()};this.element.appendChild(this.Hb);this.qj=uj();document[xj()]=function(){vj()||(d.qj=!1,d.$a.style.display="none",H("Full screen is unavailable."))};this.$a=jx("Full Screen");this.$a.id="full-screen";uj()||(this.$a.style.display="none");this.$a.onclick=function(){vj()?tj():d.qj&&(d.Pi="theater"===Z(),d.b.A.Lh());kx(d)};this.element.appendChild(this.$a);this.Pi=!1;this.ig=jx("Theater Mode");this.ig.onclick=function(){var g="split";"split"===Z()&&(g="theater");U("ChangeVideoMode",{videoMode:g});Cu(g);Eu();kx(d)};this.element.appendChild(this.ig);this.Qe=jx("Report Abuse");this.Qe.style.display="none";this.Qe.onclick=function(){w(Nk,void 0)};this.element.appendChild(this.Qe);this.zj=jx("More Rooms");this.zj.id="more-rooms";var f=!1;this.zj.onclick=function(){w(mn,void 0)};this.element.appendChild(this.zj);this.sh=jx(re+" (0)");this.sh.id="user-list";this.sh.onclick=function(){w(Kk,void 0)};t(Av,function(g){d.sh.innerText=re+" ("+g+")"});this.element.appendChild(this.sh);this.xg=jx("Chat");this.xg.id="chat-btn";this.xg.style.display="none";this.xg.onclick=function(){w(Pk,void 0)};this.element.appendChild(this.xg);this.K=jx(Vc);this.K.id="send-tip";this.K.onclick=function(){w(Lk,{})};this.element.appendChild(this.K);this.Xg=jx(F.Ac?nd:od);this.Xg.onclick=function(){w(Ok,void 0)};this.element.appendChild(this.Xg);t(X,function(g){if(void 0===g.h.Mb)x("Dossier is missing context.");else{if(g.h.Mb){var h=!0===g.h.we,m=F.Ac&&!0===g.h.ve;lx(d,h||m,g.i.status);t(g.i.event.Qb,function(n){var r=n.ua;switch(r){case "unknown":case "offline":case "notconnected":case "away":case "groupnotwatching":case "privatenotwatching":case "hidden":case "passwordprotected":if("fullscreen"===Z()){d.$a.style.display=d.qj?"inline":"none";break}vj()&&tj();d.$a.style.display="none";break;case "public":case "privatespying":case "privatewatching":case "privaterequesting":case "grouprequesting":case "groupwatching":d.$a.style.display=d.qj?"inline":"none";break;default:x("unexpected room status",r,"")}lx(d,h||m,n.ua);"privatespying"===n.ua&&w(Ok,void 0)});t(g.i.event.yf,function(n){h=n.we;m=F.Ac&&n.ve;lx(d,h||m,g.i.status)})}else lx(d,!1,g.i.status);e=g;d.Mb=g.h.Mb;d.Vw="offline"===g.h.fb;d.qh();d.b.pj&&mx(d);kx(d);d.Ue()}});t(Du.fd,function(g){"theater"===Z()?d.Pi=!0:"split"===Z()&&(d.Pi=!1);"fullscreen"===g.cu&&"fullscreen"!==g.Ih&&f&&(f=!1,setTimeout(function(){w(mn,void 0)},200));kx(d)});t(Uk,function(){d.Ue()});t(nn,function(){d.Yk()});t(Sk,function(){vj()&&Xw(d)});z(wj(),document,function(){var g=Z();"theater"===g?d.Pi=!0:"split"===g&&(d.Pi=!1);vj()&&vj()===d.Hs?Cu("fullscreen"):vj()||Cu(d.Pi?"theater":"split")});this.element.onmousemove=function(){d.Ue()};this.j()}p(hx,G);function lx(a,b,c){var d=["privaterequesting","privatespying","privatewatching","grouprequesting","groupwatching"];if(!b&&-1===d.indexOf(c)||!a.b.A.Gi)a.Xg.style.display="none";else switch(c){case "unknown":case "offline":case "notconnected":case "away":case "hidden":case "passwordprotected":case "privatenotwatching":a.Xg.style.display="none";break;default:a.Xg.style.display=a.b.A instanceof Os&&"split"===Z()?"none":"block"}}
function kx(a){a.K.style.display=a.Mb?"inline":"none";a.zj.style.display="none";a.sh.style.display="inline";a.ig.innerText=rg;a.ig.style.display="inline";a.$a.innerText=sg;a.Qe.style.display="none";a.xg.style.display="inline";a.Xg.style.display="block";a.qj&&(a.$a.style.display="inline");switch(Z()){case "split":a.K.style.display="none";a.sh.style.display="none";a.xg.style.display="none";a.Xg.style.display="none";a.ig.style.display="none";a.$a.style.display="none";break;case "videoonly":a.K.style.display="none";a.sh.style.display="none";a.xg.style.display="none";a.Xg.style.display="none";a.ig.style.display="none";a.$a.style.display="none";break;case "theater":a.ig.innerText=ug;a.ig.id="default-view";a.zj.style.display="inline";break;case "fullscreen":a.Qe.style.display="inline";a.zj.style.display="inline";a.ig.style.display="none";a.$a.innerText=tg;break;default:x("Unexpected VideoMode: "+Z(),{},"VIDEO_")}a.Vw&&(a.K.style.display="none",a.sh.style.display="none",a.xg.style.display="none",a.Qe.style.display="none");a.Ue()}k=hx.prototype;k.qh=function(){var a=this.ib.mf();0===a||this.state.oa?(this.Sa.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/volume-mute.svg",this.Sa.id="volume-mute"):33>a?(this.Sa.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/volume-low.svg",this.Sa.id="volume-low"):66>a?(this.Sa.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/volume-medium.svg",this.Sa.id="volume-medium"):(this.Sa.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/volume-high.svg",this.Sa.id="volume-high")};function ix(a){a.b.A.Ei(a.state.volume,a.state.oa)}k.Hc=function(){y()&&!this.b.Xf&&window.localStorage.setItem("videoControls",JSON.stringify({volume:this.state.volume,isMuted:this.state.oa}))};k.update=function(){mx(this);this.Hc()};function mx(a){wn(a.ib,a.state.oa?0:a.state.volume);ix(a);a.qh()}k.Yk=function(){this.ph(!0);this.update()};k.Nl=function(){this.ph(!1);0===this.state.volume&&(this.state.volume=60);this.update()};k.toggle=function(){this.visible?this.Fk():this.Ue()};k.Ue=function(){var a=this;this.visible=!0;if(this.b.A instanceof Os||"split"!==Z())Rq(this.element,"100ms"),this.element.style.opacity="1",clearTimeout(this.ox),this.ox=setTimeout(function(){a.Fk()},this.Ws?2E3:5E3)};k.Fk=function(){this.visible=!1;this.Ws=!0;Rq(this.element,"500ms");this.element.style.opacity="0"};k.show=function(){this.element.style.visibility="visible";this.Ue();this.element.style.zIndex="2"};k.j=function(){this.element.style.visibility="hidden"};k.Li=function(a){this.state.volume=a;wn(this.ib,this.state.oa?0:this.state.volume);this.qh()};k.ph=function(a){this.state.oa=a;wn(this.ib,this.state.oa?0:this.state.volume);this.qh()};k.ur=function(a){this.Li(a);this.Hc()};k.Ol=function(a){this.ph(a);this.Hc()};k.Ub=function(){return 0};k.Ys=function(){};k.Pu=function(){};function Xw(a){"fullscreen"===Z()?tj():sj(a.Hs)}
function jx(a){var b=document.createElement("span");b.innerText=a;b.style.color="#ffffff";b.style.fontSize="13px";b.style.padding="5px";b.style.cssFloat="right";b.style.marginRight="4px";b.style.cursor="pointer";return b};function nx(a){jj.call(this);var b=this;this.b=a;this.ti=new Map;this.element.style.visibility="hidden";this.element.style.width="auto";this.element.style.minWidth="100px";this.element.style.height="auto";this.element.style.backgroundColor="black";this.element.style.position="absolute";this.element.style.borderRadius="2px";this.element.style.backgroundColor="rgba(50, 50, 50, 0.7)";this.element.onclick=function(){b.j()};this.b.A instanceof Ts&&z("visibilitychange",document,function(){b.b.Cr||("visible"===document.visibilityState?(void 0!==b.Cq&&(b.b.A.le(b.Cq),b.Cq=void 0),clearTimeout(b.zy)):"hidden"===document.visibilityState&&ox(b))});t(this.b.A.ce,function(c){b.ti.clear();b.clear();for(var d=l(c),e=d.next();!e.done;e=d.next())e=e.value,b.ti.set(e.label,e.value),b.element.appendChild(b.Yo(e)),e.Tj&&(b.b.S.Hb.innerText=e.label,b.cp=e.value);b.b.S.Hb.style.display=0===c.length?"none":""});t(this.Xb,function(){b.j()})}p(nx,jj);k=nx.prototype;k.u=function(){this.element.style.left=this.b.A.element.offsetLeft+this.b.S.Hb.offsetLeft+"px";this.element.style.bottom="split"===Z()?this.b.S.element.offsetHeight+"px":"0"};k.Yo=function(a){var b=this,c=document.createElement("div");c.innerText=a.label;c.style.color="#ffffff";c.style.fontSize="13px";c.style.padding="5px";c.style.marginRight="6px";c.style.cursor="pointer";c.style.width="100%";a.Tj?(c.style.backgroundColor="#ffffff",c.style.color="#333333"):(c.onclick=function(){U("clickMenuLink:QualitySelect-"+a.label);b.le(a.label);b.b.S.Hb.innerText=a.label},c.onmouseenter=function(){c.style.backgroundColor="rgba(150, 150, 150, 0.3)"},c.onmouseleave=function(){c.style.backgroundColor=""});return c};k.le=function(a){a=this.ti.get(a);void 0===a?x("Undefined quality level key",{},"VIDEO_"):(this.b.A.le(a),this.cp=a)};function ox(a){a.zy=setTimeout(function(){a.Cq=a.cp;a.b.A.le(0);a.cp=0},3E5)}k.clear=function(){for(;null!==this.element.firstChild;)this.element.removeChild(this.element.firstChild)};k.show=function(){this.hb();this.element.style.visibility="visible";this.u()};k.j=function(){this.Ua();this.element.style.visibility="hidden"};function px(a,b){$s.call(this,a,new fx(!1));this.zc=b;this.bb=!0;this.uv=80;this.Cr=this.Xf=!1;this.element.style.position="relative";this.element.style.backgroundColor="#000000";this.A.element.style.position="relative";this.hc.style.position="absolute";this.hc.style.width="88px";this.hc.style.top="6px";this.hc.style.right="6px";this.hc.style.visibility="hidden";this.A.element.appendChild(this.hc);this.gb.Aj.style.visibility="hidden";this.gb.oi=this.A.Gi;fj(this,this.gb);this.Oi=this.D(new nx(this));this.S=this.D(new hx(this,this.Oi));this.A.Yn(this.S);this.S.show()}p(px,$s);px.prototype.io=function(){this.A.element.style.position="relative"};px.prototype.u=function(){function a(){var d=b.A.Ub();b.Xf&&"split"===c&&b.A instanceof Kn&&(d=32);if("theater"===c){var e=l(Yw(b));d=e.next().value;e=e.next().value;b.element.style.height=e+"px";b.element.style.width="100%";b.Xf?(b.A.element.style.height="100%",b.A.element.style.width="100%"):(b.A.element.style.width=d+"px",b.A.element.style.height=e+"px")}else"videoonly"===c?(d=document.documentElement.clientHeight,e=document.documentElement.clientWidth,Nb(d,e),b.element.style.height=(b.bb?d:.75*e)+"px",b.element.style.width=(b.bb?d/.5625:e)+"px",b.A.element.style.height="100%",b.A.element.style.width="auto"):(b.element.style.height=b.element.offsetWidth*(b.bb?.5625:.75)+d+"px",b.element.style.width="100%",b.A.element.style.height="100%",b.A.element.style.width="100%");b.A.element.style.left="0";b.hc.style.visibility=F.Lu||b.Xf||!(b.A instanceof Kn||"theater"===c)?"hidden":"visible"}var b=this,c=Z();switch(c){case "split":a();this.Xf||this.A.Md();break;case "videoonly":a();this.A.Md();break;case "theater":a();vj()||this.A.Ld();break;case "fullscreen":this.A.Ld();break;default:x("Unexpected VideoMode: "+c)}};function qx(a,b){a.Xf=b;a.A instanceof Kn&&(a.A.Xf=b);b?a.u():setTimeout(function(){a.u()},0)}function Yw(a){var b=a.C.element.clientWidth-2*a.C.ah,c=document.documentElement.clientHeight-a.uv;430>=c?(c=430,b=c/(a.bb?.5625:.75)):(c=l(et(b,c-a.zc.offsetHeight,a.bb)),b=c.next().value,c=c.next().value,430>=c&&(c=430,b=c/(a.bb?.5625:.75)));return[b,c]};function rx(a){G.call(this);var b=this;this.nm=a;this.hl=[];this.element.style.position="fixed";this.element.style.height="";this.element.style.textShadow="1px 1px 0 #000, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000";this.element.style.fontSize="12px";this.va=document.createElement("div");this.va.style.position="absolute";this.va.style.bottom="0";this.element.appendChild(this.va);t(a.ck,function(c){Lx(b,c.eq(),c.Ix)});t(Wk,function(){b.clear()});t(X,function(c){b.element.style.fontSize=c.h.la.fontSize});t(Tk,function(c){b.element.style.fontSize=c.fontSize})}p(rx,G);rx.prototype.sa=function(){this.element.scrollTop=this.element.scrollHeight-this.element.offsetHeight};rx.prototype.clear=function(){for(var a=l(this.hl),b=a.next();!b.done;b=a.next())clearTimeout(b.value);for(this.hl=[];null!==this.va.firstChild;)this.va.removeChild(this.va.firstChild)};function Lx(a,b,c){a.va.appendChild(b);Mx(a,function(){b.style.opacity="0"});a.W();void 0!==c&&!0!==c||a.sa()}
function Mx(a,b){var c=setTimeout(function(){var d=a.hl.indexOf(c);0<=d&&a.hl.splice(d,1);b()},2E4);a.hl.push(c)}rx.prototype.Pr=function(){var a=this;t(this.nm.Am,function(){a.W()})};rx.prototype.u=function(){var a=this.nm.Da,b=this.nm.cb,c=a.getBoundingClientRect();this.element.style.left=c.left+"px";this.element.style.width=a.clientWidth+"px";this.va.style.width=a.clientWidth+"px";this.element.style.top=b.getBoundingClientRect().top+"px";this.element.style.height=b.clientHeight+"px";this.va.style.height=b.clientHeight+"px"};function Nx(a){rx.call(this,a);var b=this;this.nm=a;t(Du.fd,function(){b.sa()});t(Uk,function(){b.sa()})}p(Nx,rx);var Ox={Hy:17,shift:16,alt:18,Py:91,Sy:93,Gy:20,Yy:9},Px={left:37,$y:38,right:39,Ky:40};function Qx(a){if(void 0===a||13===a||27===a)return!1;for(var b in Px)if(a===Px[b])return!1;for(var c in Ox)if(a===Ox[c])return!1;return!0};var Rx,Sx;function Tx(a,b){function c(){return void 0!==document.activeElement&&null!==document.activeElement&&0<=["input","textarea","select","button"].indexOf(document.activeElement.tagName.toLowerCase())&&!tp()}function d(){return a.aa.ha.wb().Og()||b.wb().Og()}function e(){"split"===Z()?b.wb().Sc():a.aa.ha.wb().Sc()}t(Du.fd,function(){Rx=void 0});var f=new kj,g=0;t(ym,function(m){g=m?g+1:g-1});lj(f,{keyCode:9,xi:!1,ra:function(m){!d()&&c()&&a.yc!==a.$c||tp()||tp()||(Vm(a,a.aa),m.shiftKey?(jw(b),jw(a.aa.ha)):(b.ep(),a.aa.ha.ep()),e(),m.preventDefault(),m.stopPropagation())}});lj(f,{keyCode:13,xi:!1,ra:function(m){d()?io()?m.preventDefault():eb().scrollTop===Sx&&void 0!==Rx&&(eb().scrollTop=Rx,Rx=void 0):(Vm(a,a.aa),e())}});lj(f,{keyCode:27,xi:!1,ra:function(m){tp()?(void 0!==rp&&rp.j(),Vm(a,void 0),Rx=void 0):(m.stopPropagation(),m.preventDefault(),void 0!==a.yc&&a.yc.Xv&&a.removeChild(a.yc),Vm(a,void 0),eb().scrollTop===Sx&&void 0!==Rx&&(b.wb().df(),eb().scrollTop=Rx,Rx=void 0))}});lj(f,{keyCode:76,xi:!0,ra:function(m){if("split"===Z()||a.yc===a.aa)if("split"!==Z()||"block"===b.za.element.style.display)m.stopPropagation(),m.preventDefault(),a.aa.ha.Eh(),b.Eh()}});lj(f,{keyCode:83,xi:!0,ra:function(m){m.stopPropagation();m.preventDefault();"split"===Z()||"hidden"===a.element.style.visibility?w(Rk,{Pl:!0}):w(Lk,{Pl:!0})}});var h=[32,34,33];z("keydown",document,function(m){(27===m.keyCode||m.ctrlKey||m.metaKey?0:tp()||-1!==h.indexOf(m.keyCode)||0!==g||!d()&&c())||void 0!==a.yc&&$m(a.yc,m)||mj(f,m)||m.ctrlKey||m.metaKey||!Qx(m.which)||(Rx=eb().scrollTop,Vm(a,a.aa),e(),setTimeout(function(){Sx=eb().scrollTop},0))})};function Ux(a,b){var c=document.createElement("div");c.innerHTML=a;a=document.createElement("div");a.style.paddingTop="5px";var d=document.createElement("span");d.innerText=b;d.style.color="#0c6a93";d.style.padding="5px";d.style.display="inline";d.style.verticalAlign="top";a.appendChild(d);b=document.createElement("div");b.style.padding="0 10px";b.style.display="inline-block";d=l(c.getElementsByTagName("*"));for(var e=d.next();!e.done;e=d.next()){var f=e=e.value;"fixed"===f.style.position&&(f.style.position="absolute");"IMG"===f.tagName&&(e.className="bioImage");null!==f.style.top&&0>parseInt(f.style.top,10)&&(f.style.top="0");null!==f.style.marginTop&&0>parseInt(f.style.marginTop,10)&&(f.style.marginTop="0");null!==f.style.left&&0>parseInt(f.style.left,10)&&(f.style.left="0");null!==f.style.marginLeft&&0>parseInt(f.style.marginLeft,10)&&(f.style.marginLeft="0")}0!==c.children.length&&(c.children[0].style.display="unset");c.style.position="relative";b.appendChild(c);a.appendChild(b);return a}
function Vx(a,b){function c(g){var h=document.createElement("div");h.style.padding="10px";h.style.position="relative";h.style.display="inline-block";h.style.height="100px";h.title=g.name;h.onmouseenter=function(){h.style.cursor="pointer";n.style.textDecoration="underline"};h.onmouseleave=function(){h.style.cursor="default";n.style.textDecoration="none"};h.onclick=function(){var r="resizable,dependent,scrollbars,height=520,width=803,top="+(screen.height/2-260).toString()+",left="+(screen.width/2-401.5).toString(),v="/photo_videos/photoset/detail/"+b+"/"+g.id;-1!==window.location.search.indexOf("from_tube")&&(v=v+"?from_tube="+b);ll(v,void 0,r);return!1};var m=document.createElement("img");m.src=g.mk;m.width=150;m.height=100;m.className="userUpload";h.appendChild(m);g.Kc||(m=document.createElement("img"),m.src="https://ssl-ccstatic.highwebmedia.com/images/locked_rectangle4.png",m.width=150,m.height=100,m.style.top="10px",m.style.left="10px",m.style.position="absolute",m.style.border="none",h.appendChild(m));g.mc&&(m=document.createElement("img"),m.src="https://ssl-ccstatic.highwebmedia.com/images/play3.png",m.height=20,m.style.position="absolute",m.style.top="10px",m.style.left="10px",h.appendChild(m));""!==g.$f&&(m=document.createElement("span"),m.innerText=g.$f,m.style.backgroundColor=g.Fc,m.style.position="absolute",m.style.top="92px",m.style.right="15px",m.style.fontSize="10px",m.style.padding="2px",h.appendChild(m));var n=document.createElement("div");n.innerText=g.name;n.style.fontSize="12px";n.style.position="absolute";n.style.top="111px";n.style.left="0px";n.style.paddingLeft="13px";n.style.color="#0c6a93";n.style.maxWidth="145px";n.style.whiteSpace="nowrap";n.style.textOverflow="ellipsis";n.style.overflow="hidden";h.appendChild(n);return h}var d=document.createElement("div");d.style.position="relative";d.style.paddingTop="5px";d.style.paddingBottom="25px";var e=document.createElement("span");e.innerText=Td+":";e.style.color="#0c6a93";e.style.padding="5px";d.appendChild(e);e=document.createElement("div");e.style.paddingLeft="5px";a=l(a);for(var f=a.next();!f.done;f=a.next())e.appendChild(c(f.value));d.appendChild(e);return d}
function Wx(a,b){function c(g){var h=document.createElement("div");h.style.padding="10px";h.style.position="relative";h.style.display="inline-block";h.style.height="100px";h.title=g.uo;h.onmouseenter=function(){h.style.cursor="pointer";n.style.textDecoration="underline"};h.onmouseleave=function(){h.style.cursor="default";n.style.textDecoration="none"};h.onclick=function(){ll("/socials/social_media/"+b+"/"+g.id,void 0,"resizable,dependent,scrollbars,height=520,width=803,top="+(screen.height/2-260).toString()+
",left="+(screen.width/2-401.5).toString());return!1};var m=document.createElement("img");m.src=g.oj;m.width=150;m.height=100;m.className="userUpload";h.appendChild(m);m=document.createElement("span");m.innerText=g.$f;m.style.backgroundColor=g.Fc;m.style.position="absolute";m.style.top="92px";m.style.right="15px";m.style.fontSize="10px";m.style.padding="2px";h.appendChild(m);var n=document.createElement("div");n.innerText=g.uo;n.style.fontSize="12px";n.style.position="absolute";n.style.top="111px";n.style.left="0px";n.style.paddingLeft="13px";n.style.color="#0c6a93";n.style.maxWidth="145px";n.style.whiteSpace="nowrap";n.style.textOverflow="ellipsis";n.style.overflow="hidden";h.appendChild(n);return h}var d=document.createElement("div");d.style.position="relative";d.style.paddingTop="5px";d.style.paddingBottom="25px";var e=document.createElement("span");e.innerText=ef+":";e.style.color="#0c6a93";e.style.padding="5px";d.appendChild(e);e=document.createElement("div");e.style.paddingLeft="5px";a=l(a);for(var f=a.next();!f.done;f=a.next())e.appendChild(c(f.value));d.appendChild(e);return d}
function Xx(a){function b(h,m){var n=document.createElement("div"),r=document.createElement("div");r.style.position="relative";r.style.paddingLeft="5px";r.style.display="inline";var v=document.createElement("span");v.style.color="#0c6a93";v.innerText=h;r.appendChild(v);h=document.createElement("div");h.style.position="absolute";h.style.paddingRight="5px";h.style.display="inline";h.style.left="150px";h.style.overflow="hidden";h.style.textOverflow="ellipsis";h.style.whiteSpace="nowrap";v=document.createElement("span");v.style.whiteSpace="nowrap";v.innerText=m;h.appendChild(v);n.style.paddingTop="5px";n.appendChild(r);n.appendChild(h);return n}var c=document.createElement("div"),d=a.username.charAt(0).toUpperCase()+a.username.slice(1);if("public"===a.fb){var e=document.createElement("a");e.href="./?"+a.username;e.text="View "+d+"'s Cam";e.style.position="relative";e.style.padding="5px 5px 5px 0";e.style.textAlign="right";e.style.display="inline-block";e.style.width="100%";e.style.fontSize="14px";e.style.textDecoration="none";e.onmouseenter=function(){e.style.textDecoration="underline"};e.onmouseleave=function(){e.style.textDecoration="none"};z("click",e,function(h){h.preventDefault();w(Mk,a.username)});c.appendChild(e)}if(a.Yh){var f=document.createElement("span");f.innerText=bc(d);f.style.padding="0 5px 5px 0";f.style.width="100%";f.style.display="inline-block";f.style.textAlign="right";f.style.fontSize="14px";f.style.textDecoration="none";c.appendChild(f)}else if(!a.Yh&&a.Ie){var g=document.createElement("a");g.href="#";g.text=ac(d);g.style.position="relative";g.style.padding="0 5px 5px 0";g.style.color="#0a5a83";g.style.width="100%";g.style.display="inline-block";g.style.textAlign="right";g.style.fontSize="14px";g.style.textDecoration="none";g.onclick=function(){ll(""+a.sw,void 0,"resizable,dependent,scrollbars,height=583,width=1000,top="+(screen.height/2-291.5).toString()+",left="+(screen.width/2-500).toString());return!1};g.onmouseenter=function(){g.style.textDecoration="underline"};g.onmouseleave=function(){g.style.textDecoration="none"};c.appendChild(g)}""!==a.On&&c.appendChild(b(Ud+":",a.On));isNaN(a.Km)||c.appendChild(b(Vd+":",a.Km.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")));""!==a.gg&&("Couple"===a.gg?c.appendChild(b(Xd+":",""+a.gg.charAt(0).toUpperCase()+a.gg.substring(1))):c.appendChild(b(Wd+":",""+a.gg.charAt(0).toUpperCase()+a.gg.substring(1))));""!==a.Cm&&c.appendChild(b(Yd+":",a.Cm));isNaN(a.Cg)||c.appendChild(b($d+":",a.Cg.toString()));""!==a.jm&&c.appendChild(b(ae+":",a.jm));""!==a.im&&c.appendChild(b(be+":",a.im));""!==a.en&&(d=JSON.parse(a.en).join(", "),c.appendChild(b(ce+":",d)));""!==a.location&&c.appendChild(b(de+":",a.location));void 0!==a.Qk&&c.appendChild(b(fe+":",a.Qk));""!==a.languages&&c.appendChild(b(ge+":",a.languages));""!==a.co&&c.appendChild(b(he+":",a.co));return c}function Yx(a){G.call(this);var b=this;this.Ab(Qq(a));this.yu=function(c){b.Ab(Qq(c.h.a))};t(X,this.yu,!1)}p(Yx,G);Yx.prototype.Ab=function(a){var b=this;void 0!==this.content&&this.element.removeChild(this.content.dg);var c=document.createElement("span");c.innerText=le+"...";this.element.appendChild(c);this.element.style.display="block";a.then(function(d){var e=document.createElement("div");e.style.fontSize="14px";var f=Xx(d.ob);e.appendChild(f);var g=void 0;0<d.eo.length&&(g=Wx(d.eo,d.ob.username),e.appendChild(g));var h=void 0;0<d.Ln.length&&(h=Vx(d.Ln,d.ob.username),e.appendChild(h));var m=void 0;""!==d.Zl&&(m=Ux(d.Zl,Pd+":"),e.appendChild(m));var n=void 0;""!==d.Co&&(n=Ux(d.Co,Qd+":"),e.appendChild(n));b.content={dg:e,ob:f,Vy:g,Qy:h,az:m,cz:n};b.content.dg.style.position="relative";b.content.dg.style.paddingRight="3px";b.content.dg.style.cursor="default";b.content.dg.style.overflow="scroll";b.content.dg.style.height="100%";b.element.removeChild(c);b.element.appendChild(b.content.dg);b.W()}).catch(function(d){x("Bio Content error: "+d);d=document.createElement("div");d.style.position="absolute";d.style.height="100%";d.style.width="100%";d.style.top="0";d.style.left="0";d.style.display="block";var e=document.createElement("span");e.innerText=je;e.style.display="block";e.style.padding="10px";d.appendChild(e);b.content={dg:d};b.element.removeChild(c);b.element.appendChild(b.content.dg)})};Yx.prototype.u=function(){if(void 0!==this.content&&void 0!==this.content.ob)for(var a=l(this.content.ob.childNodes),b=a.next();!b.done;b=a.next())b=b.value.childNodes[1],void 0!==b&&(b.style.maxWidth=this.element.offsetWidth-150-5+"px")};Yx.prototype.ue=function(){X.removeListener(this.yu)};var Zx;t(X,function(a){Zx=a.h.xy});function $x(a,b){this.Hv="https://roomlister.stream.highwebmedia.com/session/";this.Me={categories:a.join(",").trim(),num:b.toString()}}
function ay(a,b){var c=a.Hv+b;return new Promise(function(d,e){function f(m){var n=[];m=new L(m);a.Me.key=N(m,"key");var r=JSON.parse(uk(m,"rooms"));r=l(r);for(var v=r.next();!v.done;v=r.next())v=v.value,n.push({username:v.username,xk:v.gender});T(m);d(n)}void 0!==Zx&&(a.Me.clientGender=Zx);var g=new XMLHttpRequest;if(void 0!==g.withCredentials)g.onload=function(){206===g.status&&"Session Not Found"===g.responseText.trim()?e("Session Not Found"):Hb(g.status)?f(g.responseText):e(g.status)},g.onerror=function(){e(g.status)},g.open("POST",c,!0),g.setRequestHeader("content-type","application/x-www-form-urlencoded"),g.send(Ek(a.Me));else{var h=new XDomainRequest;h.onerror=function(){e("error")};h.onload=function(){f(h.responseText)};h.onprogress=function(){};h.ontimeout=function(){e("error")};h.open("POST",c,!0);h.send(Ek(a.Me).toString())}})}$x.prototype.start=function(a){0<a.length&&(this.Me.alreadyShownRooms=a);return ay(this,"start/")};$x.prototype.next=function(){return ay(this,"next/")};var by;t(X,function(a){by=a.h.a});function cy(a,b,c){G.call(this);var d=this;this.N=a;this.element.style.position="relative";this.element.style.padding="4px";this.Lj=document.createElement("a");this.Lj.href="/"+a+"/";this.element.appendChild(this.Lj);z("click",this.Lj,function(e){U("LoadRoomFromRoomList",{location:c+"_draggable",from_broadcaster:by,broadcaster:d.N});e.metaKey||e.ctrlKey||(w(Mk,d.N),e.preventDefault())});pb(this.Lj,function(){Vj(d.N,"mr",b)});this.nl=document.createElement("img");this.nl.className="moreRooms";this.nl.style.width="100%";this.nl.style.height="100%";this.Lj.appendChild(this.nl);this.Ea=document.createElement("div");this.Ea.innerText=a;this.Ea.style.position="absolute";this.Ea.style.bottom="7px";this.Ea.style.color="#ffffff";this.Ea.style.fontSize="19px";this.Ea.style.textShadow="1px 1px 1px #000, -1px -1px 1px #000, 1px -1px 1px #000, -1px 1px 1px #000";this.Lj.appendChild(this.Ea);this.ho=new Ob(this.N,this.nl);this.element.onmouseenter=function(){Pb(d.ho)};this.element.onmouseleave=function(){Sb(d.ho,!1)}}
p(cy,G);cy.prototype.u=function(){void 0!==this.parent?this.Ea.style.left=this.parent.element.offsetWidth/2-this.Ea.offsetWidth/2+"px":x("Room does not have a parent")};cy.prototype.ue=function(){Sb(this.ho,!1);G.prototype.ue.call(this)};function dy(a){switch(a){case "male":return"m";case "female":return"f";case "trans":return"t";case "couple":return"c";case "followed":return"o";default:return x("Cannot convert gender "+a),""}};var ey,no=!0;t(X,function(a){ey=dy(a.h.ml);no=a.i.Sb});function fy(a){G.call(this);var b=this;this.Is=[];this.Nm=[];this.fm=!0;this.bq=!1;this.cq="genders";this.ie=[];this.ek=[];this.Zh=!1;this.source=a;this.element.style.fontSize="12px";this.element.style.overflowY="scroll";z("scroll",this.element,function(){gy(b)});y()&&(a=window.localStorage.getItem(this.cq),null!==a&&(this.ie=JSON.parse(a),no&&(a=this.ie.indexOf(dy("followed")),0<=a&&this.ie.splice(a,1))));this.Fe=document.createElement("div");this.Fe.style.margin="2px 2px 0 2px";this.Fe.style.whiteSpace="nowrap";this.Fe.style.textAlign="center";this.element.appendChild(this.Fe);hy(this,"Female",Ae);hy(this,"Male",Ce);hy(this,"Couple",Ge);hy(this,"Trans",Ee);this.Uk=document.createElement("div");this.Uk.innerText=le+"...";this.Uk.style.color=F.xc;this.Uk.style.margin="4px";iy(this);a=document.createElement("p");a.style.color=F.xc;a.style.cursor="pointer";a.style.padding="0";a.style.margin="0";a.onclick=function(){iy(b)};a.innerText=ze;a.style.textAlign="left";this.Fe.appendChild(a);this.Sw=setInterval(function(){for(var c=l(b.children()),d=c.next();!d.done;d=c.next())Qb(d.value.ho)},3E4)}p(fy,G);fy.prototype.close=function(){clearInterval(this.Sw)};fy.prototype.children=function(){return G.prototype.children.call(this)};function hy(a,b,c){function d(){return"Followed"===b&&io('You must be logged in to view your followed cams. Click "OK" to login.')?!0:!1}var e=document.createElement("input");e.setAttribute("type","checkbox");e.name=b.toLowerCase();e.title=b;e.checked=-1<a.ie.indexOf(dy(b.toLowerCase()));0<a.Nm.length&&(e.style.marginLeft="12px");e.onchange=function(){d()?e.checked=!1:jy(a)};a.Fe.appendChild(e);a.Is.push(e);var f=document.createElement("img");f.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/icon"+
b+".png";f.style.position="relative";f.style.top="2px";f.style.cursor="pointer";f.style.width="16px";f.style.height="16px";f.title=c;f.onclick=function(){d()||(e.checked=!e.checked,jy(a))};a.Fe.appendChild(f);c=document.createElement("span");c.innerText=b;c.style.position="relative";c.style.color=F.xc;c.style.top="1px";c.style.marginLeft="4px";c.style.cursor="pointer";c.onclick=function(){d()||(e.checked=!e.checked,jy(a))};a.Fe.appendChild(c);a.Nm.push(c)}
function jy(a){a.ie=[];for(var b=l(a.Is),c=b.next();!c.done;c=b.next())c=c.value,c.checked&&a.ie.push(dy(c.name));U("ChangeRoomListGender",{selectedGenders:a.ie});y()&&(0===a.ie.length?window.localStorage.removeItem(a.cq):window.localStorage.setItem(a.cq,JSON.stringify(a.ie)));iy(a)}
fy.prototype.u=function(){G.prototype.u.call(this);for(var a=this.element.clientWidth-8,b=l(this.children()),c=b.next();!c.done;c=b.next())c=c.value,c.element.style.width=a+"px",c.element.style.height=.84375*c.element.offsetWidth+"px";this.Fe.style.width=a+"px";if(!this.fm&&this.Fe.scrollWidth<=a){c=l(this.Nm);for(b=c.next();!b.done;b=c.next())b.value.style.display="inline-block";this.fm=!0}if(this.fm&&this.Fe.scrollWidth>a){a=l(this.Nm);for(b=a.next();!b.done;b=a.next())b.value.style.display="none";this.fm=!1}gy(this)};function iy(a){hj(a);a.ek=[];a.bq=!0;a.element.appendChild(a.Uk);!no&&-1<a.ie.indexOf(dy("followed"))?(a.Zh=!0,oo().then(function(b){a.Zh=!1;0<b.length&&ky(a,b.map(function(c){return{N:c,Nf:!0}}));ly(a);a.W()})):(ly(a),a.W())}function my(a){return 0===a.ie.length?void 0===ey?window.default_gender.split(""):[ey]:a.ie.filter(function(b){return b!==dy("followed")})}
function ly(a){a.bh=new $x(my(a),10);a.bh.start(ny(a)).then(function(b){oy(a,b.map(function(c){return c.username}))}).catch(function(b){a.Zh=!1;x("getNewIterator: "+b)})}
function py(a){a.Zh||(a.Zh=!0,"key"in a.bh.Me&&a.bh.next().then(function(b){try{0===b.length?(a.ek=[],ly(a)):oy(a,b.map(function(c){return c.username}))}catch(c){x(c+": Could not load more rooms from the roomIterator")}}).catch(function(b){a.Zh=!1;"Session Not Found"===b?(Nb("roomlist session not-found. recreating..."),ly(a)):x("loadMoreRooms: "+b)}))}function oy(a,b){mo(b).then(function(c){ky(a,c);gy(a);a.W()})}
function ky(a,b){a.Zh=!1;for(var c=.84375*(a.element.clientWidth-8),d=a.element.scrollTop,e=[],f=l(a.children()),g=f.next();!g.done;g=f.next())if(g=g.value,g.element.offsetTop-d<-15*c)e.push(g);else break;c=l(e);for(g=c.next();!g.done;g=c.next())e=g.value,d-=e.element.offsetHeight,a.removeChild(e);a.element.scrollTop=d;a.bq&&(a.element.removeChild(a.Uk),a.bq=!1);b=l(b);for(d=b.next();!d.done;d=b.next())a.ek.push(a.D(new cy(d.value.N,a.ek.length+1,a.source)))}
function gy(a){a.element.scrollTop+4.21875*(a.element.clientWidth-8)>=a.element.scrollHeight-a.element.offsetHeight&&py(a)}function ny(a){var b=[];a=l(a.ek);for(var c=a.next();!c.done;c=a.next())b.push(c.value.N);return b};function qy(){ql.apply(this,arguments)}p(qy,ql);qy.prototype.wm=function(){var a=ql.prototype.wm.call(this);a.style.fontFamily="'UbuntuMedium', Helvetica, Arial, sans-serif";return a};function ry(a){G.call(this);var b=this;this.Hl=a;this.zi="public";this.Ia=0;this.Xh=this.ln=!1;this.jh=new q("tipSent");this.Kt=new q("notifyAttemptSendTip");this.gr=!1;this.element.style.minWidth="400px";this.element.style.overflow="visible";this.element.style.color=F.xc;a=document.createElement("div");a.style.display="inline-block";var c=document.createElement("span");c.innerText=Ne;c.style.display="inline-block";c.style.fontSize="13px";c.style.fontWeight="bold";c.style.padding="6px";a.appendChild(c);this.tc=document.createElement("span");this.tc.innerText=me+"...";this.tc.style.display="inline-block";this.tc.style.color="green";this.tc.style.fontSize="13px";this.tc.style.fontWeight="bold";this.tc.style.padding="6px 6px 6px 0";a.appendChild(this.tc);t(X,function(m){b.N=m.i.a();t(m.i.event.Qb,function(n){switch(n.ua){case "privatewatching":case "groupwatching":b.zi="private";break;default:b.zi="public"}})});t(rq,function(m){b.wr(m.ka)});var d=document.createElement("a");d.innerText=jd;d.href="/tipping/purchase_tokens/";d.style.display="inline-block";d.style.color="#0a5a83";d.style.position="absolute";d.style.right="0";d.style.fontSize="13px";d.style.padding="6px";d.onclick=function(){ll("/tipping/purchase_tokens/","_blank","height=615, width=850");return!1};d.onmouseenter=function(){d.style.textDecoration="underline"};d.onmouseleave=function(){d.style.textDecoration="none"};a.appendChild(d);this.element.appendChild(a);this.mr=a;this.Za=document.createElement("div");this.Za.style.display="none";this.Za.style.color="#ff0000";this.Za.style.fontSize="13px";this.Za.style.fontWeight="bold";this.Za.style.padding="6px";this.Za.style.textAlign="center";this.Za.style.position="absolute";this.Za.style.left="50%";a=document.createElement("div");a.innerText=Pe;this.Za.appendChild(a);a=document.createElement("div");a.innerText=Qe;this.Za.appendChild(a);this.element.appendChild(this.Za);this.je=document.createElement("form");c=document.createElement("label");a=document.createElement("span");a.innerText=Re;a.style.display="inline-block";a.style.fontSize="13px";a.style.padding="6px";c.appendChild(a);this.Z=Cl();this.Z.value="25";this.Z.min="1";this.Z.style.width="5em";this.Z.style.display="inline-block";this.Z.style.fontSize="13px";this.Z.style.padding="4px";this.Z.style.border="1px solid #b4b4b4";this.Z.style.borderRadius="4px";this.Z.style.marginTop="12px";this.Z.onclick=function(){b.Qh()};this.Ed=document.createElement("div");this.Ed.innerText=Se;this.Ed.style.color="red";this.Ed.style.display="none";this.Ed.style.paddingLeft="5px";a=document.createElement("div");this.Z.oninput=function(){sy(b)};c.appendChild(this.Z);c.appendChild(this.Ed);this.je.appendChild(c);c=document.createElement("label");this.td=document.createElement("div");this.td.innerText=Uc;this.td.style.fontSize="13px";this.td.style.padding="6px 6px 0 6px";c.appendChild(this.td);this.Rd=document.createElement("div");this.fa=document.createElement("textarea");this.fa.maxLength=255;this.fa.style.width="100%";this.fa.style.resize="none";this.fa.style.fontSize="13px";this.fa.style.margin="6px";this.fa.style.padding="4px";this.fa.style.border="1px solid #4b4c4b";this.fa.style.borderRadius="4px";this.fa.style.boxSizing="border-box";this.Rd.appendChild(this.fa);this.td.onclick=function(){b.fa.select()};c.appendChild(this.Rd);this.je.appendChild(c);a.style.textAlign="right";a.style.position="relative";c=document.createElement("div");c.style.textAlign="left";this.Kb=document.createElement("div");this.Kb.innerText=Te;c.style.position="absolute";this.Kb.style.display="none";c.style.fontSize="10px";c.style.cssFloat="left";c.style.lineHeight="1.3em";c.style.padding="6px";c.style.textAlign="left";c.style.left="0px";a.appendChild(c);c.appendChild(this.Kb);this.K=new qy;this.D(this.K,a);this.Al=document.createElement("div");this.Al.style.fontSize="10px";var e=document.createElement("label"),f=document.createElement("span");f.innerText=Ue;f.style.cursor="pointer";var g=document.createElement("input");g.type="checkbox";z("click",g,function(){b.gr=!b.gr});e.appendChild(f);e.appendChild(g);this.Al.appendChild(e);c.appendChild(this.Al);this.je.appendChild(a);z("keydown",this.element,function(m){9===m.keyCode&&(m.preventDefault(),m.shiftKey?b.K.hasFocus()&&!zl(b.K)?g.focus():document.activeElement===g?b.fa.focus():document.activeElement===b.fa?b.Z.focus():b.K.hasFocus()||zl(b.K):b.K.hasFocus()&&!Al(b.K)?b.Z.focus():document.activeElement===b.Z?b.fa.focus():document.activeElement===b.fa?g.focus():b.K.hasFocus()||Al(b.K))});this.element.appendChild(this.je);this.u();var h;z("submit",this.je,function(m){m.preventDefault();var n=parseInt(b.Z.value);!isNaN(n)&&b.K.isEnabled()&&(U("SendTipClicked",{amount:n}),100<n&&!b.Xh?(wl(b.K,Yb(n)),b.Xh=!0,b.u()):(b.Z.blur(),void 0===h&&(uq({N:b.N,ev:b.Z.value,message:""+(void 0!==b.wa?b.wa.value:b.fa.value),source:b.Hl,fv:b.zi,Ji:b.K.Ji,qg:Z()}).then(function(r){r.success?U("SendTipSuccess",{amount:n}):void 0!==r.error?H(r.error):x("unknown send tip error");ty(b);b.fa.value="";void 0!==r.Sd&&w(qq,r.Sd);w(b.jh,{amount:n,success:r.success})}).catch(function(r){x("Error sending tip ("+
r+")");w(b.jh,{amount:n,success:!1})}),w(b.Kt,{amount:n}),h=setTimeout(function(){return h=void 0},250))))})}p(ry,G);k=ry.prototype;k.u=function(){this.Rd.style.width=Math.max(0,this.element.clientWidth-12)+"px";this.Kb.style.maxWidth=Math.max(0,this.element.offsetWidth-this.K.element.offsetWidth-15)+"px"};function ty(a){var b=a.K;xl(b);b.Vi&&!b.Wk&&(b.Wk=!0,b.Oa.style.borderRadius="4px 0 0 4px",b.hd.style.display="inline-block",b.ij=[b.Oa,b.hd],b.W());a.Xh=!1}
function sy(a){/^[1-9]\d*$/.test(a.Z.value)?(a.K.enable(),a.Ed.style.display="none",0<a.Ia&&parseInt(a.Z.value)>a.Ia?a.ln||(U("TokenAmountTooHigh"),a.ln=!0):a.ln=!1):(a.K.disable(),a.Ed.style.display="inline-block");a.Xh&&ty(a)}
k.show=function(a){var b=this;this.K.Tb.j(!0);void 0!==a.amount&&(this.Z.value=a.amount.toString(),sy(this));this.fa.value=void 0!==a.message?a.message:"";void 0!==a.Pl&&a.Pl?(this.Kb.style.display="none",this.Al.style.lineHeight="3em"):(this.Kb.style.display="block",this.Al.style.lineHeight="");Bl(this.Hl,this.K);sq(this.N).then(function(c){b.Z.max=c.Ia.toString();if(void 0!==c.Sj){b.td.innerText=c.Sj.label;void 0!==b.wa&&b.Rd.removeChild(b.wa);b.wa=document.createElement("select");b.wa.style.width="100%";b.wa.style.fontSize=".8125em";b.wa.style.margin="6px";b.wa.style.border="1px solid #4b4c4b";b.wa.style.boxSizing="border-box";b.Rd.appendChild(b.wa);var d=document.createElement("option");d.innerText="-- "+Ve+" --";b.wa.appendChild(d);c=l(c.Sj.options);for(d=c.next();!d.done;d=c.next()){var e=d.value;d=document.createElement("option");d.innerText=e.label;d.value=e.label;b.wa.appendChild(d)}b.fa.style.display="none"}else void 0!==b.wa&&(b.td.innerText=Uc,b.fa.value="",b.fa.style.display="block",b.Rd.removeChild(b.wa),b.wa=void 0);b.u();b.Qh()}).catch(function(c){x("Error getting token balance ("+c+")")})};k.Qh=function(a){if(document.activeElement!==this.Z||(void 0===a?0:a))this.Z.focus(),this.Z.setSelectionRange(0,9999)};k.wr=function(a){this.Ia=a;this.tc.innerText=a+" "+Xb(a,!1)};k.Ks=function(){this.element.style.visibility="hidden";document.body.appendChild(this.element);this.element.style.width=this.mr.offsetWidth+"px";this.element.style.height="auto";var a=[this.element.offsetWidth,this.element.offsetHeight];document.body.removeChild(this.element);this.element.style.visibility="";return a};var uy;function vy(a,b,c){function d(f){f.preventDefault();null===e.parentElement?x("Username span has no parent"):(wy+=1,U("OpenUserContextMenu",{username:a.username}),xy(a,e.parentElement,f,c))}c=void 0===c?"":c;var e=document.createElement("span");e.style.color=(void 0===b?0:b)?ut(a):xt(a);e.style.fontWeight="bold";e.innerText=a.username;e.onmouseenter=function(){e.style.textDecoration="underline";e.style.cursor="pointer"};e.onmouseleave=function(){e.style.textDecoration="none";e.style.cursor="default"};z("click",e,d);z("contextmenu",e,d);return e}function yy(a){9===a.keyCode&&void 0!==uy&&uy.sd()}function zy(){void 0!==uy&&uy.sd()}function xy(a,b,c,d){d=void 0===d?"":d;2===Dt&&(Dt=0,kt(a.username).then(function(e){uy=new Ay(a,e,b,d);b.style.cursor="default";uy.position(c);uy.gk(e.gk,a.username);z("keydown",document,yy);z(wj(),document,zy)}).catch(function(e){Dt=2;x("Could not process user menu request: "+e)}))}var wy=0;function Ay(a,b,c,d){Et.call(this,a,b,c,d);var e=this;this.Ha=new Ma;La(t(st,function(){void 0!==e.target&&By(e,e.target)}),this.Ha)}p(Ay,Et);Ay.prototype.mp=function(){for(var a,b,c=this.Aa;void 0!==c&&"body"!==c.tagName.toLowerCase();c=null===c.parentElement?void 0:c.parentElement){var d=window.getComputedStyle(c);void 0===a&&"hidden"===d.overflowY&&(a=c);void 0===b&&"hidden"===d.overflowX&&(b=c);if(void 0!==a&&void 0!==b)break}return{Qv:a,Pv:b}};function By(a,b){b=b.getBoundingClientRect();if(document.body.contains(a.name)){var c=a.name.getBoundingClientRect(),d=a.P.offsetLeft+(b.left-c.left);a.P.style.top=a.P.offsetTop+(b.top-c.top)+"px";a.P.style.left=d+"px"}c=a.mp();b=c.Qv;c=c.Pv;c=void 0===c?document.documentElement:c;var e=(void 0===b?document.documentElement:b).getBoundingClientRect(),f=c.getBoundingClientRect();d=a.P.getBoundingClientRect();b=e.bottom-d.height;c=f.right-d.width;e=e.top;f=f.left;var g=d.top;d=d.left;e>g&&(a.P.style.top=a.P.offsetTop+(e-g)+"px");f>d&&(a.P.style.left=a.P.offsetLeft+(f-d)+"px");b<g&&(a.P.style.top=a.P.offsetTop+(b-g)+"px");c<d&&(a.P.style.left=a.P.offsetLeft+(c-d)+"px")}Ay.prototype.position=function(a){this.target=a.target;By(this,this.target)};Ay.prototype.sd=function(){Oa(this.Ha);this.target=void 0;void 0!==this.Dh&&this.Dh.sd();this.Aa.removeChild(this.P);this.Aa.removeChild(this.R);qb("keydown",document,yy);qb(wj(),document,zy);uy=void 0;Dt=2;--wy};var Cy;t(X,function(a){Cy=a.i});function Dy(){G.call(this);this.yr=new q("UserListWindow:userCountUpdate");this.Ql=[];this.element.id="users-list";this.element.style.padding="0 6px";this.element.style.boxSizing="border-box";this.element.style.position="";this.Hh();this.refresh(!1)}p(Dy,G);k=Dy.prototype;k.wi=function(){for(;null!==this.element.firstChild;)this.element.removeChild(this.element.firstChild)};k.Hh=function(){var a=document.createElement("div");a.innerText=Xe+"...";a.style.color=F.xc;a.style.margin="6px 0";this.element.style.fontSize="12px";this.element.appendChild(a)};k.Zo=function(){var a=this,b=document.createElement("div");b.style.color=F.xc;b.style.margin="6px 0";var c=document.createElement("span");c.innerText=Ze;c.id="refresh-userlist";c.style.cursor="pointer";z("click",c,function(d){a.wi();a.Hh();a.refresh(!1);d.preventDefault()});b.appendChild(c);this.element.appendChild(b)};k.clear=function(a){w(this.yr,a);this.wi();this.Hh();this.u()};k.refresh=function(a){var b=this;a=void 0===a?!0:a;Cy.kp().then(function(c){w(b.yr,c.lh);if(!a){b.wi();b.Zo();b.Ql=c.pg;for(var d=l(b.Ql),e=d.next();!e.done;e=d.next()){e=e.value;var f=document.createElement("div");f.style.width="100%";f.style.margin="6px 0";f.appendChild(vy(e,!0));b.element.appendChild(f)}d=document.createElement("div");d.style.color=F.xc;d.innerText="+"+c.Hf+" anonymous user"+(1===c.Hf?"":"s");d.style.width="100%";d.style.margin="6px 0";d.style.whiteSpace="nowrap";b.element.appendChild(d);b.u()}}).catch(function(c){x("Error retrieving user list: "+c)})};k.u=function(){G.prototype.u.call(this)};var Ey=!1,Fy,Gy,Hy;t(X,function(a){Ey=a.h.la.Pj;Fy=a.h.ml;Gy=a.i;Hy=a.h.bn});t(Tk,function(a){Ey=a.Pj});function Iy(a){a=du(a);a=new au(a.red,a.green,a.blue);var b=a.brightness();bu(a,255-b/3);return"rgb("+a.red+", "+a.green+", "+a.blue+")"}
function Jy(a){var b=Ey,c=new gt(a);a=document.createElement("span");a.className="emoticonImage";a.innerText=c.rc()[0];for(var d={Jb:1};d.Jb<c.rc().length;d={Jb:d.Jb},d.Jb+=1){if(!b||0<=Hy.indexOf(c.ca()[d.Jb-1].name)){var e=document.createElement("span");e.style.color="lightskyblue";e.innerText=":"+c.ca()[d.Jb-1].name;e.style.cursor="pointer";e.onclick=function(g){return function(){var h={Ic:c.ca()[g.Jb-1].name,url:c.ca()[g.Jb-1].Vf};w(iu,h)}}(d);a.appendChild(e)}else{e=document.createElement("img");var f=c.ca()[d.Jb-1].mo;e.src=void 0!==f?f:c.ca()[d.Jb-1].Vf;e.title=":"+c.ca()[d.Jb-1].name;e.style.cursor="pointer";e.onclick=function(g){return function(){var h={Ic:c.ca()[g.Jb-1].name,url:c.ca()[g.Jb-1].Vf};w(iu,h)}}(d);e.name=c.ca()[d.Jb-1].name;e.height=c.ca()[d.Jb-1].height;e.width=c.ca()[d.Jb-1].width;a.appendChild(e)}""!==c.rc()[d.Jb]&&(e=document.createElement("span"),e.innerText=c.rc()[d.Jb],a.appendChild(e))}return a}
function Ky(a){var b=Ly(a.vb.username);b.style.fontSize="";var c=vy(a.vb,!1,a.un);c.style.marginRight="4px";b.appendChild(c);var d=Jy(a.message);d.style.color=Iy(void 0!==a.Xe?a.Xe:"#FFFFFF");void 0!==a.font&&(c.style.fontFamily=a.font,d.style.fontFamily=a.font);b.appendChild(d);return b}
function My(a){var b=Ly();b.style.padding="1px 5px";var c=document.createElement("div");c.style.display="inline-block";void 0!==a.background?(c.style.background=a.background,c.style.color=void 0!==a.qa?a.qa:"#000000",c.style.padding="2px",c.style.textShadow="none"):c.style.color=Iy(void 0!==a.qa?a.qa:"#aaaaaa");c.style.fontWeight=void 0!==a.weight?a.weight:"normal";b.appendChild(Ny(c,a.V,void 0!==a.background));return b}
function Ny(a,b,c){b=l(b);for(var d=b.next();!d.done;d=b.next()){var e=document.createElement("div");d=l(d.value);for(var f=d.next();!f.done;f=d.next())switch(f=f.value,f.Xc){case 1:e.appendChild(Oy(f));break;case 0:e.appendChild(vy(f.bd,c));break;case 2:e.appendChild(Py(f.message));break;case 4:e.appendChild(Qy(Dd,function(){"grouprequesting"===Gy.status?H(Fd):Wt(Gy)}));break;case 3:e.appendChild(Qy(xe,function(){"privatespying"!==Gy.status&&Vt(Gy)}));break;default:x("Unknown roomNotice type for: "+
f)}a.appendChild(e)}return a}function Qy(a,b){var c=document.createElement("a");c.style.color="#85FFFF";c.style.textDecoration="underline";c.innerText=a;c.onclick=b;c.style.cursor="pointer";return c}function Py(a){var b=document.createElement("a");b.href="/tag/"+a+"/"+Fy;b.style.color="#85FFFF";b.style.textDecoration="none";b.innerText="#"+a;return b}function Ry(a){var b=Ly();b.innerText=a;b.style.color=Iy("#aaaaaa");return b}
function Sy(a,b){var c=Ly(),d=document.createElement("span");d.innerText=rc(a);c.appendChild(d);for(a=0;a<b.length;a+=1)d=document.createElement("a"),d.href=b[a].Qr,d.target="_blank",d.innerText=b[a].Jo,d.style.color=Iy("#1c8fc8"),d.style.textDecoration="none",c.appendChild(d),a<b.length-1&&(d=document.createElement("span"),d.innerText=", ",c.appendChild(d));c.style.color=Iy("#aaaaaa");return c}
function Ty(a){function b(e){var f=document.createElement("span");f.innerText=e;return f}var c=Ly();c.style.color=Iy("#aaaaaa");c.appendChild(b(""+xc));c.appendChild(document.createElement("br"));c.appendChild(b(yc+" "));var d=Qy(Cc,function(){});d.href="/supporter/upgrade/";d.target="_blank";d.onclick=function(){U("SupporterPageOpened",{source:"chat"})};c.appendChild(d);c.appendChild(b(" "+Dc(a)+"."));return c}
function Ly(a){a=void 0===a?"":a;var b=document.createElement("div");b.style.fontFamily="Tahoma,Arial,Helvetica,sans-serif";b.style.boxSizing="border-box";b.style.paddingTop="3px";b.style.paddingBottom="3px";b.style.paddingLeft="5px";b.style.paddingRight="5px";0<a.length&&b.setAttribute("data-nick",a);return b}
function Oy(a){var b=document.createElement("span");!1!==a.xq?b=Jy(a.message):b.innerText=a.message;b.style.color=void 0!==a.qa?a.qa:"";b.style.background=void 0!==a.background?a.background:"";b.style.fontWeight=void 0!==a.weight?a.weight:"";return b};function Uy(){Rl.call(this);var a=this;this.M=0;this.element.id="chat-box";this.element.style.overflow="";this.w=new xv({cl:function(b){w(Lk,b)},dl:function(){bv(a.i)},al:function(b){a.i.Xq(b)}});this.D(this.w);this.Ho=new Jw({ja:function(b,c){return a.w.ja(b,c)},Un:function(b){a.w.Un(b)},yk:function(){return a.w.yk()},wn:function(b){return a.w.wn(b)},Fw:function(){return a.w.cb.scrollTop},Ew:function(){return a.w.element.offsetHeight}});t(X,function(b){a.i=b.i;a.w.ja(Ry("Rules: No spamming. Do not insist the cam hosts to do as you please. Do not announce other rooms or websites that would conflict with this room. Avoid any argumentative and/or rude posts related to the cam viewing. Do not attempt to post your e-mail address in the public chat."));a.w.ja(Ry('To send a tip, press CTRL+S or type "/tip 25".'));0<b.h.Xi.length&&a.w.ja(Sy(b.h.a,b.h.Xi))});t(Wk,function(){a.w.clear()})}p(Uy,Rl);k=Uy.prototype;k.u=function(){Rl.prototype.u.call(this);w(st,void 0)};k.sa=function(){this.w.sa()};k.Jg=function(){return 99<this.M?oe+" (99+)":0<this.M?oe+" ("+this.M+")":oe};k.Of=function(){return"chat-tab-fvm"};k.Sc=function(){this.w.Sc()};k.df=function(){};k.Og=function(){return document.activeElement===this.w.J};k.show=function(){Rl.prototype.show.call(this);this.M=0;this.Db();this.w.sa();this.w.J.focus()};k.Tm=function(a){for(var b=[],c=l(this.w.Da.childNodes),d=c.next();!d.done;d=c.next())d=d.value,d.getAttribute("data-nick")===a&&b.push(d);a=l(b);for(b=a.next();!b.done;b=a.next())this.w.Da.removeChild(b.value)};k.Rh=function(){return this.w.J.value};k.Ci=function(a){this.w.J.value=a};k.Ig=function(){return this.w.J};k.rd=function(a,b){Rl.prototype.rd.call(this,a,b);U("FocusTab",{location:"chat"})};function Vy(a){var b=document.createElement("div"),c=document.createElement("div"),d=document.createElement("div"),e=document.createElement("img");e.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/icon-close-off.png";e.height=16;e.width=16;d.style.padding="5px 5px 0 10px";d.style.verticalAlign="top";d.style.display="inline-block";d.style.overflow="hidden";c.innerText=a.Bi.bd+" "+(0===a.Bi.M?"":"("+a.Bi.M+")");c.style.whiteSpace="nowrap";c.style.textOverflow="ellipsis";c.style.overflow="hidden";c.style.padding="5px 5px 5px 15px";c.style.display="inline-block";c.style.width=a.size-16-5-10-20+"px";b.style.color="#423DB0";b.style.width=a.size+"px";b.onmouseenter=function(){e.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/icon-close-on.png";b.style.background="#7E7E7E";b.style.cursor="pointer";b.style.color="#e1e1e1"};b.onmouseleave=function(){e.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/icon-close-off.png";b.style.background="#e1e1e1";b.style.cursor="default";b.style.color="#423DB0"};z("click",c,function(){a.onClick()});z("click",e,function(){a.rq()});b.appendChild(c);d.appendChild(e);b.appendChild(d);return b}
function Wy(a,b){Rl.call(this);var c=this;this.Zp=b;this.M=0;this.jl=new q("incomingPm");this.Na=new Map;this.ya=new fv;this.element.style.overflow="";this.om=a;t(pn,function(d){c.Yd();void 0===c.Na.get(d.username)&&c.Jk(d.username,!1,d.cr);iv(c.ya,d.username);c.Db();c.hg();d.focus&&Sl(c)});t(X,function(d){c.i=d.i});t(Wk,function(){for(var d=l(c.Na.keys()),e=d.next();!e.done;e=d.next())c.ze(e.value)});t(qn,function(d){c.ze(d)})}p(Wy,Rl);k=Wy.prototype;k.sa=function(){var a=lv(this);void 0!==a&&a.w.sa()};k.Jg=function(){return 99<this.M?"PM (99+)":0<this.M?"PM ("+this.M+")":"PM"};k.rd=function(a){var b=this;U("FocusTab",{location:"PM",unread:this.M});if(1===this.Na.size)Sl(this),this.Yd(),iv(this.ya,this.Na.keys().next().value),this.hg();else{var c=document.createElement("div"),d=document.createElement("div"),e=function(){b.om.element.removeChild(c);b.om.element.removeChild(d);X.removeListener(e)};t(X,e,!1);var f=document.createElement("div"),g=document.createElement("span"),h=document.createElement("img");h.src="https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/red-arrow-down.gif";h.height=6;h.style.padding="0 0 2px 4px";g.innerText=ye;g.style.padding="0 5px 0 5px";g.style.whiteSpace="nowrap";g.style.color=F.Ja;f.style.minWidth="150px";f.appendChild(h);f.appendChild(g);g=document.createElement("hr");g.style.margin="4px";c.appendChild(f);c.appendChild(g);c.style.border="1px solid #6B6B6B";c.style.fontSize="12px";c.style.position="relative";c.style.background="#e1e1e1";c.style.borderRadius="4px";c.style.display="none";c.style.padding="6px 0 6px 0";c.style.maxHeight="300px";c.style.overflow="auto";f=[];g=l(this.Na.keys());for(h=g.next();!h.done;h=g.next())f.push(h.value);g=f.sort();f={};g=l(g);for(h=g.next();!h.done;f={ak:f.ak},h=g.next())f.ak=h.value,h=this.Na.get(f.ak),void 0===h?x("can't find pmsession"):c.appendChild(Vy({Bi:h,rq:function(m){return function(){b.ze(m.ak);e()}}(f),onClick:function(m){return function(){Sl(b);b.Yd();iv(b.ya,m.ak);b.hg();e()}}(f),size:250}));a=a.getBoundingClientRect();c.style.top="-24px";c.style.left="40px";c.style.width="252px";c.style.zIndex="999";this.om.element.appendChild(c);c.style.display="block";d.style.position="fixed";d.style.height="100%";d.style.width="100%";d.style.top="0";d.style.left="0";d.style.zIndex="998";d.onclick=e;this.om.element.insertBefore(d,c);window.document.documentElement.clientHeight<c.offsetTop+c.offsetHeight&&(c.style.height=window.document.documentElement.clientHeight-a.top-18+"px");window.document.documentElement.clientWidth<c.offsetLeft+c.offsetWidth+8&&(c.style.left=window.document.documentElement.clientWidth-
c.offsetWidth-8+"px")}};k.rj=function(){return 0===this.Na.size};k.Of=function(){return"pm-tab-fvm"};k.Sc=function(){var a=lv(this);void 0===a?x("session undefined"):a.w.Sc()};k.df=function(){};k.Og=function(){var a=lv(this);return void 0===a?(x("session undefined"),!1):document.activeElement===a.w.J};k.u=function(){Rl.prototype.u.call(this);var a=lv(this);void 0!==a&&(a.w.sa(),w(st,void 0))};k.Jk=function(a,b,c){var d=this,e=this.Na.get(a);void 0===e?(e=eu(),e.innerHTML=sc(a),e.style.textAlign="center",e.style.width="auto",e.style.borderBottom="1px solid #acacac",e.style.margin="0 10px 5px 5px",e.style.display="none",e.style.color="#cfcfcf",e={w:new xv({cl:function(f){w(Lk,f)},dl:function(){bv(d.i)},al:function(f){U("SendPrivateMessage",{username:a});d.ya.te(a);d.i.Vq(f,a)}}),M:0,gi:0,bd:a,kk:e},this.Na.set(a,e),e.w.ja(Ry("Private conversation with "+a)),e.w.ja(Ry(vc())),!b&&c&&e.w.ja(Ty(a)),e.w.element.style.display="none",this.D(e.w)):e.kk.style.display="";!0===b&&w(this.jl,{username:a,gn:1>e.gi});return e};k.ja=function(a,b,c){this.ya.te(c);var d=this.Jk(c,b!==this.i.username(),!1);this.i.username()===b||Tl(this)&&this.ya.Xa===c?iv(this.ya,c):(this.M+=1,d.M+=1,d.gi+=1,this.Db());return a=d.w.ja(a)};k.Aq=function(a){if(Tl(this)){var b=lv(this);void 0!==b&&b.w.ja(a)}};k.ze=function(a){var b=this.Na.get(a);if(void 0!==b){var c=Tl(this)&&this.ya.Xa===a;this.ya.remove(a);b.w.dj();this.removeChild(b.w);this.Na.delete(a);c&&(mv(this)||this.Zp());this.M-=b.M;this.Db();w(qn,b.bd)}};k.Eh=function(){var a=lv(this);void 0===a?x("cannot close current tab"):this.ze(a.bd)};k.hg=function(){if(void 0===this.ya.Xa)x("no currentpmsession");else{var a=this.Na.get(this.ya.Xa);void 0===a?x("no pm session"):(a.w.element.style.display="block",a.w.W(),a.w.J.focus(),0<a.M&&(this.M-=a.M,a.M=0,this.Db()),w(Xk,a.bd),a.w.ja(a.kk))}};k.Yd=function(){var a=lv(this);void 0!==a&&(a.w.element.style.display="none")};k.Rh=function(){var a=lv(this);return void 0===a?"":a.w.J.value};k.Ci=function(a){var b=lv(this);void 0!==b&&(b.w.J.value=a)};k.Ig=function(){var a=lv(this);if(void 0!==a)return a.w.J};function Xy(){function a(){cw(b.rb);void 0!==b.parent&&b.parent.hk(0)}Rl.call(this);var b=this;this.rb=new Qv;this.element.id="settings-tab";this.element.style.color="#ffffff";this.element.style.fontSize="12px";this.element.style.fontFamily="Tahoma, Arial, Helvetica, sans-serif";fj(this,this.rb);this.rb.Fd.style.color="#85ffff";this.da=rv();this.da.style.position="absolute";var c=qv();this.J=sv();this.J.onclick=a;this.J.onfocus=a;this.Pb=tv();this.Pb.style.fontFamily="UbuntuRegular, Helvetica, Arial, sans-serif";this.ih=vv();this.ih.style.fontFamily="UbuntuRegular, Helvetica, Arial, sans-serif";c.appendChild(this.J);this.da.appendChild(c);this.da.appendChild(this.Pb);this.da.appendChild(this.ih);this.element.appendChild(this.da);var d=document.createElement("div");d.innerText=ne;d.style.position="absolute";d.style.top="10px";d.style.right="10px";d.style.fontFamily="UbuntuRegular, Helvetica, Arial, sans-serif";d.style.color="#000000";d.style.backgroundColor="#d8deea";d.style.border="1px solid #acacac";d.style.borderRadius="4px";d.style.padding="8px 12px";d.style.opacity="0";this.element.appendChild(d);t(Du.fd,function(){"split"!==Z()&&(fj(b,b.rb),b.rb.Fd.style.color="#85ffff")});var e;t(this.rb.Wo,function(){clearTimeout(e);Rq(d,"250ms");d.style.opacity="1";e=setTimeout(function(){Rq(d,"1000ms");d.style.opacity="0"},3E3)})}p(Xy,Rl);k=Xy.prototype;k.u=function(){if("split"!==Z()){this.da.style.width=this.element.clientWidth+"px";var a=this.Pb.getBoundingClientRect();a=a.right-a.left;var b=this.ih.getBoundingClientRect();a=this.da.clientWidth-12-6-Math.ceil(b.right-b.left+a)-4;a=Math.max(0,a);this.J.style.width=a+"px";this.rb.element.style.height=this.element.clientHeight-27+"px"}};k.Jg=function(){return"&nbsp;"};k.rp=function(){return"url(https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/ico-preferences.png)"};k.Of=function(){return"settings-tab-fvm"};k.Sc=function(){};k.df=function(){this.J.blur()};k.Og=function(){return document.activeElement===this.J};k.sa=function(){};k.Rh=function(){return this.J.value};k.Ci=function(a){this.J.value=a};k.Ig=function(){return this.J};k.rd=function(a,b){Rl.prototype.rd.call(this,a,b);U("FocusTab",{location:"chatSettings"})};function Yy(){Il.call(this);var a=this;this.Rp=!1;this.element.style.overflow="";this.Y=Jl(this,new Uy);this.za=Jl(this,new Wy(this,function(){Ol(a,a.Y)}));this.Zn=Jl(this,new Xy);Ol(this,this.Y);t(X,function(c){t(c.i.event.yi,function(d){cv(a.Y);a.Y.w.ja(Ky(d))});t(c.i.event.U,function(d){a.Y.w.ja(My(d));d.X&&a.za.Aq(My(d))});t(c.i.event.si,function(d){a.za.ja(Ky(d),d.vb.username,d.uq)});t(c.i.event.Gj,function(d){a.Y.Tm(d.username);a.Y.w.Kq(d.username);a.za.ze(d.username)});t(c.i.event.fk,function(d){c.i.Wi&&a.Y.w.ja(Ry("DEBUG: "+d))})});t(rn,function(c){c?a.Y.w.ja(Ry("Debug mode enabled. Type /debug again to disable.")):a.Y.w.ja(Ry("Debug mode disabled."))});var b=new gw;t(this.za.jl,function(c){(a.Rp||c.gn)&&hw(b,c.username)&&a.Y.w.ja(My({V:[[{Xc:1,message:"New private "+(c.gn?"conversation":"message")+" from "+c.username+" "},{Xc:1,message:"(Press TAB to cycle through your conversations)",qa:"#cd0000",weight:"700"}]],X:!1}))})}p(Yy,Il);k=Yy.prototype;k.u=function(){this.window.style.height=this.element.clientHeight-this.Rb.offsetHeight+"px"};k.wb=function(){return Il.prototype.wb.call(this)};k.children=function(){return Il.prototype.children.call(this)};k.ep=function(){cw(this.Zn.rb);if(Il.prototype.wb.call(this)===this.Y){if(!this.za.rj()){Ol(this,this.za);var a=this.za;a.Yd();hv(a.ya);mv(this.za)||x("no pmSessions")}}else 0<this.Y.M?Ol(this,this.Y):mv(this.za)||Ol(this,this.Y)};k.Eh=function(){Il.prototype.wb.call(this)===this.za&&this.za.Eh()};function Zy(a){var b=new Yy;Tm.call(this,a,b,{pe:"Chat",minWidth:150,minHeight:100,jf:400,hf:250,gf:[1,3],$g:!0,Fn:function(){c.ha.wb().Sc()},Ot:function(){c.ha.wb().sa()},Ap:[b.Rb]});var c=this;this.va.style.background="rgba(0,0,0,0.6)";this.va.style.borderColor="#7f7f7f";t(b.Y.w.Es,function(){c.blur()});z("blur",b.Y.w.J,function(){if(a.$m!==c||tp())a.yc=void 0,w(a.np,void 0)});z("mouseleave",this.element,function(){a.$m=void 0;w(a.Ir,void 0)});var d=!0;t(X,function(f){d=f.i.Sb});var e;t(Du.fd,function(f){e=f.Ih;void 0!==c.Yc&&"split"===e&&c.Yc.j()});t(on,function(f){d?w(Sk,!0):"split"!==e&&(void 0===c.Yc&&(c.Yc=c.D(new lw(b))),c.Yc.show(f))});this.ha=b}p(Zy,Tm);Zy.prototype.qp=function(){void 0===this.Yc&&(this.Yc=this.D(new lw(this.ha)));return this.Yc};function $y(a){G.call(this);var b=this;this.hi=a;this.element.style.position="static";this.element.style.overflow="auto";this.element.style.padding="4px 7px";this.element.style.boxSizing="border-box";this.element.style.fontSize="12px";this.element.style.minWidth="230px";this.element.style.maxWidth="230px";this.element.style.height="auto";a=l(this.children());for(var c=a.next();!c.done;c=a.next())c.value.element.style.margin="2px 0";t(X,function(d){var e=!0===d.h.we,f=d.h.ve===F.Ac;az(b,e,f,d.i.status);t(d.i.event.Qb,function(g){az(b,e,f,g.ua)});t(d.i.event.yf,function(g){e=g.we;f=g.ve===F.Ac;az(b,e,f,d.i.status)})})}p($y,G);function az(a,b,c,d){hj(a);a:switch(d){case "privatewatching":case "privatespying":case "groupwatching":var e=!0;break a;default:e=!1}if(e)void 0===a.cs&&(a.cs=new bz),a.D(a.cs);else{a:switch(d){case "privaterequesting":b=!0;break a;case "privatespying":case "privatewatching":case "privatenotwatching":case "groupwatching":case "grouprequesting":case "groupnotwatching":case "away":b=!1}b&&(void 0===a.hu&&(a.hu=new cz(a.hi)),a.D(a.hu));if(b=F.Ac)a:if(F.Ac)switch(d){case "grouprequesting":case "groupnotwatching":b=!0;break a;case "groupwatching":case "privatewatching":case "privatespying":case "privaterequesting":case "privatenotwatching":case "away":b=!1;break a;default:b=c}else b=!1;b&&(void 0===a.Os&&(a.Os=new dz(a.hi)),a.D(a.Os))}a.hi()}
function ez(){G.call(this);this.element.style.display="inline-block";this.element.style.height="auto";this.element.style.position="relative";this.element.style.padding="5px 5px";this.element.style.backgroundColor="#F3F3F3";this.element.style.border="1px solid #DEDEDE";this.element.style.boxSizing="border-box";this.element.style.borderRadius="3px";this.element.style.font="UbuntuRegular, Arial, Helvetica, sans-serif";this.element.style.fontSize="12px";this.element.style.lineHeight="14px";this.element.style.textAlign="center"}p(ez,G);function fz(a){var b=document.createElement("div");b.innerText=a;b.style.width="100%";b.style.margin="5px 0";b.style.fontSize="14px";b.style.fontFamily="UbuntuMedium, Arial, Helvetica, sans-serif";b.style.fontWeight="500";b.style.letterSpacing="-0.05em";b.style.color="#033E58";return b}
function gz(a){var b=document.createElement("div");Sa()&&(b.style.background="linear-gradient(180deg, #4083A1 30.21%, #4063A1 78.45%)");b.style.textShadow="0px 1px 2px rgba(0, 0, 0, 0.25)";b.style.display="inline-block";b.innerText=a;b.style.border="1px solid #3C5464";b.style.boxSizing="border-box";b.style.borderRadius="4px";b.style.color="#FFF";b.style.fontWeight="bold";b.style.padding="6px 10px";b.style.margin="5px 0";b.style.cursor="pointer";b.style.textDecoration="none";return b}
function cz(a){ez.call(this);var b=this;this.hi=a;this.O=fz(nh);this.button=gz(lh);this.Yg=this.qb=0;this.xh=!1;this.element.appendChild(this.O);this.Ej=document.createElement("div");this.Ej.style.margin="5px 0";this.Ej.style.lineHeight="16px";this.Ej.style.letterSpacing="-0.05em";this.og=document.createElement("div");this.og.style.fontFamily="UbuntuMedium, Arial, Helvetica, sans-serif";this.og.style.color="#49494F";this.Ej.appendChild(this.og);this.xn=document.createElement("div");this.xn.style.color="#999";this.Ej.appendChild(this.xn);this.element.appendChild(this.Ej);this.element.appendChild(this.button);this.ri=document.createElement("div");this.ri.innerText=eh;this.ri.style.fontSize="9px";this.ri.style.color="#49494F";this.ri.style.lineHeight="125%";this.ri.style.margin="5px 0";this.element.appendChild(this.ri);t(X,function(c){t(c.i.event.Qb,function(d){"privaterequesting"===d.ua?(b.button.innerText=kh,b.button.onclick=function(){Xt(c.i)}):(b.button.innerText=lh,b.button.onclick=function(){Ut(c.i)},b.update())});t(c.i.event.yf,function(d){hz(b,d.xh,d.qb,d.Yg);switch(c.i.status){case "grouprequesting":case "privaterequesting":break;default:b.update()}});hz(b,c.h.xh,c.h.qb,c.h.Yg);b.update()})}p(cz,ez);function hz(a,b,c,d){void 0!==b&&(a.xh=b);void 0!==c&&(a.qb=c);void 0!==d&&(a.Yg=d)}
cz.prototype.update=function(){this.og.innerText=oc(this.qb);var a=this.xn;var b=this.Yg;b=D(B("(minimum %(minMinutes)s minutes)"),{minMinutes:b},!0);a.innerText=b;this.xn.style.display=0===this.Yg?"none":"block";this.ri.style.display=this.xh?"block":"none";this.hi()};function dz(a){ez.call(this);var b=this;this.hi=a;this.og=document.createElement("div");this.Rl=document.createElement("div");this.O=fz(fh);this.button=gz(hh);this.Ni=this.Ze=this.mb=0;this.element.appendChild(this.O);this.og.style.fontFamily="UbuntuMedium, Arial, Helvetica, sans-serif";this.og.style.color="#49494F";this.Rl.style.color="#999";a=document.createElement("div");a.appendChild(this.og);a.appendChild(this.Rl);this.element.appendChild(a);this.element.appendChild(this.button);t(X,function(c){iz(b,c.i.status,c.h.mb,c.h.Mt,c.h.Lt);t(c.i.event.mj,function(d){iz(b,c.i.status,void 0,d.Ze,d.Ni)});t(c.i.event.yf,function(d){iz(b,c.i.status,d.mb,void 0,d.iq)});t(c.i.event.Qb,function(d){"grouprequesting"===d.ua?(iz(b,d.ua),b.button.onclick=function(){c.i.Tk()}):("groupnotwatching"===d.ua&&"groupwatching"===d.Jd&&--b.Ze,iz(b,d.ua),b.button.onclick=function(){Wt(c.i)})});t(c.i.event.Kj,function(d){"groupwatching"===c.i.status&&(b.Ze=d-1,iz(b,c.i.status))})})}p(dz,ez);function iz(a,b,c,d,e){void 0!==c&&(a.mb=c);void 0!==d&&(a.Ze=d);void 0!==e&&(a.Ni=e);"grouprequesting"===b?(a.Rl.style.display="block",a.button.innerText=ih):(a.button.innerText=hh+" ( "+a.Ze+" / "+a.Ni+" )",a.Rl.style.display="none");a.Rl.innerText=Bd+" ( "+a.Ze+" / "+a.Ni+" )";a.og.innerText=oc(a.mb);a.hi()}
function bz(){G.call(this);var a=this;this.Uj=document.createElement("div");this.element.style.display="inline-block";this.element.style.height="auto";this.element.style.position="relative";this.element.style.boxSizing="border-box";this.element.style.borderRadius="3px";this.element.style.font="UbuntuRegular, Arial, Helvetica, sans-serif";this.element.style.fontSize="12px";this.element.style.lineHeight="14px";this.element.style.minWidth="200px";this.element.style.textAlign="center";this.Uj.style.display="block";this.Uj.style.fontSize="16px";this.Uj.style.lineHeight="18px";this.Uj.style.margin="5px 0";this.element.appendChild(this.Uj);var b=document.createElement("div");b.style.textShadow="0px 1px 2px rgba(0, 0, 0, 0.25)";Sa()?b.style.background="linear-gradient(180deg, #FD5035 16.39%, #C51B01 86.03%)":b.style.backgroundColor="#FD5035";b.style.display="inline-block";b.style.boxSizing="border-box";b.style.borderRadius="4px";b.style.color="#FFF";b.style.padding="6px 10px";b.style.margin="5px 0";b.style.cursor="pointer";b.style.textDecoration="none";this.element.appendChild(b);t(X,function(c){jz(a,c.h.Ia);t(c.i.event.oo,function(d){d.vb.username===c.i.username()&&jz(a,a.Lv-d.amount)});t(c.i.event.Qb,function(d){function e(){Xt(c.i)}switch(d.ua){case "privatewatching":b.innerText=jh;b.onclick=e;break;case "privatespying":b.innerText=mh;b.onclick=e;break;case "groupwatching":b.innerText=gh;b.onclick=function(){Yt(c.i)};break;default:b.onclick=function(){}}})});t(rq,function(c){jz(a,c.ka)})}p(bz,G);function jz(a,b){a.Lv=b;a.Uj.innerText=b+" "+Xb(b,!1)};function kz(a,b){a=void 0===a?"fullvideo":a;G.call(this);var c=this;this.Oj=b;this.Zv=[];this.Zj=new dv;this.uw=new q("focusChanging",{wf:!1});this.np=new q("focusChanged",{wf:!1});this.Cy=new q("windowOpened",{wf:!1});this.By=new q("windowClosed",{wf:!1});this.Ir=new q("windowHover",{wf:!1});this.element.style.overflow="";this.source=a;this.aa=lz(this,new Zy(this));t(pn,function(g){c.aa.Wb||(c.aa.element.style.display="",c.aa.Wb=!0);g.focus&&Vm(c,c.aa);c.aa.W()});t(Kk,function(){if(void 0!==c.Ar&&c.Ar.Wb)c.removeChild(c.Ar);else{mz(c,"Users");var g=new Dy,h=["privatewatching","groupwatching"],m=function(E){(0<=h.indexOf(E.Jd)||0<=h.indexOf(E.ua))&&setTimeout(function(){g.refresh(!1)},2E3);"notconnected"===E.Jd&&(g.refresh(!1),g.element.scrollTop=0)},n=!0,r=function(E){t(E.i.event.Qb,m,!1);n||void 0===E.h.Cn||g.clear(E.h.Cn);n=!1};t(X,r);var v=lz(c,new Tm(c,g,{title:re,$g:!0,pe:"Users",minWidth:100,minHeight:100,jf:190,hf:230,gf:[0,2]}));g.element.style.overflowY="auto";c.W();t(g.yr,function(E){Ym(v,re+" ("+E+")")});v.Vg=function(){X.removeListener(r)};c.Ar=v}});t(Pk,function(){c.aa.Wb?(c.aa.element.style.display="none",c.aa.Wb=!1):(c.aa.element.style.display="",c.aa.Wb=!0,Vm(c,c.aa));c.W()});t(mn,function(){void 0!==c.mq&&c.mq.Wb?c.removeChild(c.mq):(nz(c),c.W())});t(Jk,function(g){function h(r){Ym(n,r.h.a)}mz(c,"Bio");var m=new Yx(g),n=lz(c,new Tm(c,m,{title:g,$g:!0,pe:"Bio",hf:400,jf:360,minWidth:360,minHeight:100,gf:[0,2],Vg:function(){X.removeListener(h)}}));t(X,h,!1);c.W()});var d;t(X,function(g){void 0!==g.h.Mb?d=g.h.Mb:x("isAgeVerified is not defined.")});var e;t(Lk,function(g){if(void 0!==g.amount||!oz(c)){U("OpenTipCallout");void 0===c.Pa&&(c.Pa=new ry(a),t(c.Pa.Kt,function(n){e=n.amount;void 0!==c.$c&&w(Lk,{})}));void 0===g.amount&&(g.amount=e);var h=function(){void 0!==c.$c&&c.removeChild(c.$c)};if(d)var m=!io('You must be logged in to tip. Click "OK" to login.');else H("This broadcaster doesn't accept tips."),m=!1;m&&(void 0!==c.Oj&&c.Oj.Tr(c.Pa),c.Pa.show(g),void 0!==c.$c?Vm(c,c.$c):(m=l(c.Pa.Ks()),g=m.next().value,m=m.next().value,c.$c=lz(c,new Tm(c,c.Pa,{title:Xc,$g:!1,pe:"Tip",minWidth:g+4,minHeight:m+4,jf:g,hf:m,gf:[4],Vg:function(){X.removeListener(h);c.$c=void 0},Fn:function(){void 0!==c.Pa&&c.Pa.Qh()},sq:function(n){if(void 0===c.$c)return x("undefined tipwindow"),!0;27===n.keyCode?c.removeChild(c.$c):83===n.keyCode&&n.ctrlKey&&c.removeChild(c.$c);return!0}})),c.$c.va.style.boxSizing="",t(X,h,!1),c.W(),c.Pa.Qh(!0)))}});var f;t(X,function(g){0<g.h.Xi.length&&(f=g.h.Xi[0].Jo,void 0!==c.Iv&&Ym(c.Iv,"App: "+f));void 0!==c.Yb&&c.Yb.Wb&&c.removeChild(c.Yb);var h=g.i.status,m=!0!==g.h.Mb||!0!==g.h.we&&!0!==g.h.ve;t(g.i.event.Qb,function(r){h=r.ua;switch(r.ua){case "unknown":case "offline":case "notconnected":case "away":case "hidden":case "privatenotwatching":case "passwordprotected":void 0!==c.Yb&&c.Yb.Wb&&c.removeChild(c.Yb);break;case "privaterequesting":case "privatewatching":case "privatespying":case "grouprequesting":case "groupwatching":break;default:m&&void 0!==c.Yb&&c.Yb.Wb&&c.removeChild(c.Yb)}});var n=["privaterequesting","privatespying","privatewatching","grouprequesting","groupwatching"];t(g.i.event.yf,function(r){(m=!r.we&&(!F.Ac||!r.ve))&&-1===n.indexOf(h)&&void 0!==c.Yb&&c.Yb.Wb&&c.removeChild(c.Yb)})});t(Nk,function(){void 0!==c.af&&c.af.Wb?c.removeChild(c.af):(void 0!==c.af&&c.removeChild(c.af),c.Ff=new Bw,c.af=lz(c,new Tm(c,c.Ff,{title:ue,$g:!0,pe:"Abuse",minWidth:270,minHeight:200,jf:270,hf:200,gf:[3,1],Fn:function(){void 0!==c.Ff&&c.Ff.ye.focus()},sq:function(){return!0},Vg:function(){c.af=void 0}})),c.W(),t(c.Ff.sm,function(){void 0!==c.af&&c.removeChild(c.af)}))});t(Ok,function(){void 0!==c.Yb&&c.Yb.Wb?c.removeChild(c.Yb):(void 0===c.gu&&(c.gu=new $y(function(){void 0!==c.Yb&&c.Yb.Wb&&c.Yb.zq.apply()})),c.Yb=lz(c,new Tm(c,c.gu,{title:F.Ac?bh:ch,$g:!1,pe:"PrivateAndGroup",gm:!0,minWidth:248,minHeight:270,jf:248,hf:270,gf:[2,1]})),c.W())});this.dm=new Ns;this.element.appendChild(this.dm.element);"1"===Fk().room_list&&nz(this);Vm(this,void 0)}p(kz,G);function nz(a){mz(a,"Rooms");var b=new fy(a.source),c=225+Dm();a.mq=lz(a,new Tm(a,b,{title:we,$g:!0,pe:"Rooms",minWidth:c,minHeight:100,jf:c,hf:385,gf:[1,2],Vg:function(){b.close()}}))}kz.prototype.u=function(){G.prototype.u.call(this);for(var a=l([].concat(this.Zj.xe)),b=a.next();!b.done;b=a.next())b.value.zq.apply();void 0!==this.dm&&(this.dm.element.style.left=(this.element.clientWidth-this.dm.element.offsetWidth)/2+"px")};function Vm(a,b){if(!a.zx&&a.yc!==b){if(void 0!==a.yc){var c=a.yc;c.va.style.opacity=void 0!==c.config.Ov?c.config.Ov:"1";void 0!==c.config.Ot&&c.config.Ot();if(document.activeElement!==document.body&&void 0!==document.activeElement&&null!==document.activeElement)try{document.activeElement.blur()}catch(f){}}w(a.uw,b);if(void 0!==b){U("FocusWindow",{windowName:b.config.pe});a.Zj.te(b);c=a.children().length+10;for(var d=l([].concat(a.Zj.xe)),e=d.next();!e.done;e=d.next())e.value.element.style.zIndex=""+c,--c;d=l(a.Zv);for(e=d.next();!e.done;e=d.next())e.value.element.style.zIndex=""+c,--c;b.va.style.opacity="1";void 0!==b.config.Fn&&b.config.Fn()}a.yc=b;w(a.np,b)}}kz.prototype.D=function(){throw Error("addChild not supported");};function lz(a,b){t(b.ns,function(c){a.zx=c});z("mousedown",b.element,function(c){a.yc!==b&&(Vm(a,b),c.preventDefault())});z("mouseover",b.element,function(){a.$m=b;w(a.Ir,b)});a.Zj.te(b);G.prototype.D.call(a,b,void 0);Vm(a,b);w(a.Cy,b);b.Wb=!0;return b}
kz.prototype.removeChild=function(a){a.Wb=!1;void 0!==a.Vg&&a.Vg();Vm(this,void 0);this.Zj.remove(a);G.prototype.removeChild.call(this,a);w(this.By,a)};function mz(a,b){for(var c=l([].concat(a.Zj.xe)),d=c.next();!d.done;d=c.next())if(d=d.value,d.config.pe===b){a.removeChild(d);d===a.yc&&Vm(a,void 0);break}}function oz(a){var b=!1;void 0!==a.$c&&a.$c.Wb&&void 0!==a.Pa&&!a.Pa.gr&&(a.removeChild(a.$c),b=!0);return b};function pz(){G.call(this);var a=this;this.Np=!1;this.Dt=new q("messageRemoved");this.element.style.display="none";this.element.style.position="static";t(X,function(b){a.bv="tfa-msg-"+b.h.userName;!b.i.Sb&&!a.Np&&0<b.h.Ia&&!b.h.ky&&"1"!==xb(a.bv)&&(a.dw="tfa",a.Mq(pg))})}p(pz,G);pz.prototype.Mq=function(a){var b=this;this.element.style.display="block";this.element.style.height="auto";this.element.style.position="static";this.element.style.padding="5px 0px";this.element.style.textAlign="center";this.element.style.boxSizing="border-box";this.element.style.fontSize="14px";this.element.style.fontWeight="400";this.element.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";this.element.style.color=F.gp;var c=document.createElement("div");c.style.padding="15px";c.style.backgroundColor="#ffffd3";c.style.border="1px solid #ccc";var d=document.createElement("div");d.innerHTML=a;this.qk=document.createElement("a");this.qk.style.color=F.Bd;this.qk.textContent=lf;this.qk.style.cursor="pointer";a=document.createElement("span");a.textContent=" (";var e=document.createElement("span");e.textContent=")";d.appendChild(a);d.appendChild(this.qk);d.appendChild(e);c.appendChild(d);this.element.appendChild(c);a={};d=l(d.getElementsByTagName("a"));for(e=d.next();!e.done;a={vh:a.vh},e=d.next())a.vh=e.value,a.vh.style.color=F.Bd,a.vh.onmouseenter=function(f){return function(){f.vh.style.textDecoration="underline"}}(a),a.vh.onmouseleave=function(f){return function(){f.vh.style.textDecoration=""}}(a);z("click",this.qk,function(){b.element.style.display="none";b.element.removeChild(c);b.Np=!1;"tfa"===b.dw&&Ab(b.bv,"1",864E3);w(b.Dt,void 0)});this.Np=!0};function qz(){G.call(this);var a=this;this.element.style.display="none";this.element.style.position="static";this.element.style.margin="21px 36px";this.element.style.color=F.Ja;this.element.style.fontSize="12.006px";var b=document.createElement("div");b.innerText=Hf;b.style.fontFamily="'UbuntuRegular', Arial, Helvetica, sans-serif";b.style.fontWeight="700";this.element.appendChild(b);b=document.createElement("form");b.onsubmit=function(e){e.preventDefault();a.submit()};var c=document.createElement("label");c.innerText=rf+": *";c.setAttribute("for","room_password");c.style.display="inline-block";c.style.fontFamily="'UbuntuMedium', Arial, Helvetica, sans-serif";c.style.fontWeight="400";c.style.margin="21px 8px 22px 62px";b.appendChild(c);this.input=document.createElement("input");this.input.type="text";this.input.id="room_password";this.input.style.border="1px solid #b1b1b1";this.input.style.borderRadius="4px";this.input.style.padding="2px 4px";this.input.style.lineHeight="18px";this.input.style.width="225px";this.input.style.height="20px";this.input.style.fontFamily="Arial, Helvetica, sans-serif";b.appendChild(this.input);var d=document.createElement("button");d.innerText=If;d.setAttribute("type","submit");d.style.display="block";d.style.fontSize="14px";d.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";d.style.margin="0px 135px";d.style.padding="5px 17px";d.style.color="#ffffff";d.style.backgroundColor="#f47321";d.style.border="1px solid #b1b1b1";d.style.borderRadius="4px";d.style.cursor="pointer";d.onclick=function(e){e.preventDefault();a.submit()};d.onmouseenter=function(){d.style.textDecoration="underline"};d.onmouseleave=function(){d.style.textDecoration="none"};c=document.createElement("span");c.style.display="inline-block";c.style.fontSize="0";c.style.marginLeft="6px";c.style.position="relative";c.style.top="1px";c.style.borderBottom="6px solid transparent";c.style.borderTop="6px solid transparent";c.style.borderLeft="6px solid #ffffff";d.appendChild(c);b.appendChild(d);this.element.appendChild(b)}
p(qz,G);qz.prototype.submit=function(){var a=this;io()||A("roomlogin/"+this.a+"/",{password:this.input.value}).then(function(b){b=new L(b.responseText);var c=M(b,"result");b.Cd("errors");b.Cd("html");T(b);"error"===c?H("Incorrect password"):(w(Mk,a.a),a.j());a.input.value=""}).catch(function(b){x("Unable to login to room "+b.responseText);window.location.reload()})};qz.prototype.show=function(a){this.a=a;this.element.style.display="block"};qz.prototype.j=function(){this.element.style.display="none"};function rz(){G.call(this);this.element.style.fontSize="12px";this.element.style.position="relative";this.element.style.height="auto";var a=document.createElement("div");a.style.display="none";a.style.width="auto";a.style.height="auto";a.style.backgroundColor="#FFFFD3";a.style.border="1px solid #CCCCCC";a.style.borderRadius="4px";a.style.padding="2em";a.style.margin="20px 32px";a.style.fontSize="2em";a.style.lineHeight="3em";a.style.textDecoration="none";a.style.position="relative";a.style.color=F.Ja;this.element.appendChild(a);var b=document.createElement("span");b.innerText="\u00d7";b.style.position="absolute";b.style.right="0.5em";b.style.top="0";b.style.fontSize="2em";b.style.userSelect="none";b.style.webkitUserSelect="none";a.appendChild(b);b.onclick=function(){Ab("mobile_redirect_hide","true",64800);a.style.display="none"};b=document.createElement("div");var c=document.createElement("span");c.textContent=vf;b.appendChild(c);c=document.createElement("div");var d=document.createElement("ul");d.style.listStyleType="disc";var e=document.createElement("li");e.textContent=Pc;e.style.lineHeight="1.1em";d.appendChild(e);c.appendChild(e);e=document.createElement("li");e.textContent=wf;e.style.lineHeight="1.1em";d.appendChild(e);c.appendChild(e);e=document.createElement("li");e.textContent=Dg;e.style.lineHeight="1.1em";d.appendChild(e);c.appendChild(e);d=document.createElement("div");e=document.createElement("span");e.textContent=xf;var f=document.createElement("a");f.style.color="#0a5a83";f.textContent=yf;f.onclick=function(){U("MobileAlertLinkClicked")};var g=document.createElement("span");g.textContent=Af;var h=document.createElement("a");h.textContent=zf;h.style.color="#0a5a83";h.href="https://www.surveymonkey.com/r/CM5YXYL";h.onclick=function(){U("MobileAlertSurveyClicked")};var m=document.createElement("span");m.textContent=".";d.appendChild(e);d.appendChild(f);d.appendChild(g);d.appendChild(h);d.appendChild(m);a.appendChild(b);a.appendChild(c);a.appendChild(d);t(X,function(n){n.h.ay&&(f.href="https://m.chaturbate.com/mobile/?b="+n.h.a+"&source=desktop",a.style.display="block")})}p(rz,G);function sz(){var a=this;this.qo=this.po=this.so=this.ro=this.yj=this.Xk=0;this.Zq=!1;this.Bt=0;this.Kd={cbVersion:2,href:"",unloadTimestamp:0,count:0};this.Iq=this.Hq=!1;this.Pa=this.i=void 0;this.Bv="SessionMetrics";this.Nv=function(b){b!==a.i&&(void 0!==a.i&&(a.i.event.ai.removeListener(a.Pt),a.i.event.yi.removeListener(a.Gn),a.i.event.si.removeListener(a.Gn)),a.i=b,t(a.i.event.ai,a.Pt),t(a.i.event.yi,a.Gn),t(a.i.event.si,a.Gn))};this.Tr=function(b){b!==a.Pa&&(void 0!==a.Pa&&a.Pa.jh.removeListener(a.Vt),a.Pa=b,t(a.Pa.jh,a.Vt,!1))};this.mm=function(){return void 0!==a.i&&!a.i.Sb};this.Hu=function(){if(!a.Zq&&a.mm()){U(a.Bv,{messageSuccessCount:a.yj,messageFailCount:a.Xk-a.yj,tipSuccessCount:a.ro,tipSuccessTotal:a.so,tipFailCount:a.po,tipFailTotal:a.qo,refreshCount:window.sessionStorage?a.Kd.count:void 0});a.Zq=!0;a.Kd={cbVersion:2,href:window.location.href,unloadTimestamp:(new Date).getTime(),count:0};try{window.sessionStorage.setItem("refreshMeta",JSON.stringify(a.Kd))}catch(b){}}};this.onLoad=function(){X.removeListener(a.onLoad);if(void 0!==window.sessionStorage&&a.mm()){a.Bt=(new Date).getTime();try{var b=window.sessionStorage.getItem("refreshMeta");null!==b&&(a.Kd=Object.assign(Object.assign({},a.Kd),JSON.parse(b)))}catch(c){}tz(a);a.nq=a.Hw();a.Hq=!1;a.Iq=!1}};this.Vt=function(b){void 0!==b.amount&&(!0===b.success?(a.ro+=1,a.so+=b.amount):(a.po+=1,0<b.amount&&(a.qo+=b.amount)))};this.Pt=function(){a.Xk+=1};this.Gn=function(b){void 0!==a.i&&b.vb.username===a.i.username()&&a.yj<a.Xk&&(a.yj+=1)};this.Hw=function(){if(void 0!==window.performance){var b=void 0!==window.performance.getEntriesByType?window.performance.getEntriesByType("navigation"):[];if(0<b.length)switch(b[0].type){case "navigate":return 0;case "reload":return 1;case "back_forward":return 2;case "prerender":return 3;default:return 255}else return window.performance.navigation.type}};this.Ay=function(){return 1===a.nq?2===a.Kd.cbVersion:0===a.nq||void 0===a.nq?a.Kd.href===window.location.href&&a.Kd.unloadTimestamp>a.Bt-1E4&&2===a.Kd.cbVersion:!1};this.mv=function(){void 0!==window.sessionStorage&&!a.Hq&&a.mm()&&(a.Kd.count=a.Ay()?1:0,a.Hq=!0)};this.Hx=function(){if(void 0!==window.sessionStorage&&!a.Iq&&a.mm()){a.Kd={cbVersion:2,href:window.location.href,unloadTimestamp:(new Date).getTime(),count:a.Kd.count};try{window.sessionStorage.setItem("refreshMeta",JSON.stringify(a.Kd)),a.Iq=!0}catch(b){}}};this.kx=function(){a.mv();a.Hu()};this.Wt=function(){a.mv();a.Hx();a.Hu()};t(X,this.onLoad);t(X,function(){tz(a)});t(Wk,this.kx);z("beforeunload",window,this.Wt);z("unload",window,this.Wt)}function tz(a){a.Xk=0;a.yj=0;a.ro=0;a.so=0;a.po=0;a.qo=0;a.Zq=!1};function uz(a,b){G.call(this);var c=this;this.zc=a;this.he=[];this.ol=15E3;this.Nj=this.Wh=!1;this.b=b;this.element.style.height="";this.element.style.width="";this.element.style.position="relative";this.element.style.cssFloat="right";this.element.style.overflow="visible";this.element.style.paddingBottom="1.5px";this.element.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif";this.Zb=(new zp).anchor;this.Zb.href="#";this.Zb.style.display="inline-block";this.Zb.style.padding="6px 3px 6px 5px";this.Zb.style.textDecoration="none";this.Zb.style.fontSize="10.008px";this.Zb.style.position="relative";this.Zb.style.right="5px";this.Zb.style.color=F.Pd;this.Zb.style.backgroundColor="transparent";this.Zb.onmouseenter=function(){c.Zb.style.textDecoration="underline"};this.Zb.onmouseleave=function(){c.Zb.style.textDecoration="none"};this.Zb.onclick=function(d){d.preventDefault();d.stopPropagation();c.Wh||(d=Fk(),d.next_in=(c.ol/1E3).toString(),d=Ek(d),window.history.replaceState({type:"room",room:c.Jf.a},c.Jf.Ea,"./?"+d),vz(c));wz(c)};this.Mj=document.createElement("span");this.Mj.innerText=fg;this.Zb.appendChild(this.Mj);this.eb=(new zp).anchor;this.eb.href="#";this.eb.style.display="inline-block";this.eb.style.padding="6px 3px 6px 5px";this.eb.innerText=gg+" (CTRL-/)";this.eb.style.textDecoration="none";this.eb.style.fontSize="10.008px";this.eb.style.position="relative";this.eb.style.backgroundColor=F.Jt;this.eb.style.border="1px solid "+F.me;this.eb.style.borderBottom="0";this.eb.style.borderRadius="4px 4px 0 0";this.eb.style.color=F.Pd;this.eb.onmouseenter=function(){c.eb.style.textDecoration="underline"};this.eb.onmouseleave=function(){c.eb.style.textDecoration="none"};this.eb.onclick=function(d){d.preventDefault();c.Wh?xz(c):wz(c)};this.element.appendChild(this.Zb);this.element.appendChild(this.eb);z("keydown",document,function(d){"Control"!==d.key&&"Meta"!==d.key&&"OS"!==d.key&&("/"!==d.key&&191!==d.which||!d.ctrlKey&&!d.metaKey?c.Wh&&!c.Nj&&xz(c):(d.preventDefault(),wz(c)))},!0);t(X,function(d){c.eb.href="/next/"+d.h.a+"/";c.Zb.href="/next/"+d.h.a+"/?next_in=15";d.h.ml!==c.Js&&(c.Js=d.h.ml,c.bh=new $x([dy(c.Js)],1));c.he.push(d.h.a);c.Jf=d.h;d=Fk();"next_in"in d&&(d=parseInt(d.next_in),isFinite(d)&&!isNaN(d)&&(1<=d&&(c.ol=1E3*d),yz(c),zz(c),c.Wh=!0))});z("mousedown",document,function(d){var e;if(!(e=c.Nj)){a:{e=d.target;if(c.b.A instanceof Ts)for(var f=l(c.b.element.getElementsByClassName("vjs-volume-panel")),g=f.next();!g.done;g=f.next()){g=g.value;if(e===g){e=!0;break a}g=l(g.getElementsByTagNameNS("*","*"));for(var h=g.next();!h.done;h=g.next())if(e===h.value){e=!0;break a}}e=!1}if(!(e=e||(c.b.A instanceof Rs?d.target===c.b.A.zk():!1)))a:{e=d.target;f=l(c.b.S.ib.element.children);for(g=f.next();!g.done;g=f.next())if(e===g.value){e=!0;break a}e=e===c.b.S.Sa||e===c.b.S.ib.element||e===c.b.S.ib.ra}e||(e=d.target,e=e===c.Zb||e===c.Mj);if(!e)a:if(e=d.target,c.b.A instanceof Kn&&c.b.A.ub instanceof xn){f=l(c.b.A.ub.ib.element.children);for(g=f.next();!g.done;g=f.next())if(e===g.value){e=!0;break a}e=e===c.b.A.ub.Sa}else e=!1}e||c.Wh&&d.target!==c.eb&&xz(c)},!1)}p(uz,G);function vz(a){a.Ow=setTimeout(function(){a.Nj=!0;clearInterval(a.gs);Az(a)},108E5)}function Az(a){Aj("Are you still watching?",function(){vz(a);zz(a);a.Nj=!1},function(){xz(a);a.gh=a.ol})}function zz(a){a.gh=a.Nj?a.gh:a.ol;a.gs=window.setInterval(function(){a.gh-=1E3;0>=a.gh/1E3&&(a.gh=a.ol,wz(a));a.Mj.innerText=hg+" ("+a.gh/1E3+"s)"},1E3);a.Mj.innerText=hg+" ("+a.gh/1E3+"s)";a.eb.innerText=ig+" (any key)"}
function yz(a){clearInterval(a.gs);a.Mj.innerText=fg;a.eb.innerText=gg+" (CTRL-/)"}
function wz(a){function b(c){a.hs=c[0];U("LoadRoomFromRoomList",{location:"next_cam",from_broadcaster:a.Jf.a,broadcaster:a.hs.username});w(Mk,a.hs.username)}"key"in a.bh.Me?a.bh.next().then(function(c){b(c)}).catch(function(c){"Session Not Found"===c.trim()?(delete a.bh.Me.key,wz(a)):x("Error calling roomIterator.next: "+c)}):a.bh.start(a.he).then(function(c){b(c)}).catch(function(c){x("Error calling roomIterator.start: "+c)})}
function xz(a){if(a.Wh){clearTimeout(a.Ow);yz(a);a.Wh=!1;a.Nj=!1;var b=Fk();delete b.next_in;b=Ek(b);var c="";""!==b&&(c="?"+b);window.history.replaceState({type:"room",room:a.Jf.a},a.Jf.Ea,"./"+c)}else x("Attempted to stop cam scanning when cams were not scanning")}
uz.prototype.u=function(){var a=this.element.getBoundingClientRect(),b=this.zc.element.getBoundingClientRect(),c=this.zc.qe.getBoundingClientRect(),d=this.zc.qe.style.marginRight;this.zc.element.style.height=null!==d&&a.left-c.right<parseInt(d.split("px")[0])?38+a.bottom-a.top+"px":"38px";c=0;null!==this.element.style.top&&2<=this.element.style.top.length&&(c=parseInt(this.element.style.top.split("px")[0]));a=a.bottom-c;b.bottom<a&&(c=b.bottom-a);this.element.style.top=c+"px"};function Bz(a,b){var c=this;this.H=a;this.pc=b;this.Kk=!1;this.Jp=!0;(new lp("DefaultPureChat")).active?(this.Kk=!0,this.Jp=!1):setTimeout(function(){c.Jp=!1;Cz(c)},5E3);this.pc.element.onmouseenter=function(){Dz(c)};t(this.H.np,function(d){d!==c.H.aa?Cz(c):Dz(c)});t(this.H.Ir,function(d){d===c.H.aa?Dz(c):Cz(c)});t(X,function(){(new lp("DefaultPureChat")).active&&Cz(c)});t(kw,function(){Dz(c)});t(Uk,function(){Cz(c)});t(Du.fd,function(){Cz(c)})}
function Cz(a){var b=Z();"theater"!==b&&"fullscreen"!==b||a.Jp||(a.Kk?a.H.aa.ha.wb()!==a.H.aa.ha.Y||a.H.yc===a.H.aa||a.H.$m===a.H.aa||$u(a.H.aa.ha.Y.w)||0<wy||(a.pc.element.style.display="block",a.Kk=!1,Ol(a.H.aa.ha,a.H.aa.ha.Y),a.H.aa.ha.Y.w.cb.scrollLeft=0,a.H.aa.ha.Rp=!0,a.H.aa.j(),Zm(a.H.aa),a.pc.clear(),zv(a.H.aa.ha.Y.w),setTimeout(function(){a.pc.sa()},0)):a.pc.element.style.display="block")}
function Dz(a){a.Kk||(a.Kk=!0,a.H.aa.ha.Rp=!1,a.H.aa.show(),Xm(a.H.aa),a.pc.element.style.display="none",a.H.aa.ha.Y.w.sa())};function Ez(){var a=this;this.yl=new Map;this.supported=!0;if(this.supported=Ya()&&Wa()||Ua())if(Wa()){Nb("Using audio context");this.context="webkitAudioContext"in window?new webkitAudioContext:new AudioContext;z("beforeunload",window,function(){void 0!==a.context&&("close"in a.context&&a.context.close(),a.context=void 0)});var b=!1,c=function(){if(!b){if(void 0===a.context)x("unexpected");else{var d=a.context.createBufferSource();d.buffer=a.context.createBuffer(1,1,22050);d.connect(a.context.destination);d.start(0)}b=!0}};z("click",document,c);z("touchstart",document,c);z("touchend",document,c)}else Nb("Using audio elements");else u("Sounds are not supported.")}
function Fz(a,b,c){a.yl.set(b,{ready:!1});if(void 0!==a.context){var d=new XMLHttpRequest;d.open("GET",c,!0);d.responseType="arraybuffer";d.onload=function(){200>d.status||300<=d.status?x("Error requesting sound "+b+" "+d.status+" "+d.statusText):void 0===a.context?x("unexpected"):a.context.decodeAudioData(d.response.slice(0),function(e){a.yl.set(b,{ready:!0,buffer:e})},function(e){x("Error decoding sound "+b+" "+e)})};d.onerror=function(){x("Error requesting sound "+b+" ("+new Fb(d)+")")};d.send()}else Ua()&&a.yl.set(b,{ready:!0,Ko:new Audio(c)})}
Ez.prototype.Wg=function(a,b){if(Gz(this,a,b)){var c=this.yl.get(a);if(void 0!==c&&c.ready)if(void 0!==c.buffer)if(void 0===this.context)x("unexpected");else{var d=this.context.createBufferSource();d.buffer=c.buffer;c=this.context.createGain();d.connect(c);c.connect(this.context.destination);c.gain.value=b/3.5/100;d.start(0)}else void 0!==c.Ko?(c.Ko.volume=b/100,b=c.Ko.play(),void 0!==b&&b.catch(function(e){x("Error playing sound "+a+" ("+e+")")})):x("Missing sound buffer or element for "+a)}};function Gz(a,b,c){return a.supported&&0!==c?100<c||0>c||isNaN(c)?(x("setSoundVolume: invalid volume "+c),!1):a.yl.has(b)?!0:(x("Unknown sound: "+b),!1):!1};var Hz=new Set;function Iz(){for(var a=[],b=l(Hz),c=b.next();!c.done;c=b.next())a.push(c.value);y()&&window.localStorage.setItem("ignorelist",JSON.stringify({pg:a}))}function Jz(a){try{Hz=new Set(JSON.parse(a).users)}catch(b){x("Cannot parse ignore list: "+b)}}
function Kz(){Lz();(0===Hz.size||Mz())&&Ib("api/ignored_user_list/").then(function(a){y()&&(window.localStorage.setItem("ignorelist",a.responseText),window.localStorage.setItem("ignorelistlastfetch",Date.now().toString()));Jz(a.responseText)}).catch(function(a){x("Network error retrieving ignore list: "+a)})}function Mz(){if(!y())return!0;var a=window.localStorage.getItem("ignorelistlastfetch");return null===a?!0:parseInt(a,10)+3E5<Date.now()}
function Lz(){if(y()){var a=window.localStorage.getItem("ignorelist");null!==a&&Jz(a)}};function Nz(a){return{Xc:1,message:a}};var Oz;t(X,function(a){Oz=a.h.a});function Pz(a){var b=Qz(a);b.xk=M(a,"gender",!1);return b}function Qz(a){var b=rk(a);1!==b.size&&x('getStrings(["from_username", "user", "username"]): '+b+" length is not 1 in "+a.Ve);b=b.values().next().value;return{username:b,Dc:b===Oz,kd:P(a,"in_fanclub"),nf:P(a,"has_tokens"),ld:P(a,"is_mod"),mg:P(a,"trecently"),lg:P(a,"tlots"),ng:P(a,"ttons"),lf:N(a,"exploringHashTag",!1)}}
var Rz={o:"room-owner",m:"moderator",f:"fanclub-user",tr:"tipped-recently-user",g:"standard-user",t:"tipped-user",p:"tipped-lots-user",l:"tipped-tons-user"};function Sz(a){this.Hf=this.lh=0;this.pg=[];var b=a.split(",");a=~~b[0];b=b.slice(1);var c=[];b=l(b);for(var d=b.next();!d.done;d=b.next()){var e=l(d.value.split("|"));d=e.next().value;e=e.next().value;e=Rz[e];d={username:d,Dc:!1,kd:!1,nf:!1,ld:!1,mg:!1,lg:!1,ng:!1,lf:""};"room-owner"===e?d.Dc=!0:"fanclub-user"===e?d.kd=!0:"tipped-user"===e?d.nf=!0:"moderator"===e?d.ld=!0:"tipped-recently-user"===e?d.mg=!0:"tipped-lots-user"===e?d.lg=!0:"tipped-tons-user"===e&&(d.ng=!0);c.push(d)}this.lh=a+c.length;this.Hf=a;this.pg=c};function Tz(a){this.rc=[];this.Ek=[];var b=a.match(/#[a-z0-9\-_]{2,50}/g);if(null!==b){b=l(b);for(var c=b.next();!c.done;c=b.next())this.Ek.push(c.value.substr(1))}this.rc=a.split(/#[a-z0-9\-_]{2,50}/g)};function Uz(a){return 0===a.length?Promise.resolve([]):Ib("tags/approved_from_title/?title="+encodeURIComponent(a)).then(function(b){return b.responseText.split(",")})};var sA={connected:Vz,error:Wz,roomMessage:Xz,privateMessage:Yz,roomNotice:Zz,roomEntry:$z,roomLeave:aA,stateChange:bA,privateRequest:cA,groupRequestUpdate:dA,notifyTokenUpdate:eA,updateRoomCount:fA,titleChange:gA,settingsUpdate:hA,removeUserMessages:iA,tipAlert:jA,soundNotice:kA,shuttingDown:lA,notifyAppTabRefresh:mA,notifyAppClear:nA,notifyRefreshPanel:oA,notifyHiddenShowMessageChange:pA,log:qA,ping:rA};function tA(a){this.B=a}
tA.prototype.Eq=function(a){var b=N(a,"t",!1);if(0<=Object.keys(sA).indexOf(b))sA[b]({B:this.B,p:a});else x("Unknown message method: "+b+" data: "+a)};function Vz(a){a.B.$q()}function Wz(a){if(P(a.p,"allow_reconnect",!0)){var b=N(a.p,"errortype");a=N(a.p,"message",!1);x("Error: "+b+" Mesage: "+a)}else a.B.disconnect()}function $z(a){var b=new L(uk(a.p,"profile"));a.B.Oq(Pz(b))}function aA(a){var b=new L(uk(a.p,"profile"));a.B.Pq(Pz(b))}
function bA(a){var b=N(a.p,"state");a.B.ma({offline:"offline",away:"away","public":"public",hidden:"hidden",hidden_watching:"public",group_requesting:"grouprequesting",group_not_watching:"groupnotwatching",group:"groupwatching",private_requesting:"privaterequesting",private_not_watching:"privatenotwatching","private":"privatewatching",private_spying:"privatespying",password_protect:"passwordprotected"}[b])}
function Xz(a){var b=new L(uk(a.p,"profile"));b={vb:Pz(b),message:N(a.p,"msg"),font:M(a.p,"f",!1),Xe:M(a.p,"c",!1),backgroundColor:M(a.p,"background",!1)};a.B.Ng(b.vb.username)||w(a.B.event.yi,b)}function Yz(a){var b=new L(uk(a.p,"profile"));b={vb:Pz(b),message:N(a.p,"msg"),font:M(a.p,"f",!1),Xe:M(a.p,"c",!1),backgroundColor:M(a.p,"background",!1),uq:N(a.p,"otherUsername")};a.B.Ng(b.vb.username)||w(a.B.event.si,b)}
function Zz(a){var b=[],c=[],d=uk(a.p,"profile",!1);""!==d&&(d=new L(d),c.push({Xc:0,bd:Qz(d)}));c.push(Nz(N(a.p,"message")));b.push(c);b={V:b,X:P(a.p,"show_in_pm",!1)};c=N(a.p,"bg",!1);""!==c&&(b.background=c);c=N(a.p,"fg",!1);""!==c&&(b.qa=c);c=N(a.p,"weight",!1);""!==c&&(b.weight=c);w(a.B.event.U,b)}
function gA(a){function b(g){for(var h=0;h<f.rc.length;h+=1){var m=Nz(f.rc[h]);m.xq=!1;d.push(m);h<f.Ek.length&&(m=f.Ek[h],d.push(-1!==g.indexOf(m)?{Xc:2,message:m}:Nz("#"+m)))}w(a.B.event.U,{V:[d],qa:"#DC5500",weight:"bold",X:!1});w(a.B.event.Il,c)}var c=N(a.p,"title"),d=[],e=Zb(c),f=new Tz(e);Uz(c).then(b).catch(function(){b([])})}function cA(a){var b=new L(uk(a.p,"profile"));w(a.B.event.Dq,{ry:N(b,"username"),nr:S(a.p,"tokens_per_minute")})}
function dA(a){w(a.B.event.mj,{Ze:S(a.p,"users_waiting"),Ni:S(a.p,"users_required"),nr:S(a.p,"tokens_per_minute",!1)})}function eA(a){w(a.B.event.Kl,{ka:S(a.p,"tokens")})}function fA(a){w(a.B.event.Kj,S(a.p,"count"))}
function hA(a){var b=a.p,c={we:P(b,"allow_privates"),qb:S(b,"private_price"),$b:S(b,"spy_price"),Yg:S(b,"private_min_minutes"),xh:P(b,"allow_show_recordings"),ve:P(b,"allow_groups"),mb:S(b,"group_price"),iq:S(b,"minimum_users_for_group_show")};T(b);w(a.B.event.yf,c);a.B.qb!==c.qb&&(a.B.qb=c.qb,b=Nz(mc(a.B.a(),c.qb)),w(a.B.event.U,{V:[[b]],X:!0}));a.B.mb!==c.mb&&(a.B.mb=c.mb,b=Nz(lc(a.B.a(),c.mb)),w(a.B.event.U,{V:[[b]],X:!0}));a.B.$b!==c.$b&&0!==c.$b&&(a.B.$b=c.$b,c=Nz(nc(a.B.a(),c.$b)),w(a.B.event.U,{V:[[c]],X:!0}))}function iA(a){w(a.B.event.Gj,{username:N(a.p,"username")})}function mA(a){w(a.B.event.Io,void 0)}function nA(a){w(a.B.event.pm,void 0)}function oA(a){w(a.B.event.Sn,void 0)}function pA(a){w(a.B.event.Vm,N(a.p,"hidden_message"))}function jA(a){var b=new L(uk(a.p,"profile"));b={vb:Pz(b),message:N(a.p,"message",!1),amount:S(a.p,"amount"),jt:P(a.p,"is_anonymous_tip")};a.B.a()!==pk(a.p,"to_username")&&x("Username does not match in tip");a.B.zb&&w(a.B.event.oo,b)}
function qA(a){var b=M(a.p,"msg");void 0===b?x("handleLog with an empty msg"):w(a.B.event.fk,b)}function rA(a){a.B.tl({t:"pong"})}function kA(a){var b=N(a.p,"sound");""!==b?w(a.B.event.Wg,b):x("Sound is missing for soundNotice")}function lA(a){var b=N(a.p,"migrate_to");""===b?x("Missing migrateTo server for shutdownhandler"):(a=a.B,a.bp=b,uA(a),a.Zg(b))};function vA(){this.gj=0}function wA(a){a.gj+=1;return Math.min(1E4,500*a.gj)}vA.prototype.reset=function(){this.gj=0};function xA(a){var b=this;this.d=a;this.status="offline";this.se=void 0;this.Fi=!0;this.zb=this.Wi=this.Tc=!1;this.event={ai:new q("messageSent"),yi:new q("roomMessage"),U:new q("roomNotice"),si:new q("privateMessage"),Qb:new q("statusChange",{Je:15}),Vm:new q("hiddenMessageChange"),Sn:new q("refreshPanel"),Il:new q("titleChange"),pm:new q("clearApp"),Gj:new q("removeMessages"),yf:new q("settingsUpdate"),Kj:new q("roomCountUpdate"),jq:new q("modStatusChange"),Kl:rq,Dq:new q("privateShowRequest"),mj:new q("groupShowUpdate"),Wg:new q("playSound"),Io:new q("appTabRefresh"),fk:new q("appDebugLog"),oo:new q("tipAlert")};this.Cd=function(c){b.d.a===b.d.userName?(x("Error: cannot ignore users in this room"),new Promise(function(){return!1})):(w(b.event.U,{V:[[Nz("Ignoring "+c)]],X:!0}),A("chat_ignore_list/",{username:c}).then(function(d){if("max"===d.responseText)return w(b.event.U,{V:[[Nz("Please signup/login to enable this feature.")]],X:!0}),!1;Hz.add(c);Iz();return!0}).catch(function(d){x("Error posting ignore user: "+
d);return!1}))};this.rr=function(c){w(b.event.U,{V:[[Nz("No longer ignoring "+c)]],X:!0});A("chat_ignore_list/",{username:c,remove:"1"}).then(function(){Hz.delete(c);Iz();return!0}).catch(function(d){x("Error posting unignore user: "+d);return!1})};this.zb=this.username()===this.a();this.vi=new vA;this.hq=new tA(this);this.Sb=0===a.ik.indexOf("__anonymous__");!1===this.Sb&&Kz();this.bp=a.host;this.Zg(a.host);this.Tc=a.Tc;this.Re=a.la.Re;this.Se=a.la.Se;this.qb=a.qb;this.$b=a.$b;this.mb=a.mb;this.Ru=this.zb?"public":a.fb;this.ma("notconnected")}k=xA.prototype;k.disconnect=function(){this.Fi=!1;uA(this)};function uA(a){void 0!==a.se&&(a.se.close(),a.se=void 0)}k.ma=function(a){if(a!==this.status){var b=this.status;this.status=a;w(this.event.Qb,{Jd:b,ua:this.status})}};k.kv=function(a,b){this.Re=a;this.Se=b};k.kp=function(){var a=this;if("offline"===this.status||"notconnected"===this.status||"unknown"===this.status)return new Promise(function(c){c({lh:0,Hf:0,pg:[]})});if(void 0!==this.Te)return this.Te;var b={roomname:this.a(),"private":yA(this)};return this.Te=new Promise(function(c,d){Ib("api/getchatuserlist/?"+Ek(b)).then(function(e){e=new Sz(e.responseText);c(e);a.Te=void 0}).catch(function(e){d(e);a.Te=void 0})})};function yA(a){switch(a.status){case "groupwatching":case "privatewatching":return!0;case "privaterequesting":case "privatenotwatching":case "passwordprotected":case "grouprequesting":case "groupnotwatching":case "public":case "away":case "hidden":case "offline":case "privatespying":case "notconnected":return!1;default:return u("unexpected status: "+a.status),!1}}
k.Zg=function(a){var b=this,c;if(0<a.length){var d=new SockJS(this.bp+"/connect/");this.se=d;d.onclose=function(e){zA("Connection closed:"+JSON.stringify(e));void 0!==c?w(b.event.U,{V:[[Nz("Trying to reconnect")]],X:!0}):(w(b.event.U,{V:[[Nz("Chat disconnected")]],X:!0}),b.Fi&&a===b.bp&&(c=setTimeout(function(){w(b.event.U,{V:[[Nz("Trying to reconnect")]],X:!0});b.Zg(a)},wA(b.vi))))};d.onerror=function(e){zA("Connection error:"+JSON.stringify(e));void 0===c&&b.Fi&&(c=setTimeout(function(){b.Zg(a)},wA(b.vi)))};d.onmessage=function(e){b.hq.Eq(new L(e.data))};d.onopen=function(){d.send(JSON.stringify({t:"connect",username:b.username(),password:b.d.Gr,room:b.a(),room_password:b.d.Rq}))}}};k.$q=function(){w(this.event.U,{V:[[Nz("Connection established")]],X:!0});this.vi.reset()};k.tl=function(a){a=JSON.stringify(a);this.se.send(a)};k.Xq=function(a){w(this.event.ai,void 0);U("SendRoomMessage");this.tl({t:"sendMessage",from_username:this.username(),message:a})};k.Vq=function(a,b){w(this.event.ai,void 0);this.tl({t:"sendMessage",from_username:this.username(),to_username:b,message:a})};k.vr=function(){};k.uu=function(a,b){var c=this;return new Promise(function(d,e){"public"!==c.status?e("unexpected status: "+c.status):A("tipping/private_show_request/"+c.a()+"/",{chat_username:c.username(),price:""+a,private_show_minimum_minutes:""+b}).then(function(f){f=new L(f.responseText);var g=N(f,"message",!1);P(f,"success")?d(""):(""===g&&(x("unknown cannot start private show reason"),g="Cannot start private show."),d(g))})})};k.vu=function(){var a=this;return new Promise(function(b){A("tipping/spy_on_private_show_request/"+a.a()+"/",{chat_username:a.username()}).then(function(c){c=new L(c.responseText);var d=P(c,"success"),e=N(c,"message",!1);T(c);d?b(""):(""===e&&(e="Error joining spy show"),b(e))})})};k.Tk=function(){var a=this;switch(this.status){case "groupwatching":break;case "grouprequesting":break;default:u("unexpected status: "+this.status)}new Promise(function(b){return A("tipping/group_show_cancel/"+a.a()+"/",{}).then(function(){b("")})})};k.aq=function(){var a=this;return new Promise(function(b){var c="tipping/private_show_cancel/"+a.a()+"/",d=a.status;A(c,{}).then(function(e){e=new L(e.responseText);var f=P(e,"success"),g=S(e,"remaining_seconds"),h=O(e,"private_show_minimum_minutes");T(e);switch(d){case "privatewatching":if(!f){e="You have started a private show with a "+h+" minute minimum. You cannot cancel your private show yet. It still has "+(g+" seconds remaining.");b(e);break}b("");break;case "privatespying":if(!f){b("Unable to cancel spy show");break}b("");break;case "privaterequesting":break;default:u("leave private show from status: "+d),b("")}})})};k.tu=function(a){var b=this;return"public"!==this.status&&"groupnotwatching"!==this.status?new Promise(function(c,d){d("unexpected status: "+b.status)}):new Promise(function(c,d){A("tipping/group_show_request/"+b.a()+"/",{chat_username:b.username(),price:""+a}).then(function(e){e=new L(e.responseText);var f=N(e,"message",!1);P(e,"success")?(T(e),c("")):(""===f&&(x("unknown cannot start group show reason"),f="Cannot start group show."),c(f))}).catch(function(e){d(e)})})};function bv(a){a.Wi=!a.Wi;w(rn,a.Wi)}k.a=function(){return this.d.a};k.username=function(){return this.d.ik};k.Ng=function(a){var b=Hz;return void 0===b?(x("ignoreSet should not be undefined"),!1):b.has(a)};k.Oq=function(a){this.wl(this.Re,a)&&w(this.event.U,{V:[[Nz(fu(this.a(),a)),{Xc:0,bd:a},Nz(" has joined the room.")]],X:a.username===this.username()})};k.Pq=function(a){if(this.wl(this.Se,a)){var b=" "+fi;a.Dc&&!AA.has(this.status)&&(b+=" "+gi);w(this.event.U,{V:[[Nz(fu(this.a(),a)),{Xc:0,bd:a},Nz(b)]],X:a.username===this.username()})}};k.wl=function(a,b){return b.username===this.username()||3===a&&(this.zb||this.Tc)?!1:1===a||!this.zb&&!this.Tc||2===a&&(b.username===this.a()||b.ld||b.kd)?!0:!1};var AA=new Set(["groupwatching","groupnotwatching","privatewatching","privatenotwatching","privatespying"]);var BA;t(X,function(a){BA=a.h.a});function CA(a){var b=DA(a);b.xk=M(a,"gender",!1);return b}function DA(a){var b=rk(a);1!==b.size&&x('getStrings(["from_username", "user", "username"]): '+b+" length is not 1 in "+a.Ve);b=b.values().next().value;return{username:b,Dc:b===BA,kd:P(a,"in_fanclub"),nf:P(a,"has_tokens"),ld:P(a,"is_mod"),mg:P(a,"tipped_recently"),lg:P(a,"tipped_alot_recently"),ng:P(a,"tipped_tons_recently"),lf:N(a,"exploringHashTag",!1)}}
function EA(a){var b=new L(a[1]),c={vb:CA(b),message:N(b,"m"),font:M(b,"f",!1),Xe:M(b,"c",!1),un:M(b,"i",!1),backgroundColor:M(b,"background",!1)};c.vb.username!==a[0]&&x("Parsing username match failed");!0!==pk(b,"X-Successful")&&x("X-Successful not true?");T(b);return c}
function FA(a,b){var c={vb:CA(b),message:N(b,"message"),amount:S(b,"amount"),jt:P(b,"is_anonymous_tip")};a!==pk(b,"to_username")&&x("Username does not match in tip");!0!==pk(b,"history")&&x("history != true? "+history);""!==pk(b,"dont_send_to")&&pk(b,"dont_send_to")!==a&&x("dont_send_to not unexpected value: "+pk(b,"dont_send_to"));return c};function GA(a){this.B=a}GA.prototype.Eq=function(a){var b=JSON.parse(a);b={method:b.method,Fy:b.callback,F:b.args};if(0<=Object.keys(HA).indexOf(b.method))HA[b.method](this.B,b);else x("Unknown message method: "+b.method+" args: "+a)};window.debugAllMessages=function(){};var HA={onAuthResponse:IA,onRoomCountUpdate:JA,onRoomMsg:KA,onNotify:LA,onTitleChange:MA,onPrivateMsg:NA,onPromotion:OA,onRevoke:PA,onPersonallyKicked:QA,onSilence:RA,onKick:SA,onNotifyPrivateShowRequest:TA,onNotifyPrivateShowApprove:UA,onNotifyPrivateShowCancel:VA,onNotifyLeavePrivateRoom:WA,onNotifyGroupShowRequest:XA,onNotifyGroupShowApprove:YA,onNotifyGroupShowCancel:ZA,onNotifyTokenBalanceUpdate:$A,onNotifyAwayModeCancel:aB};function JA(a,b){1>b.F.length?x("Invalid onRoomCountUpdate args: "+b.F):""!==b.F[0]&&w(a.event.Kj,parseInt(b.F[0]))}
function IA(a,b){if(1<=b.F.length&&"1"===b.F[0]){b=a.Ru;"notconnected"!==a.status&&(b=a.status);switch(b){case "offline":case "away":case "grouprequesting":case "groupnotwatching":case "privaterequesting":case "privatenotwatching":case "privatespying":case "hidden":case "public":bB(a);a.ma(b);break;case "privatewatching":case "groupwatching":"notconnected"===a.status?(cB(a),a.ma(b)):hn(a.a()).then(function(c){"privatewatching"===c.fb||"groupwatching"===c.fb?cB(a):bB(a);a.ma(c.fb)}).catch(function(c){x("Error getting room dossier on reconnect: "+
c,{room:a.a()})});break;default:u("unexpected status: "+b)}a.$q()}else 0<b.F.length&&"0"===b.F[0]||x("Error connecting!",{message:b})}function MA(a,b,c){1>b.F.length?x("Invalid onTitleChange args: "+b.F):1<b.F.length&&"0"===b.F[1]||dB(a,b.F[0],c)}
function dB(a,b,c){if(""!==b){var d=[],e=Zb(b),f=new Tz(e),g=function(h){for(var m=0;m<f.rc.length;m+=1){var n=Y(f.rc[m]);n.xq=!1;d.push(n);m<f.Ek.length&&d.push(er(f.Ek[m],h))}w(a.event.U,{V:[d],qa:"#DC5500",weight:"bold",X:!1});w(a.event.Il,b)};void 0!==c?g(c):Uz(b).then(g).catch(function(){g([])})}}
function NA(a,b){if(""===b.F[0])1<b.F.length?w(a.event.U,{V:[[Y(b.F[1])]],X:!0}):x("handlePrivateMessage args: "+b.F);else{b=b.F;var c=EA(b);c.uq=""!==b[2]?b[2]:b[0];a.Ng(c.vb.username)||w(a.event.si,c)}}function OA(a,b){if(2!==b.F.length)x("Invalid onPromotion args: "+b.F);else{b.F[0]===a.username()&&w(a.event.jq,void 0);var c=b.F[1];var d=b.F[0];c=D(B("%(from)s has granted moderator privileges to %(to)s."),{from:c,to:d},!0);w(a.event.U,{V:[[Y(c)]],X:0<=b.F.indexOf(a.username())})}}
function PA(a,b){if(2!==b.F.length)x("Invalid onRevoke args: "+b.F);else{b.F[0]===a.username()&&w(a.event.jq,void 0);var c=b.F[1];var d=b.F[0];c=D(B("%(from)s has revoked moderator privileges from %(to)s."),{from:c,to:d},!0);w(a.event.U,{V:[[Y(c)]],X:0<=b.F.indexOf(a.username())})}}
function QA(a,b){1!==b.F.length?x("Invalid onPersonallyKicked args: "+b.F):(b=b.F[0],"rejoined"===b?b=Ld:"kicked"===b?b=Md:(u("createPersonallyKickedMessage called with unknown argument "+b),b=Nd),w(a.event.U,{V:[[Y(b)]],X:!0}),a.ma("notconnected"))}
function RA(a,b){if(2!==b.F.length)x("Invalid onSilence args: "+b.F);else{w(a.event.Gj,{username:b.F[0]});var c=b.F[0];var d=b.F[1];c=D(B("User %(username)s was silenced by %(silencer)s and his/her messages have been removed"),{username:c,silencer:d},!0);w(a.event.U,{V:[[Y(c)]],X:0<=b.F.indexOf(a.username())})}}
function SA(a,b){if(1!==b.F.length)x("Invalid onKick args: "+b.F);else{w(a.event.Gj,{username:b.F[0]});var c=a.event.U;var d=b.F[0];d=D(B("User %(username)s was kicked out of the room and his/her messages have been removed"),{username:d},!0);w(c,{V:[[Y(d)]],X:b.F[0]===a.username()})}}
function KA(a,b){""===b.F[0]?1<b.F.length?"Chat disconnected. The broadcaster has set a new password on this room."===b.F[1]?(a.ma("passwordprotected"),w(a.event.U,{V:[[Y(md)]],X:!0})):w(a.event.U,{V:[[Y(b.F[1])]],X:!0}):x("roomMessage invalid args: "+b.F):(b=EA(b.F),a.Ng(b.vb.username)||w(a.event.yi,b))}
function TA(a,b){if(2>b.F.length)x("PrivateShowRequest invalid args: "+b.F);else if(w(a.event.Dq,{ry:b.F[0],nr:parseInt(b.F[1])}),a.zb){switch(a.status){case "grouprequesting":case "public":case "away":break;default:u("unexpected status: "+a.status)}a.ma("privaterequesting");a.zb&&w(a.event.Wg,"show")}}
function UA(a,b){if(1!==b.F.length)x("Invalid privateShowApprove args: "+b.F);else{switch(a.status){case "public":a.ma("privatenotwatching");break;case "grouprequesting":a.Tk();a.ma("privatenotwatching");break;case "privaterequesting":eB(a);cB(a);a.ma("privatewatching");break;default:u("private show approve unexpected status: "+a.status)}b=Y(sd);"privatewatching"===a.status?w(a.event.U,{V:[[b]],qa:"#222",background:"#ff8b45",weight:"bold",X:!0}):w(a.event.U,{V:[[b,Y(" ("),{Xc:3},Y(")")]],qa:"#222",background:"#ff8b45",weight:"bold",X:!0})}}
function VA(a,b){function c(){a.ma("away");w(a.event.U,{V:[[Y(td)]],qa:"#222",background:"#ff8b45",weight:"bold",X:!0})}0!==b.F.length&&x("Invalid privateShowCancel args: "+b.F);switch(a.status){case "privaterequesting":a.ma("public");w(a.event.U,{V:[[Y(ud)]],qa:"#222",background:"#ff8b45",weight:"bold",X:!0});break;case "away":case "grouprequesting":case "hidden":case "public":break;case "privatewatching":fB(a);bB(a);c();break;case "privatespying":case "privatenotwatching":c();break;default:u("privateShowCancel wrong room status: "+
a.status)}}function WA(a,b){1!==b.F.length&&u("Invalid leavePrivateRoom args: "+b.F);if(b.F[0]===a.username())switch(a.status){case "groupwatching":a.ma("groupnotwatching");fB(a);bB(a);w(a.event.U,{V:[[Y(Gd)]],qa:"#222",background:"#ff8b45",weight:"bold",X:!0});break;default:x("unexpected status: "+a.status)}}
function XA(a,b){3!==b.F.length&&u("Invalid groupShowRequest args: "+b.F);var c=Number(b.F[0]),d=Number(b.F[1]);w(a.event.mj,{Ze:c,Ni:d,nr:Number(b.F[2])});switch(a.status){case "groupwatching":case "groupnotwatching":break;default:0!==c&&(a.zb?("grouprequesting"!==a.status&&a.ma("grouprequesting"),c===d&&w(a.event.Wg,"show"),w(a.event.U,{V:[[Y(kc(c,d))]],qa:"#222",background:"#ff8b45",weight:"bold",X:!1})):w(a.event.U,{V:[[Y(kc(c,d)),Y(" ("),{Xc:4},Y(")")]],qa:"#222",background:"#ff8b45",weight:"bold",X:!1}))}}function YA(a,b){1!==b.F.length&&x("Invalid groupShowApprove args: "+b.F);switch(a.status){case "groupnotwatching":break;case "grouprequesting":eB(a);cB(a);a.ma("groupwatching");break;case "public":case "privaterequesting":a.ma("groupnotwatching");break;default:u("unexpected status: "+a.status)}w(a.event.U,{V:[[Y(Hd)]],qa:"#222",background:"#ff8b45",weight:"bold",X:!0})}
function ZA(a,b){w(a.event.mj,{Ze:0});0!==b.F.length&&x("Invalid groupShowCancel args: "+b.F);b={V:[[Y(Id)]],qa:"#222",background:"#ff8b45",weight:"bold",X:!0};switch(a.status){case "grouprequesting":a.ma("public");w(a.event.U,{V:[[Y(Jd)]],qa:"#222",background:"#ff8b45",weight:"bold",X:!0});break;case "away":case "hidden":case "public":case "privaterequesting":break;case "groupwatching":fB(a);bB(a);a.ma("away");w(a.event.U,b);break;case "groupnotwatching":a.ma("away");w(a.event.U,b);break;default:u("groupShowCancel wrong room status: "+
a.status)}}function $A(a,b){2!==b.F.length?x("Invalid tokenBalanceUpdate args: "+b.F):w(a.event.Kl,{ka:Number(b.F[1])})}function aB(a,b){0!==b.F.length&&u("Invalid awayModeCancel args: "+b.F);switch(a.status){case "away":case "public":case "grouprequesting":case "privaterequesting":w(a.event.U,{V:[[Y(Kd)]],qa:"#222",background:"#ff8b45",weight:"bold",X:!0});a.ma("public");break;default:x("unexpected state: "+a.status)}}
function LA(a,b){var c=new L(b.F[0]),d=N(c,"type");c.Cd("send_to");c.Cd("to_user");if("function"!==typeof gB[d])x("Unhandled onNotify type "+d,{message:b});else(0,gB[d])({B:a,p:c,Fs:1<b.F.length&&"true"===b.F[1]})}var gB={tip_alert:hB,log:iB,refresh_panel:jB,app_tab_refresh:kB,appnotice:lB,apperrorlog:mB,clear_app:nB,room_entry:oB,room_leave:pB,purchase_notification:qB,settingsupdate:rB,hidden_show_status_change:sB,hidden_show_approve:tB,hidden_show_deny:uB,is_restricted_hls_allowed:vB,compliance_image_required:wB};function hB(a){var b=FA(a.B.a(),a.p);void 0!==a.Fs&&a.Fs||w(a.B.event.Wg,xB(b.amount));a.B.zb&&w(a.B.event.oo,b);var c=[""===b.vb.username?Y(te):dr(b.vb),Y(" tipped "+b.amount+" "+(1<b.amount?"tokens":"token"))];b.jt&&c.push(Y(" anonymously"));a.B.zb&&(""!==b.message&&c.push(Y(" -- "+b.message)),Ib("tipping/get_token_balance/").then(function(d){d=new L(d.responseText);P(d,"success")&&w(a.B.event.Kl,{ka:S(d,"token_balance")})}));w(a.B.event.U,{V:[c],background:"#ff3",qa:"#000",weight:"bold",X:b.vb.username===a.B.username()||a.B.zb})}function iB(a){var b=M(a.p,"msg");void 0===b?x("handleLog with an empty msg"):w(a.B.event.fk,b)}function kB(a){w(a.B.event.Io,void 0)}function jB(a){w(a.B.event.Sn,void 0)}
function lB(a){var b=pk(a.p,"msg"),c=[];if("string"===typeof b)c.push([Y("Notice: "+b)]);else if(b instanceof Array){b=l(b);for(var d=b.next();!d.done;d=b.next())c.push([Y("Notice: "+d.value)])}else{x("handleAppNotice error: Invalid message type "+(void 0===b?"undefined":b.toString()));return}w(a.B.event.U,{V:c,background:M(a.p,"background",!1),qa:M(a.p,"foreground",!1),weight:M(a.p,"weight",!1),X:!1})}
function mB(a){if(a.B.zb){var b=pk(a.p,"msg"),c=[];c.push([Y("Error: ")]);if("string"===typeof b)c.push([Y(b)]);else if(b instanceof Array){b=l(b);for(var d=b.next();!d.done;d=b.next())c.push([Y(d.value)])}else{x("handleAppErrorLog error: Invalid message type "+(void 0===b?"undefined":b.toString()));return}w(a.B.event.U,{V:c,X:!1})}}function nB(a){w(a.B.event.pm,void 0)}function oB(a){a.B.Oq(DA(a.p))}function pB(a){a.B.Pq(DA(a.p))}
function qB(a){var b=DA(a.p);!0!==P(a.p,"history")&&u("purchase history is not true?");for(var c=[],d=l(N(a.p,"message").split(new RegExp("\\b"+b.username+"\\b","gi"))),e=d.next();!e.done;e=d.next())e=e.value,""!==e&&c.push(Y(e)),c.push(dr(b));c.pop();b.username===a.B.username()&&Ib("tipping/get_token_balance/").then(function(f){f=new L(f.responseText);P(f,"success")&&w(a.B.event.Kl,{ka:S(f,"token_balance")})});w(a.B.event.U,{V:[c],background:"#33ff33",qa:"#000",weight:"bold",X:b.username===a.B.username()})}
function rB(a){var b=a.p,c={we:P(b,"allow_privates"),qb:S(b,"private_price"),$b:S(b,"spy_price"),Yg:S(b,"private_min_minutes"),xh:P(b,"allow_show_recordings"),ve:P(b,"allow_groups"),mb:S(b,"group_price"),iq:S(b,"minimum_users_for_group_show")};T(b);w(a.B.event.yf,c);a.B.qb!==c.qb&&(a.B.qb=c.qb,b=Y(mc(a.B.a(),c.qb)),w(a.B.event.U,{V:[[b]],X:!0}));a.B.mb!==c.mb&&(a.B.mb=c.mb,b=Y(lc(a.B.a(),c.mb)),w(a.B.event.U,{V:[[b]],X:!0}));a.B.$b!==c.$b&&0!==c.$b&&(a.B.$b=c.$b,c=Y(nc(a.B.a(),c.$b)),w(a.B.event.U,{V:[[c]],X:!0}))}function sB(a){if(!a.B.zb){var b=P(a.p,"is_starting")?"hidden":"public",c=N(a.p,"hidden_message");T(a.p);w(a.B.event.Vm,c);switch(a.B.status){case "grouprequesting":a.B.Tk();break;case "privaterequesting":a.B.aq();break;case "public":case "hidden":break;default:x("handleHiddenShowStatusChange unexpected status: "+a.B.status)}"public"===b?setTimeout(function(){a.B.ma("public")},3E3):a.B.ma(b)}}
function tB(a){P(a.p,"initial_hide_cam")?setTimeout(function(){a.B.ma("public")},2E3):"public"!==a.B.status&&a.B.ma("public")}function uB(a){"public"===a.B.status&&a.B.ma("hidden")}function vB(){}function xB(a){return 1E3<=a?"huge":500<=a?"large":100<=a?"medium":15<=a?"small":"tiny"}var yB=!1;function wB(a){if(!yB){yB=!0;var b="Compliance Image Required!\nPlease visit "+window.location.host+"/verify on your mobile\n     device to verify your identity.";a=sk(a.p,"time");H(void 0!==a&&0<a?b+("\n\nYou have "+a+" minute"+(1===a?"":"s")+" to complete."):b+"\n\nYou must complete this to continue broadcasting, failure to do so may result in broadcasting restrictions.",function(){yB=!1})}};function zB(){this.gj=0}zB.prototype.reset=function(){this.gj=0};var AB={o:"room-owner",m:"moderator",f:"fanclub-user",tr:"tipped-recently-user",g:"standard-user",t:"tipped-user",p:"tipped-lots-user",l:"tipped-tons-user"};function BB(a){this.Hf=this.lh=0;this.pg=[];var b=a.split(",");a=~~b[0];b=b.slice(1);var c=[];b=l(b);for(var d=b.next();!d.done;d=b.next()){var e=l(d.value.split("|"));d=e.next().value;e=e.next().value;e=AB[e];d={username:d,Dc:!1,kd:!1,nf:!1,ld:!1,mg:!1,lg:!1,ng:!1,lf:""};"room-owner"===e?d.Dc=!0:"fanclub-user"===e?d.kd=!0:"tipped-user"===e?d.nf=!0:"moderator"===e?d.ld=!0:"tipped-recently-user"===e?d.mg=!0:"tipped-lots-user"===e?d.lg=!0:"tipped-tons-user"===e&&(d.ng=!0);c.push(d)}this.lh=a+c.length;this.Hf=a;this.pg=c};function CB(a){var b=this;this.d=a;this.status="offline";this.se=void 0;this.Fi=!0;this.Wi=this.Tc=!1;this.Uo=2;this.zb=!1;this.lf="";this.event={ai:new q("messageSent"),yi:new q("roomMessage"),U:new q("roomNotice"),si:new q("privateMessage"),Qb:new q("statusChange",{Je:15}),Vm:new q("hiddenMessageChange"),Sn:new q("refreshPanel"),Il:new q("titleChange"),pm:new q("clearApp"),Gj:new q("removeMessages"),yf:new q("settingsUpdate"),Kj:new q("roomCountUpdate"),jq:new q("modStatusChange"),Kl:rq,Dq:new q("privateShowRequest"),mj:new q("groupShowUpdate"),Wg:new q("playSound"),Io:new q("appTabRefresh"),fk:new q("appDebugLog"),oo:new q("tipAlert")};this.Cd=function(c){b.d.a===b.d.userName?(x("Error: cannot ignore users in this room"),new Promise(function(){return!1})):(w(b.event.U,{V:[[Y("Ignoring "+c)]],X:!0}),A("chat_ignore_list/",{username:c}).then(function(d){if("max"===d.responseText)return w(b.event.U,{V:[[Y("Please signup/login to enable this feature.")]],X:!0}),!1;Cv.add(c);Dv();return!0}).catch(function(d){x("Error posting ignore user: "+
d);return!1}))};this.rr=function(c){w(b.event.U,{V:[[Y("No longer ignoring "+c)]],X:!0});A("chat_ignore_list/",{username:c,remove:"1"}).then(function(){Cv.delete(c);Dv();return!0}).catch(function(d){x("Error posting unignore user: "+d);return!1})};this.Uo=/cb2=1/.test(document.cookie)?2:1;this.zb=this.username()===this.a();this.vi=new zB;this.hq=new GA(this);this.Sb=0===a.ik.indexOf("__anonymous__");!1===this.Sb&&Ev();this.Zg();this.Tc=a.Tc;this.Re=a.la.Re;this.Se=a.la.Se;this.Ru=this.zb?"public":a.fb;this.qb=a.qb;this.$b=a.$b;this.mb=a.mb;this.lf=this.d.lf;this.ma("notconnected")}k=CB.prototype;k.disconnect=function(){this.Fi=!1;void 0!==this.se&&(this.se.close(),this.se=void 0)};k.ma=function(a){if(a!==this.status){var b=this.status;this.status=a;this.zb&&"notconnected"===b&&"public"===this.status&&(Zt(),$t());w(this.event.Qb,{Jd:b,ua:this.status})}};k.kv=function(a,b){this.Re=a;this.Se=b};k.kp=function(){var a=this;if("offline"===this.status||"notconnected"===this.status||"unknown"===this.status)return new Promise(function(c){c({lh:0,Hf:0,pg:[]})});if(void 0!==this.Te)return this.Te;var b={roomname:this.a(),"private":yA(this)};return this.Te=new Promise(function(c,d){Ib("api/getchatuserlist/?"+Ek(b)).then(function(e){e=new BB(e.responseText);c(e);a.Te=void 0}).catch(function(e){d(e);a.Te=void 0})})};k.Zg=function(){var a=this,b,c;0<this.d.host.length&&(this.se=b="http"===this.d.host.substring(0,4)?new SockJS(this.d.host):new WebSocket(this.d.host),b.onclose=function(d){zA("Connection closed:"+JSON.stringify(d));void 0!==c?w(a.event.U,{V:[[Y("Trying to reconnect")]],X:!0}):(w(a.event.U,{V:[[Y("Chat disconnected")]],X:!0}),a.Fi&&(c=setTimeout(function(){w(a.event.U,{V:[[Y("Trying to reconnect")]],X:!0});a.Zg()},wA(a.vi))))},b.onerror=function(d){zA("Connection error:"+JSON.stringify(d));void 0===c&&a.Fi&&(c=setTimeout(function(){a.Zg()},wA(a.vi)))},b.onmessage=function(d){a.hq.Eq(d.data)},b.onopen=function(){DB(a,"connect",{user:a.d.ik,password:a.d.Gr,room:a.d.a,room_password:a.d.Rq})})};k.$q=function(){w(this.event.U,{V:[[Y(ld)]],X:!0});this.vi.reset();dB(this,this.d.Ea)};k.tl=function(a){this.se.send(a)};function DB(a,b,c){c=void 0===c?{}:c;a.tl(JSON.stringify({method:b,data:c}))}
k.Xq=function(a){w(this.event.ai,void 0);U("SendRoomMessage");DB(this,yA(this)?"messagePrivateRoom":"messageRoom",{room:this.d.a,msg:JSON.stringify({v:this.Uo,m:a,f:"",c:""})})};k.Vq=function(a,b){w(this.event.ai,void 0);DB(this,yA(this)?"addPrivateUserMsgToUser":"addUserMsgToUser",{msg:JSON.stringify({v:this.Uo,m:a,f:"",c:""}),room:this.a(),to_user:b})};k.vr=function(){DB(this,"updateRoomCount",{model_name:this.a(),private_room:"privatewatching"===this.status||"groupwatching"===this.status})};k.uu=function(a,b,c){var d=this;return new Promise(function(e,f){"public"!==d.status?f("unexpected status: "+d.status):A("tipping/private_show_request/"+d.a()+"/",{chat_username:d.username(),price:""+a,private_show_minimum_minutes:""+b,recordings_allowed:""+c}).then(function(g){g=new L(g.responseText);var h=N(g,"message",!1);P(g,"success")?(T(g),d.ma("privaterequesting"),w(d.event.U,{V:[[Y(yd)]],qa:"#222",background:"#ff8b45",weight:"bold",X:!0}),e("")):(""===h&&(x("unknown cannot start private show reason"),h="Cannot start private show."),e(h))}).catch(function(g){f(g)})})};k.vu=function(){var a=this;return new Promise(function(b,c){"privatenotwatching"!==a.status?c("unexpected status: "+a.status):A("tipping/spy_on_private_show_request/"+a.a()+"/",{chat_username:a.username()}).then(function(d){d=new L(d.responseText);var e=P(d,"success"),f=N(d,"message",!1);T(d);e?(a.ma("privatespying"),w(a.event.U,{V:[[Y("You are spying on the private show")]],qa:"#222",background:"#ff8b45",weight:"bold",X:!0}),b("")):(""===f&&(f="Error joining spy show"),b(f))}).catch(function(d){c(d)})})};k.Tk=function(){var a=this;switch(this.status){case "groupwatching":break;case "grouprequesting":this.ma("public");break;default:u("unexpected status: "+this.status)}new Promise(function(b){return A("tipping/group_show_cancel/"+a.a()+"/",{}).then(function(){b("")})})};k.aq=function(){var a=this;return new Promise(function(b){var c="tipping/private_show_cancel/"+a.a()+"/",d=a.status;A(c,{}).then(function(e){e=new L(e.responseText);var f=P(e,"success"),g=S(e,"remaining_seconds"),h=O(e,"private_show_minimum_minutes");T(e);switch(d){case "privatewatching":if(!f){0===g?b(wd):(e="You have started a private show with a "+h+" minute minimum. You cannot cancel your private show yet. It still has "+(g+" seconds remaining."),b(e));break}b("");break;case "privatespying":if(!f){b("Unable to cancel spy show");break}a.ma("privatenotwatching");b("");break;case "privaterequesting":if(!f){b("Unable to cancel private request");break}b("");break;default:u("leave private show from status: "+d),f?b(""):b("Unable to leave private show from status: "+d)}})})};k.tu=function(a){var b=this;if("public"!==this.status&&"groupnotwatching"!==this.status)return new Promise(function(d,e){e("unexpected status: "+b.status)});var c=this.status;this.ma("grouprequesting");return new Promise(function(d,e){A("tipping/group_show_request/"+b.a()+"/",{chat_username:b.username(),price:""+a}).then(function(f){f=new L(f.responseText);var g=N(f,"message",!1);P(f,"success")?(w(b.event.U,{V:[[Y("Sending group show request.")]],qa:"#222",background:"#ff8b45",weight:"bold",X:!0}),T(f),d("")):(b.ma(c),""===g&&(x("unknown cannot start group show reason"),g="Cannot start group show."),d(g))}).catch(function(f){b.ma(c);e(f)})})};function bB(a){DB(a,"joinRoom",{room:a.a(),exploringHashTag:a.lf});a.lf=""}function eB(a){DB(a,"leaveRoom",{room:a.a()})}function cB(a){setTimeout(function(){DB(a,"joinPrivateRoom",{room:a.a()})},500)}function fB(a){DB(a,"leavePrivateRoom",{room:a.a()})}k.a=function(){return this.d.a};k.username=function(){return this.d.ik};k.Ng=function(a){var b=Cv;return void 0===b?(x("ignoreSet should not be undefined"),!1):b.has(a)};k.Oq=function(a){if(this.wl(this.Re,a)){var b=this.zb?a.lf:"",c=[Y(fu(this.a(),a)),dr(a),Y(" has joined the room")];""!==b&&(c.push(Y(" (from ")),c.push(er(b,[b])),c.push(Y(")")));c.push(Y("."));w(this.event.U,{V:[c],X:a.username===this.username()})}};k.Pq=function(a){if(this.wl(this.Se,a)){var b=" "+fi;a.Dc&&!EB.has(this.status)&&(b+=" "+gi);w(this.event.U,{V:[[Y(fu(this.a(),a)),dr(a),Y(b)]],X:a.username===this.username()})}};k.wl=function(a,b){if(b.username===this.username())return!1;if(3!==a)if(2===a){if(b.username===this.a()||b.ld||b.kd)return!0}else if(1===a){if(b.username===this.a()||b.ld||b.kd||b.nf&&(this.zb||this.Tc))return!0}else if(0===a&&(b.username===this.a()||b.ld||b.kd||this.zb||this.Tc))return!0;return!1};var EB=new Set(["groupwatching","groupnotwatching","privatewatching","privatenotwatching","privatespying"]);function FB(){return document.documentElement.clientHeight===window.outerHeight?window.innerHeight:Math.max(window.innerHeight,document.documentElement.clientHeight)};function GB(a,b,c,d){jj.call(this);var e=this;this.Hl=a;this.b=b;this.fc=c;this.Ju=d;this.zi="public";this.Ia=0;this.Xh=this.ln=!1;this.jh=new q("tipSent");this.closed=new q("tipClosed");this.isVisible=!1;this.element.style.display="none";this.element.style.position="absolute";this.element.style.width="400px";this.element.style.height="218px";this.element.style.top="0";this.element.style.backgroundColor="#ffffff";this.element.style.border="2px solid #0b5d81";this.element.style.borderRadius="4px";this.element.style.fontFamily="UbuntuRegular, Helvetica, Arial, sans-serif";this.element.style.fontSize="12px";this.element.style.color=F.Ja;this.element.style.overflow="visible";z("keydown",this.element,function(f){27===f.keyCode&&e.j();9===f.keyCode&&(f.shiftKey?e.K.hasFocus()&&!zl(e.K)?e.fa.focus():document.activeElement===e.fa?e.Z.focus():e.K.hasFocus()||zl(e.K):e.K.hasFocus()&&!Al(e.K)?e.Z.focus():document.activeElement===e.Z?e.fa.focus():e.K.hasFocus()||Al(e.K),f.preventDefault())});this.Zi=Lj("74px");this.element.appendChild(this.Zi);this.Ll=Kj("#0b5d81","#e0e0e0","74px");this.element.appendChild(this.Ll);this.uj=Mj();this.element.appendChild(this.uj);this.R.style.bottom="";a=document.createElement("div");a.innerText=Xc;a.style.color="#0b5d81";a.style.backgroundColor="#e0e0e0";a.style.fontSize="15px";a.style.fontFamily="UbuntuBold, Helvetica, Arial, sans-serif";a.style.padding="6px";this.element.appendChild(a);a=document.createElement("div");a.style.display="inline-block";a.style.width="100%";b=document.createElement("span");b.innerText=Ne;b.style.fontWeight="bold";b.style.display="inline-block";b.style.padding="6px";a.appendChild(b);this.tc=document.createElement("span");this.tc.style.display="inline-block";this.tc.style.color="green";this.tc.style.fontWeight="bold";this.tc.style.padding="6px 6px 6px 0";a.appendChild(this.tc);b=document.createElement("a");b.innerText=fd;b.href="/tipping/purchase_tokens/";b.style.display="inline-block";b.style.color="#d55215";b.style.fontSize="11px";b.style.marginLeft="12px";b.style.cssFloat="right";b.style.padding="6px";b.style.textDecoration="underline";b.onclick=function(){ll("/tipping/purchase_tokens/","_blank","height=615, width=850");return!1};a.appendChild(b);this.element.appendChild(a);this.mr=a;this.Za=document.createElement("div");this.Za.style.display="none";this.Za.style.color="#ff0000";this.Za.style.fontWeight="bold";this.Za.style.padding="6px";this.Za.style.textAlign="center";this.Za.style.position="absolute";this.Za.style.left="50%";a=document.createElement("div");a.innerText=Pe;this.Za.appendChild(a);a=document.createElement("div");a.innerText=Qe;this.Za.appendChild(a);this.element.appendChild(this.Za);this.je=document.createElement("form");a=document.createElement("label");b=document.createElement("span");b.innerText=Re;b.style.display="inline-block";b.style.padding="6px";a.appendChild(b);this.Z=Cl();this.Z.value="25";this.Z.min="1";this.Z.style.width="5em";this.Z.style.display="inline-block";this.Z.style.padding="4px";this.Z.style.border="1px solid #b4b4b4";this.Z.style.borderRadius="4px";this.Z.style.marginTop="12px";this.Z.onclick=function(){e.Qh()};a.appendChild(this.Z);this.je.appendChild(a);this.td=document.createElement("div");this.td.innerText=Uc;this.td.style.padding="6px 6px 0 6px";this.je.appendChild(this.td);this.Rd=document.createElement("div");this.fa=document.createElement("textarea");this.fa.maxLength=255;this.fa.style.width="100%";this.fa.style.height="40px";this.fa.style.resize="none";this.fa.style.margin="6px";this.fa.style.padding="4px";this.fa.style.border="1px solid #4b4c4b";this.fa.style.borderRadius="4px";this.fa.style.boxSizing="border-box";this.Rd.appendChild(this.fa);this.je.appendChild(this.Rd);this.td.onclick=function(){e.fa.select()};this.Ed=document.createElement("div");this.Ed.innerText=Se;this.Ed.style.color="red";this.Ed.style.display="none";this.Ed.style.paddingLeft="5px";a.appendChild(this.Ed);a=document.createElement("div");this.Z.oninput=function(){sy(e)};a.style.textAlign="right";a.style.position="relative";this.Kb=document.createElement("div");this.Kb.innerText=Te;this.Kb.style.position="absolute";this.Kb.style.display="none";this.Kb.style.fontSize="10px";this.Kb.style.lineHeight="1.3em";this.Kb.style.padding="6px";this.Kb.style.textAlign="left";this.Kb.style.top="6px";this.Kb.style.left="0px";a.appendChild(this.Kb);this.K=new qy;this.D(this.K,a);this.je.appendChild(a);this.element.appendChild(this.je);t(X,function(f){void 0!==f.h.Um?e.Um=f.h.Um:x("hasLowSatisfactionScore is not defined.");void 0!==f.h.Mb?e.Mb=f.h.Mb:x("isAgeVerified is not defined.");e.N=f.i.a();t(f.i.event.Qb,function(g){switch(g.ua){case "privatewatching":case "groupwatching":e.zi="private";break;default:e.zi="public"}})});t(rq,function(f){e.wr(f.ka)});this.u();z("submit",this.je,function(f){f.preventDefault();var g=parseInt(e.Z.value);e.isVisible&&!isNaN(g)&&e.K.isEnabled()&&(U("SendTipClicked",{amount:g}),100<g&&!e.Xh?(wl(e.K,Yb(g)),e.Xh=!0,e.u()):(e.Z.blur(),uq({N:e.N,ev:e.Z.value,message:""+(void 0!==e.wa?e.wa.value:e.fa.value),source:e.Hl,fv:e.zi,Ji:e.K.Ji,qg:Z()}).then(function(h){h.success?U("SendTipSuccess",{amount:g}):void 0!==h.error?H(h.error):x("unknown send tip error");ty(e);e.fa.value="";void 0!==h.Sd&&w(qq,h.Sd);w(e.jh,{amount:g,success:h.success})}).catch(function(h){x("Error sending tip. status: "+h);w(e.jh,{amount:g,success:!1})}),e.j()))});t(this.Xb,function(){e.j()});t(this.closed,function(){e.K.Tb.j(!0)})}p(GB,jj);k=GB.prototype;k.u=function(){this.Rd.style.width=Math.max(0,this.element.clientWidth-12)+"px";this.Kb.style.maxWidth=Math.max(0,this.element.offsetWidth-this.K.element.offsetWidth-15)+"px";if("fixed"===this.fc.style.position){var a=this.Ju.getBoundingClientRect();this.element.style.top=a.top+eb().scrollTop-30+"px";this.element.style.left=a.left+a.width+12+"px";this.Zi.style.display="none";this.uj.style.display="block";this.Ll.style.display="none"}else this.element.style.top=this.b.element.getBoundingClientRect().bottom-
this.element.offsetHeight+21+eb().scrollTop+268+"px",this.element.style.left="400px",a=this.element.getBoundingClientRect(),ib()?(this.element.style.top=this.b.element.getBoundingClientRect().bottom-this.element.offsetHeight+21+eb().scrollTop+"px",this.element.style.left="400px",this.Zi.style.display="block",this.uj.style.display="none",this.Ll.style.display="none"):a.bottom<=FB()?(this.element.style.top=this.b.element.getBoundingClientRect().bottom-this.element.offsetHeight+21+eb().scrollTop+268+
"px",this.Zi.style.display="none",this.uj.style.display="none",this.Ll.style.display="block"):(a=this.Ju.getBoundingClientRect(),this.element.style.top=a.top+eb().scrollTop-30+"px",this.element.style.left=a.left+a.width+12+"px",a=this.element.getBoundingClientRect(),a.bottom<=FB()?(this.Zi.style.display="none",this.uj.style.display="block"):(this.element.style.top=this.b.element.getBoundingClientRect().bottom-this.element.offsetHeight+21+eb().scrollTop+"px",this.element.style.left="400px",this.Zi.style.display="block",this.uj.style.display="none"),this.Ll.style.display="none");this.R.style.height=document.documentElement.offsetHeight+"px"};k.show=function(a){var b=this;if(!this.Mb)H("This broadcaster doesn't accept tips.");else if(!io('You must be logged in to tip. Click "OK" to login.')){void 0!==a.amount&&(this.Z.value=a.amount.toString(),sy(this));this.fa.value=void 0!==a.message?a.message:"";this.Za.style.display=this.Um?"block":"none";this.Kb.style.display=void 0!==a.Pl&&a.Pl?"none":"block";if(gb()){var c=document.createElement("input");c.type="text";c.style.opacity="0";c.style.height="0px";document.body.appendChild(c);c.focus({preventScroll:!0})}Bl(this.Hl,this.K);this.tc.innerText=me+"...";sq(this.N).then(function(d){b.Z.max=d.Ia.toString();if(void 0!==d.Sj){b.td.innerText=d.Sj.label;void 0!==b.wa&&b.Rd.removeChild(b.wa);b.wa=document.createElement("select");b.wa.style.width="100%";b.wa.style.fontSize=".8125em";b.wa.style.margin="6px";b.wa.style.border="1px solid #4b4c4b";b.wa.style.boxSizing="border-box";b.Rd.appendChild(b.wa);var e=document.createElement("option");e.innerText="-- "+Ve+" --";b.wa.appendChild(e);d=l(d.Sj.options);for(e=d.next();!e.done;e=d.next()){var f=e.value;e=document.createElement("option");e.innerText=f.label;e.value=f.label;b.wa.appendChild(e)}b.fa.style.display="none"}else void 0!==b.wa&&(b.td.innerText=Uc,b.fa.value="",b.fa.style.display="block",b.Rd.removeChild(b.wa),b.wa=void 0);b.element.style.display="block";b.hb();b.u();b.Qh();void 0!==c&&document.body.removeChild(c);b.isVisible=!0}).catch(function(d){x("Error getting token balance. status: "+d);b.tc.innerText=vg})}};k.j=function(){this.element.style.display="none";this.Z.blur();this.Ua();this.isVisible=!1;w(this.closed,void 0)};k.Qh=function(){document.activeElement!==this.Z&&(this.Z.focus(),this.Z.setSelectionRange(0,9999))};k.wr=function(a){this.Ia=a;this.tc.innerText=a+" "+Xb(a,!1)};k.Ks=function(){if(null===this.element.parentElement){this.element.style.visibility="hidden";document.body.appendChild(this.element);this.element.style.width=this.mr.offsetWidth+"px";this.element.style.minWidth="345px";this.element.style.height="auto";var a=[this.element.offsetWidth,this.element.offsetHeight];document.body.removeChild(this.element);this.element.style.visibility="visible";return a}x("called getContentSize when window is already attached");return[this.element.offsetWidth,this.element.offsetHeight]};function HB(){G.call(this);this.Yi=new Ez;this.mn=0;this.Ha=new Ma;this.Vc={a:"",Ea:""}}p(HB,G);k=HB.prototype;k.Ck=function(){};k.zp=function(){};k.tp=function(){};k.up=function(){};k.vp=function(){};k.xp=function(){this.b.A.stop()};k.yp=function(){window.top.location.href="/auth/login/?next="+window.location.pathname+window.location.search};k.wp=function(){};k.Rf=function(){};k.Ss=function(){};k.Ad=function(){};function IB(a){a.D(new ju);var b;t(iu,function(c){void 0===b&&(b=new ju);b.show(c)})}
function JB(a){t(Tk,function(b){a.$e=b.$e;a.b.A instanceof Kn&&KB(a)});Fz(a.Yi,"huge","https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/sounds/huge.mp3");Fz(a.Yi,"large","https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/sounds/large.mp3");Fz(a.Yi,"medium","https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/sounds/medium.mp3");Fz(a.Yi,"small","https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/sounds/small.mp3");Fz(a.Yi,"tiny","https://ssl-ccstatic.highwebmedia.com/tsdefaultassets/sounds/tiny.mp3")}
function LB(a,b,c){a.Pa=a.D(new GB("theater",a.b,b,c));t(Rk,function(d){a.Pa.isVisible?a.Pa.j():a.Pa.show(d)});t(a.Pa.jh,function(){a.Pa.j()})}k.ar=function(){var a;t(up,function(b){void 0===a&&(a=new vp);a.show(b)});t(Sk,function(b){sp(b)});ho=function(){w(Sk,!0)}};function MB(a){var b=new Gm(function(){a.W();a.Ad()},{$i:20,zm:2}),c=new Gm(function(){w(Uk,void 0)},{$i:250,zm:2});window.onresize=function(){Hm(c);Hm(b)};window.onorientationchange=function(){tj();a.W()}}
function NB(a,b){a.vj(b,!0);t(Mk,function(c){a.vj(c,!0)});t(X,function(c){a.Rf(c)})}function OB(a,b){a.i=b.Rv?new xA(b):new CB(b)}k.Xn=function(a,b){document.title=a+" at Chaturbate: "+b};function KB(a){function b(){void 0===window.xmovie.SetTipVol?setTimeout(function(){b()},100):window.xmovie.SetTipVol(a.$e)}b()}
k.vj=function(a,b){var c=this;Hk=a;if(a!==this.Vc.a){this.Vc={a:a,Ea:""};var d=this.mn+=1;this.Ms(a).then(function(e){d===c.mn&&c.tq(e,b)}).catch(function(e){if(e instanceof Fb&&""!==e.Ud.responseText)if("application/json"!==e.Ud.getResponseHeader("Content-Type"))x("Error reading room dossier error",{room:a,error:e.Ud.responseText});else{var f=new L(e.Ud.responseText);switch(M(f,"code",!1)){case "access-denied":H("Access Denied for room: "+a+"\n\n"+N(f,"detail"));break;case "unauthorized":c.yp(a);break;case "password-required":c.wp(a);break;default:x("Error parsing room dossier error",{room:a,error:e.Ud.responseText})}}else x("Error occurred while processing room dossier: "+e,{room:a})});Gb()}};k.Ms=function(a){return hn(a)};k.tq=function(a,b){var c=this;void 0!==this.gd&&this.gd();void 0!==this.Or&&this.Or();this.Xn(a.a,a.Ea);this.Vc.Ea=a.Ea;OB(this,a);t(this.i.event.Il,function(g){c.Xn(a.a,g)});this.$e=a.la.$e;t(this.i.event.Wg,function(g){c.tp(g)});void 0!==a.bb?this.zp(a.bb):x("isWidescreen is not defined.",{},"VIDEO_");var d={h:a,i:this.i};this.b.A.Rf(d);var e,f;this.gd=function(){clearInterval(e);window.clearTimeout(f);c.i.disconnect();c.b.A.stop();Oa(c.Ha);w(Wk,void 0)};b&&this.Ck(a);this.Tp(d.h)?this.up():this.vp();w(X,d);this.Ha.add(t(this.i.event.Qb,function(g){"notconnected"===g.Jd&&(e=setInterval(function(){c.i.vr()},3E4));var h=["privatewatching","groupwatching"];h=0<=h.indexOf(g.Jd)||0<=h.indexOf(g.ua);if("notconnected"===g.Jd||h)f=setTimeout(function(){c.i.vr()},2E3);switch(g.ua){case "passwordprotected":c.xp(c.i)}c.Ss(g)}));this.Ha.add(t(Tk,function(g){c.i.kv(g.Re,g.Se)}));this.W()};k.Tp=function(a){return"offline"===a.fb};function PB(){G.call(this);this.Mm=document.createElement("frameset");this.frame=document.createElement("frame");this.pb=document.createElement("div");this.element.style.position="static";this.Xo();this.Mm.appendChild(this.frame)}p(PB,G);function QB(a,b,c){a.frame.src=b;a.pb.style.display="block";window.onFrameLoad=function(d){void 0!==c&&c(d);a.pb.style.display="none"}}function RB(a){document.body.insertBefore(a.element,document.body.firstChild);document.documentElement.appendChild(a.Mm)}
PB.prototype.Xo=function(){this.pb.style.animationName="spin";this.pb.style.position="absolute";this.pb.style.top="50%";this.pb.style.left="50%";this.pb.style.width="30px";this.pb.style.height="31px";this.pb.style.margin="-15px 0 0 -15px";this.pb.style.background='url("https://ssl-ccstatic.highwebmedia.com/tsdefaultassets//loading_spinner.svg")';this.pb.style.backgroundSize="cover";this.pb.style.animationName="spin";this.pb.style.webkitAnimationName="spin";this.pb.style.animationDuration="2s";this.pb.style.webkitAnimationDuration="2s";this.pb.style.animationTimingFunction="linear";this.pb.style.webkitAnimationTimingFunction="linear";this.pb.style.animationIterationCount="infinite";this.pb.style.webkitAnimationIterationCount="infinite";this.pb.style.zIndex="-1";this.element.appendChild(this.pb)};function SB(a){var b=document.querySelector("#login_inputs form");null!==b&&(b.action=TB(b.action,"next","/"+a+"/"));b=document.querySelector('#login_inputs input[name="next"]');null!==b&&(b.value="/"+a+"/")}function UB(a){var b=document.querySelector(".nav-bar .creat");null===b&&(b=document.querySelector("#user_information .auip_creat"));null!==b&&(b.href=TB(b.href,"room",a))}
function TB(a,b,c){var d=void 0===d?!0:d;var e=a.split(/\s*[?&]\s*/).reduce(function(f,g){return 0===g.indexOf(b+"=")?g:f},"");return""!==e?a.replace(e,b+"="+c):d&&-1!==a.indexOf("?")?a+"&"+b+"="+c:d?a+"?"+b+"="+c:a};function VB(a){Ta()&&(WB?window.history.pushState({type:"nav",path:a},"",""+a):window.history.replaceState({type:"nav",path:a},"",""+a))}var WB=!1;function XB(a,b,c){HB.call(this,a,b);var d=this;this.context=c;this.Oj=new sz;this.Mg=this.tm=this.Hg=!1;this.uc=!0;this.Or=function(){YB(d,!0);ZB(d)};c=document.getElementById("main");F.Up&&(c.style.backgroundColor=F.vm);c.style.color=F.Xe;c.style.font="1em 'UbuntuRegular',Arial,Helvetica,sans-serif";c.appendChild(this.element);this.element.style.position="static";this.element.style.minWidth="1000px";this.element.style.boxSizing="border-box";this.element.focus();IB(this);JB(this);this.ar();$B(this);aC(this,a,b);LB(this,this.C.fc,this.C.Qa.K);NB(this,a);MB(this);bC(this);z("scroll",window,function(){d.pc.W();cC(d)},!1,!0);z("popstate",window,function(e){void 0!==e.state&&null!==e.state&&("room"===e.state.type?d.vj(e.state.room,!1):dC(d,e.state.path,!1))});t(rq,function(e){d.C.Qa.Ia.innerText=""+e.ka;d.C.Qa.Jl.innerText=" "+Xb(e.ka,!1);Dl(e.ka)});t(co,function(e){dC(d,e,!0)});t(po,function(){d.b.A instanceof Kn&&KB(d);d.b.A.Ld();qx(d.b,!0)});t(qo,function(){"split"===Z()?d.b.A.Md():d.b.A.Ld();d.b.A instanceof Kn&&KB(d);qx(d.b,!1);d.W()});t(this.b.oe,function(e){(d.uc=e)?YB(d):cC(d)});this.W();this.Gf()}p(XB,HB);k=XB.prototype;k.Ss=function(a){-1!=="away groupnotwatching privatenotwatching hidden offline unknown notconnected passwordprotected".split(" ").indexOf(a.ua)?(eo=this.Hg=!1,this.Mg&&void 0!==this.gd&&(this.gd(),this.Vc={a:"",Ea:""},this.gd=void 0,YB(this,!0)),YB(this),this.b.Cr=!0):(this.Hg=!0,eo=!this.tm,cC(this),this.b.Cr=!1)};k.u=function(){var a=Z();switch(a){case "split":a=this.element.clientWidth-32-12-2*this.C.ah;"none"!==this.bf.element.style.display&&(a=a-this.bf.element.offsetWidth-6);this.C.element.style.width=a+"px";this.H.element.style.top="0";break;case "theater":a=this.element.clientWidth-8-2*this.C.ah;"none"!==this.bf.element.style.display&&(a=a-this.bf.element.offsetWidth-18);this.C.element.style.width=a+"px";this.C.Hj.Ad(a);this.H.element.style.top="0";this.b.uv=this.C.Od.offsetHeight+this.C.lq.offsetHeight+
this.C.rk.element.offsetHeight+this.C.Cx.bc.offsetHeight+this.zc.element.offsetHeight;break;case "fullscreen":break;default:x("Unexpected VideoMode: "+a,{},"VIDEO_")}};k.Ms=function(a){return WB?hn(a):gn(window.initialRoomDossier)};k.tq=function(a,b){HB.prototype.tq.call(this,a,b);U("LoadRoom",{version:2});this.Oj.Nv(this.i);this.Kn.j()};k.tp=function(a){HB.prototype.tp.call(this,a);this.b.A instanceof Kn?window.xmovie.PlayBeep(a):this.Yi.Wg(a,this.$e*this.b.A.Pf()/100)};k.Xn=function(a){document.title=Wb(a)};k.zp=function(a){HB.prototype.zp.call(this,a);var b=this.b;b.bb=a;b.A instanceof Kn&&(b.A.Vp=a);b.W()};k.Ck=function(a,b){if(Ta()){var c="";if(void 0===b||b)b=Fk(),b.from_tube!==a.a&&delete b.from_tube,WB&&delete b.join_overlay,void 0!==b.advanced_options&&delete b.advanced_options,b=Ek(b),""!==b&&(c="?"+b);WB?window.history.pushState({type:"room",room:a.a},a.Ea,"/"+a.a+"/"+c):window.history.replaceState({type:"room",room:a.a},a.Ea,"/"+a.a+"/"+c)}};k.up=function(){HB.prototype.up.call(this);this.C.fc.style.position="fixed";this.C.fc.style.top="999999px";this.C.rk.element.style.display="none";this.C.Od.style.display="none";this.C.lq.style.display="none";this.C.Hd.style.display="block";null!==this.C.Hd.parentElement?this.C.Hd.parentElement.insertBefore(this.C.Qa.K,this.C.Hd.nextSibling):x("Error inserting roomContents.videoPanel.sendTipButton: roomContents.offlineRoomNotice.parentElement is null");this.Hg=!1;YB(this);eo=!1};k.vp=function(){HB.prototype.vp.call(this);this.C.fc.style.position="";this.C.fc.style.top="";this.C.fc.style.display="block";this.C.rk.element.style.display="block";this.C.Od.style.display="block";this.C.lq.style.display="block";this.C.Hd.style.display="none";null!==this.C.Qa.ul.parentElement?this.C.Qa.ul.parentElement.insertBefore(this.C.Qa.K,this.C.Qa.ul.nextSibling):x("Error inserting sendTipButton: sendTipButtonPlaceholder.parentElement is null");this.tm=!1;eo=this.Hg=!0};k.Tp=function(a){return HB.prototype.Tp.call(this,a)&&!this.context.Xw};k.xp=function(a){HB.prototype.xp.call(this,a);this.Kn.show(a.a());this.Vc={a:"",Ea:""};this.C.element.style.display="none";this.bf.element.style.display="none";this.dk.element.style.display="none";Oq(this.zc,a.a());this.b.A.stop()};k.yp=function(a){HB.prototype.yp.call(this,a);this.Ck({a:a,Ea:"Chat with "+a});this.Hg=!1;YB(this);eo=!1;void 0!==this.gd&&this.gd();this.Vc={a:"",Ea:""};this.gd=void 0;this.Kn.show(a);this.C.element.style.display="none";this.bf.element.style.display="none";this.dk.element.style.display="none";Oq(this.zc,a);ZB(this);UB(a);SB(a)};k.wp=function(a){HB.prototype.wp.call(this,a);this.Ck({a:a,Ea:"Chat with "+a});this.Hg=!1;YB(this);eo=!1;void 0!==this.gd&&(this.gd(),YB(this,!0));YB(this);this.Vc={a:"",Ea:""};this.gd=void 0;this.Kn.show(a);this.C.element.style.display="none";this.bf.element.style.display="none";this.dk.element.style.display="none";Oq(this.zc,a);ZB(this);UB(a);SB(a)};function $B(a){a.Qu=a.D(new pz);t(a.Qu.Dt,function(){a.u()})}
function eC(a){a.H=new kz("theater",a.Oj);a.H.element.style.left="0";a.H.aa.element.style.zIndex="";a.H.element.style.position="fixed";a.H.element.style.width="100%";qb("click",a.H.aa.ha.Y.w.ih,uv);a.H.aa.ha.Y.w.ih.onclick=function(b){b.stopPropagation();b.preventDefault();w(Lk,{})}}function fC(a){a.pc=new Nx(a.H.aa.ha.Y.w);new Bz(a.H,a.pc)}k.xm=function(a,b){this.zc=this.D(new Mq(a));this.D(new rz);this.b=new px(b,this.zc.element);fj(this.zc,new uz(this.zc,this.b))};function aC(a,b,c){eC(a);fC(a);a.xm(b,c);a.H.element.onclick=function(){a.b.S.toggle();a.H.yc===a.H.aa&&a.H.$m!==a.H.aa&&Vm(a.H,void 0)};b=new $w;a.bf=a.D(new cx(b));a.bf.element.style.cssFloat="right";a.C=a.D(new Ww(a.b,a.H,a.pc));a.b.C=a.C;a.b.S.Hs=a.C.Qa.element;a.C.Qa.D(a.pc);a.H.element.style.visibility="hidden";a.C.fc.style.position="fixed";a.C.fc.style.top="999999px";a.Kn=a.D(new qz);a.dk=a.D(new dx(b));Tx(a.H,a.C.ha);window.use_uploaded_emoticon=function(d){"split"===Z()?mw(a.C.qp(),d):mw(a.H.aa.qp(),d)};t(Du.fd,function(d){Du.qg=d.Ih;gC(a);switch(Z()){case "split":void 0!==a.H.$c&&w(Lk,{});void 0!==a.H.af&&w(Nk,void 0);a.b.element.appendChild(a.b.Oi.R);a.b.element.appendChild(a.b.Oi.element);a.Oj.Tr(a.Pa);a.b.A.Md();break;case "theater":void 0!==a.H.af&&w(Nk,void 0);a.H.element.appendChild(a.b.Oi.R);a.H.element.appendChild(a.b.Oi.element);a.b.A.Ld();break;case "fullscreen":a.H.element.appendChild(a.b.Oi.R);a.H.element.appendChild(a.b.Oi.element);a.b.A.Ld();a.Pa.j();break;default:x("Unexpected VideoMode: "+
Z(),{},"VIDEO_")}a.W()});Zw(a.C)}k.W=function(){this.Mg||HB.prototype.W.call(this)};function gC(a){WB&&("split"===Z()?a.C.ha.Y.w.sa():"theater"===Z()&&a.pc.sa(),setTimeout(function(){var b=a.b.element.getBoundingClientRect();if(a.C.fc.getBoundingClientRect().bottom>document.documentElement.clientHeight||b.bottom<.6*b.height)eb().scrollTop=a.zc.element.offsetTop+a.Qu.element.offsetHeight;a.W()},0))}
k.vj=function(a,b){var c=this;a===this.Vc.a?(window.location.pathname!=="/"+this.Vc.a+"/"&&this.Ck(this.Vc,!1),ZB(this),this.W(),setTimeout(function(){cC(c)},0)):HB.prototype.vj.call(this,a,b)};k.Rf=function(a){HB.prototype.Rf.call(this,a);this.Pa.j();this.Xn(a.h.a);this.C.element.style.display="block";a.h.Pg||a.h.hn||""===a.h.cm.header?(this.bf.element.style.display="none",this.dk.element.style.display="none"):(this.bf.element.style.display="block",this.dk.element.style.display="block");this.$e=a.h.la.$e;this.b.A instanceof Kn&&KB(this);Dl(a.h.Ia);UB(a.h.a);SB(a.h.a);this.ot=a.h.Nf;void 0!==this.lc&&(Bo(this.lc,a.h.a),a=this.lc,this.ot?yo(a,!1):zo(a,!1));this.W();WB||(WB=!0);gC(this)};function bC(a){a.H.element.ontouchstart=function(){a.ll=!0;setTimeout(function(){a.ll=!1},500)};a.H.element.onmousemove=function(){a.ll||a.b.S.Ue()};a.b.A instanceof Os&&(a.b.A.element.ontouchstart=function(){"split"===Z()&&(a.ll=!0,setTimeout(function(){a.ll=!1},500))},a.b.A.element.onmousemove=function(){"split"===Z()&&(a.ll||a.b.S.Ue())})}
function cC(a){if(!a.Mg&&!a.tm){var b=a.C.element.offsetTop+a.b.element.offsetTop+a.b.element.offsetHeight,c=eb().scrollTop;a.context.Hm&&a.Hg&&!a.uc&&c>b+50?(void 0===a.lc&&(a.lc=hC(a)),a.lc.show()):c<b+40&&YB(a)}}
function dC(a,b,c){if(a.context.Hm&&a.Hg&&!a.uc&&""!==a.Vc.a){a.Mg||(a.Nn=a.b.A.Pf());a.Mg=!0;void 0===a.di&&(a.di=new PB);c&&VB(b);var d=a.di;QB(a.di,b,function(e){function f(g){return function(h){var m=new CustomEvent(g,{bubbles:!0,cancelable:!1});m.clientX=h.clientX;m.clientY=h.clientY;m.buttons=h.buttons;m.screenX=h.screenX;m.screenY=h.screenY;m.ctrlKey=h.ctrlKey;m.altKey=h.altKey;d.element.dispatchEvent(m)}}fo(e.document,!0);document.title=e.document.title;z("mousemove",e.document,f("mousemove"));z("mouseup",e.document,f("mouseup"));t(ro,function(){e.login_required()});e.document.disableFloatingPlayer=a.jw.bind(a);e.document.enableFloatingPlayer=a.mw.bind(a)});RB(a.di);b=document.getElementById("main");c=document.getElementById("footer-holder");document.getElementById("header").style.display="none";b.style.display="none";c.style.display="none";void 0===a.lc&&(a.lc=hC(a));qx(a.b,!0);a.b.A.ke(!0);a.lc.show();a.b.A.Ld()}else window.location.href=b}
function hC(a){function b(){a.tm=!0;eo=!1;a.Mg&&void 0!==a.gd&&(a.gd(),a.Vc={a:"",Ea:""},a.gd=void 0,YB(a,!0))}if(void 0!==a.lc)return a.lc;var c=new so(a.b,function(){window.location.pathname!=="/"+a.Vc.a+"/"&&U("FloatingNavClicked");a.vj(a.Vc.a,!1);eb().scrollTop=a.zc.element.offsetTop},b);t(Qn,function(d){a.Mg&&!d.active&&!0===d.Fr&&(b(),c.j())});Bo(c,a.Vc.a);a.ot?yo(c,!1):zo(c,!1);return c}function YB(a,b){void 0!==a.lc&&a.lc.j(void 0===b?!1:b)}
function ZB(a){a.Mg=!1;if(void 0!==a.di&&null!==a.di.Mm.parentElement){a.b.S.ph(0===a.Nn);a.b.S.Li(a.Nn);a.b.A.Ei(a.Nn,0===a.Nn);a=a.di;document.body.removeChild(a.element);document.documentElement.removeChild(a.Mm);a=document.getElementById("main");var b=document.getElementById("footer-holder");document.getElementById("header").style.display="block";a.style.display="block";b.style.display="block"}}k.Ad=function(){void 0!==this.lc&&this.lc.W()};k.jw=function(){void 0!==this.lc&&(this.lc.close(),this.lc=void 0,this.context.Hm=!1)};k.mw=function(){this.context.Hm=!0};var iC,jC=["total_viewers","image_url","password_warning"];function kC(a){clearTimeout(iC);if(!a.Sb){var b="contest/log/"+a.a()+"/";iC=setTimeout(function(){Ib(b).then(function(c){c=new L(c.responseText);for(var d=P(c,"can_access"),e=P(c,"is_banned"),f=P(c,"has_warnings"),g=l(jC),h=g.next();!h.done;h=g.next())c.Cd(h.value);d||window.location.reload();e&&(window.location.href="/");f&&(window.location.href="/accounts/site_message/?next="+window.location.href);kC(a);T(c)}).catch(function(c){x("log_presence failed "+c)})},55E3)}};var lC;function mC(){"WebSocket"in window&&"recommender_websocket_url"in window&&""!==window.recommender_websocket_url&&(t(X,function(a){void 0===a.h.lu?x("recommenderHmac not available"):(void 0!==lC&&x("socket not closed"),lC=nC(a.h.userName,a.h.a,a.h.lu))}),t(Wk,function(){void 0===lC?x("socket not open"):(lC.close(),lC=void 0)}))}
function nC(a,b,c){var d=new WebSocket(window.recommender_websocket_url,"cbrec");d.onopen=function(){d.send(JSON.stringify({cmd:"open",room:b,user:a,hmac:c}))};d.onerror=function(f){x("communicateWithRecommender error",{event:f})};var e=setInterval(function(){d.readyState===WebSocket.OPEN&&d.send(JSON.stringify({cmd:"ping"}))},2E4);d.onclose=function(){clearInterval(e)};return d};function oC(){Eq.apply(this,arguments)}p(oC,Eq);oC.prototype.vq=function(a){Eq.prototype.vq.call(this,a);this.context.Xw=a.is_testbed;this.context.Hm=a.enabled_floatingplayer};oC.prototype.Vh=function(){Eq.prototype.Vh.call(this);pC(this)};oC.prototype.Ps=function(){};function pC(a){var b=window.location.pathname.replace(/\//g,"");document.title=Wb(b);Lq().then(function(c){new XB(b,c,a.context)});t(X,function(c){ga("set","page",c.h.a);ga("send","pageview");kC(c.i);U("RoomLoaded",{location:"desktop"})});mC();fo(document)}window.TS=oC;var qC=window.newrelic;function rC(a,b,c){c=void 0===c?{}:c;try{if(void 0!==qC){var d={};d["attributes.level"]=a;for(var e in c)d["attributes."+e]=c[e];qC.noticeError(b,d)}}catch(f){x("New Relic Error in reportError: "+f.toString())}}function Nb(a,b){void 0!==window.console&&console.info(a,void 0===b?"":b)}
function u(a,b,c){c=void 0===c?"":c;void 0!==window.console&&console.warn(c.concat("WARN "),a,void 0===b?"":b);try{var d="object"===typeof a?JSON.stringify(a):a.toString()}catch(e){d=""+a}rC(c.concat("WARN"),Error(d),b)}function x(a,b,c){c=void 0===c?"":c;void 0!==window.console&&console.error(c.concat("ERROR "),a,void 0===b?"":b);try{var d="object"===typeof a?JSON.stringify(a):a.toString()}catch(e){d=""+a}rC(c.concat("ERROR"),Error(d),b)}function zA(){}
window.onerror=function(a,b,c,d,e){try{var f=JSON.stringify(e)}catch(g){f=""+e}x(['"Message: " '+a,'"URL: "  '+b,'"Line: " '+c,'"Column: " '+d,'"Error object: " '+f].join("\n"),{},"",!0);return!1};}).call(this);